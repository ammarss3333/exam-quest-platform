var IN=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var fz=IN((gz,Ku)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function q2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sg={exports:{}},Hc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT;function ON(){if(pT)return Hc;pT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Hc.Fragment=e,Hc.jsx=n,Hc.jsxs=n,Hc}var gT;function MN(){return gT||(gT=1,sg.exports=ON()),sg.exports}var y=MN(),ag={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function PN(){if(yT)return Oe;yT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),T=Symbol.iterator;function S(w){return w===null||typeof w!="object"?null:(w=T&&w[T]||w["@@iterator"],typeof w=="function"?w:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,O={};function B(w,K,te){this.props=w,this.context=K,this.refs=O,this.updater=te||M}B.prototype.isReactComponent={},B.prototype.setState=function(w,K){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,K,"setState")},B.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function k(){}k.prototype=B.prototype;function G(w,K,te){this.props=w,this.context=K,this.refs=O,this.updater=te||M}var ce=G.prototype=new k;ce.constructor=G,j(ce,B.prototype),ce.isPureReactComponent=!0;var ue=Array.isArray;function Q(){}var D={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(w,K,te){var oe=te.ref;return{$$typeof:t,type:w,key:K,ref:oe!==void 0?oe:null,props:te}}function V(w,K){return N(w.type,K,w.props)}function L(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function F(w){var K={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(te){return K[te]})}var P=/\/+/g;function ke(w,K){return typeof w=="object"&&w!==null&&w.key!=null?F(""+w.key):K.toString(36)}function de(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Q,Q):(w.status="pending",w.then(function(K){w.status==="pending"&&(w.status="fulfilled",w.value=K)},function(K){w.status==="pending"&&(w.status="rejected",w.reason=K)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function H(w,K,te,oe,fe){var pe=typeof w;(pe==="undefined"||pe==="boolean")&&(w=null);var me=!1;if(w===null)me=!0;else switch(pe){case"bigint":case"string":case"number":me=!0;break;case"object":switch(w.$$typeof){case t:case e:me=!0;break;case v:return me=w._init,H(me(w._payload),K,te,oe,fe)}}if(me)return fe=fe(w),me=oe===""?"."+ke(w,0):oe,ue(fe)?(te="",me!=null&&(te=me.replace(P,"$&/")+"/"),H(fe,K,te,"",function(tt){return tt})):fe!=null&&(L(fe)&&(fe=V(fe,te+(fe.key==null||w&&w.key===fe.key?"":(""+fe.key).replace(P,"$&/")+"/")+me)),K.push(fe)),1;me=0;var xe=oe===""?".":oe+":";if(ue(w))for(var Se=0;Se<w.length;Se++)oe=w[Se],pe=xe+ke(oe,Se),me+=H(oe,K,te,pe,fe);else if(Se=S(w),typeof Se=="function")for(w=Se.call(w),Se=0;!(oe=w.next()).done;)oe=oe.value,pe=xe+ke(oe,Se++),me+=H(oe,K,te,pe,fe);else if(pe==="object"){if(typeof w.then=="function")return H(de(w),K,te,oe,fe);throw K=String(w),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return me}function ne(w,K,te){if(w==null)return w;var oe=[],fe=0;return H(w,oe,"","",function(pe){return K.call(te,pe,fe++)}),oe}function he(w){if(w._status===-1){var K=w._result;K=K(),K.then(function(te){(w._status===0||w._status===-1)&&(w._status=1,w._result=te)},function(te){(w._status===0||w._status===-1)&&(w._status=2,w._result=te)}),w._status===-1&&(w._status=0,w._result=K)}if(w._status===1)return w._result.default;throw w._result}var be=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},q={map:ne,forEach:function(w,K,te){ne(w,function(){K.apply(this,arguments)},te)},count:function(w){var K=0;return ne(w,function(){K++}),K},toArray:function(w){return ne(w,function(K){return K})||[]},only:function(w){if(!L(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return Oe.Activity=b,Oe.Children=q,Oe.Component=B,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=G,Oe.StrictMode=i,Oe.Suspense=d,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(w){return D.H.useMemoCache(w)}},Oe.cache=function(w){return function(){return w.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(w,K,te){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var oe=j({},w.props),fe=w.key;if(K!=null)for(pe in K.key!==void 0&&(fe=""+K.key),K)!A.call(K,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&K.ref===void 0||(oe[pe]=K[pe]);var pe=arguments.length-2;if(pe===1)oe.children=te;else if(1<pe){for(var me=Array(pe),xe=0;xe<pe;xe++)me[xe]=arguments[xe+2];oe.children=me}return N(w.type,fe,oe)},Oe.createContext=function(w){return w={$$typeof:u,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:l,_context:w},w},Oe.createElement=function(w,K,te){var oe,fe={},pe=null;if(K!=null)for(oe in K.key!==void 0&&(pe=""+K.key),K)A.call(K,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(fe[oe]=K[oe]);var me=arguments.length-2;if(me===1)fe.children=te;else if(1<me){for(var xe=Array(me),Se=0;Se<me;Se++)xe[Se]=arguments[Se+2];fe.children=xe}if(w&&w.defaultProps)for(oe in me=w.defaultProps,me)fe[oe]===void 0&&(fe[oe]=me[oe]);return N(w,pe,fe)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(w){return{$$typeof:f,render:w}},Oe.isValidElement=L,Oe.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:he}},Oe.memo=function(w,K){return{$$typeof:p,type:w,compare:K===void 0?null:K}},Oe.startTransition=function(w){var K=D.T,te={};D.T=te;try{var oe=w(),fe=D.S;fe!==null&&fe(te,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Q,be)}catch(pe){be(pe)}finally{K!==null&&te.types!==null&&(K.types=te.types),D.T=K}},Oe.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Oe.use=function(w){return D.H.use(w)},Oe.useActionState=function(w,K,te){return D.H.useActionState(w,K,te)},Oe.useCallback=function(w,K){return D.H.useCallback(w,K)},Oe.useContext=function(w){return D.H.useContext(w)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(w,K){return D.H.useDeferredValue(w,K)},Oe.useEffect=function(w,K){return D.H.useEffect(w,K)},Oe.useEffectEvent=function(w){return D.H.useEffectEvent(w)},Oe.useId=function(){return D.H.useId()},Oe.useImperativeHandle=function(w,K,te){return D.H.useImperativeHandle(w,K,te)},Oe.useInsertionEffect=function(w,K){return D.H.useInsertionEffect(w,K)},Oe.useLayoutEffect=function(w,K){return D.H.useLayoutEffect(w,K)},Oe.useMemo=function(w,K){return D.H.useMemo(w,K)},Oe.useOptimistic=function(w,K){return D.H.useOptimistic(w,K)},Oe.useReducer=function(w,K,te){return D.H.useReducer(w,K,te)},Oe.useRef=function(w){return D.H.useRef(w)},Oe.useState=function(w){return D.H.useState(w)},Oe.useSyncExternalStore=function(w,K,te){return D.H.useSyncExternalStore(w,K,te)},Oe.useTransition=function(){return D.H.useTransition()},Oe.version="19.2.0",Oe}var vT;function Xy(){return vT||(vT=1,ag.exports=PN()),ag.exports}var I=Xy();const Ga=q2(I);var og={exports:{}},qc={},lg={exports:{}},cg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function VN(){return _T||(_T=1,(function(t){function e(H,ne){var he=H.length;H.push(ne);e:for(;0<he;){var be=he-1>>>1,q=H[be];if(0<a(q,ne))H[be]=ne,H[he]=q,he=be;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var ne=H[0],he=H.pop();if(he!==ne){H[0]=he;e:for(var be=0,q=H.length,w=q>>>1;be<w;){var K=2*(be+1)-1,te=H[K],oe=K+1,fe=H[oe];if(0>a(te,he))oe<q&&0>a(fe,te)?(H[be]=fe,H[oe]=he,be=oe):(H[be]=te,H[K]=he,be=K);else if(oe<q&&0>a(fe,he))H[be]=fe,H[oe]=he,be=oe;else break e}}return ne}function a(H,ne){var he=H.sortIndex-ne.sortIndex;return he!==0?he:H.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],p=[],v=1,b=null,T=3,S=!1,M=!1,j=!1,O=!1,B=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ce(H){for(var ne=n(p);ne!==null;){if(ne.callback===null)i(p);else if(ne.startTime<=H)i(p),ne.sortIndex=ne.expirationTime,e(d,ne);else break;ne=n(p)}}function ue(H){if(j=!1,ce(H),!M)if(n(d)!==null)M=!0,Q||(Q=!0,F());else{var ne=n(p);ne!==null&&de(ue,ne.startTime-H)}}var Q=!1,D=-1,A=5,N=-1;function V(){return O?!0:!(t.unstable_now()-N<A)}function L(){if(O=!1,Q){var H=t.unstable_now();N=H;var ne=!0;try{e:{M=!1,j&&(j=!1,k(D),D=-1),S=!0;var he=T;try{t:{for(ce(H),b=n(d);b!==null&&!(b.expirationTime>H&&V());){var be=b.callback;if(typeof be=="function"){b.callback=null,T=b.priorityLevel;var q=be(b.expirationTime<=H);if(H=t.unstable_now(),typeof q=="function"){b.callback=q,ce(H),ne=!0;break t}b===n(d)&&i(d),ce(H)}else i(d);b=n(d)}if(b!==null)ne=!0;else{var w=n(p);w!==null&&de(ue,w.startTime-H),ne=!1}}break e}finally{b=null,T=he,S=!1}ne=void 0}}finally{ne?F():Q=!1}}}var F;if(typeof G=="function")F=function(){G(L)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,ke=P.port2;P.port1.onmessage=L,F=function(){ke.postMessage(null)}}else F=function(){B(L,0)};function de(H,ne){D=B(function(){H(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(H){switch(T){case 1:case 2:case 3:var ne=3;break;default:ne=T}var he=T;T=ne;try{return H()}finally{T=he}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var he=T;T=H;try{return ne()}finally{T=he}},t.unstable_scheduleCallback=function(H,ne,he){var be=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?be+he:be):he=be,H){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=he+q,H={id:v++,callback:ne,priorityLevel:H,startTime:he,expirationTime:q,sortIndex:-1},he>be?(H.sortIndex=he,e(p,H),n(d)===null&&H===n(p)&&(j?(k(D),D=-1):j=!0,de(ue,he-be))):(H.sortIndex=q,e(d,H),M||S||(M=!0,Q||(Q=!0,F()))),H},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(H){var ne=T;return function(){var he=T;T=ne;try{return H.apply(this,arguments)}finally{T=he}}}})(cg)),cg}var bT;function jN(){return bT||(bT=1,lg.exports=VN()),lg.exports}var ug={exports:{}},vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT;function LN(){if(TT)return vn;TT=1;var t=Xy();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:d,containerInfo:p,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,vn.createPortal=function(d,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,v)},vn.flushSync=function(d){var p=u.T,v=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=p,i.p=v,i.d.f()}},vn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},vn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},vn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:S}):v==="script"&&i.d.X(d,{crossOrigin:b,integrity:T,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},vn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},vn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin);i.d.L(d,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},vn.preloadModule=function(d,p){if(typeof d=="string")if(p){var v=f(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},vn.requestFormReset=function(d){i.d.r(d)},vn.unstable_batchedUpdates=function(d,p){return d(p)},vn.useFormState=function(d,p,v){return u.H.useFormState(d,p,v)},vn.useFormStatus=function(){return u.H.useHostTransitionStatus()},vn.version="19.2.0",vn}var xT;function kN(){if(xT)return ug.exports;xT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ug.exports=LN(),ug.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function UN(){if(ET)return qc;ET=1;var t=jN(),e=Xy(),n=kN();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return d(m),r;if(g===c)return d(m),s;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=m,c=g;else{for(var x=!1,C=m.child;C;){if(C===o){x=!0,o=m,c=g;break}if(C===c){x=!0,c=m,o=g;break}C=C.sibling}if(!x){for(C=g.child;C;){if(C===o){x=!0,o=g,c=m;break}if(C===c){x=!0,c=g,o=m;break}C=C.sibling}if(!x)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function v(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=v(r),s!==null)return s;r=r.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function ke(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case B:return"Profiler";case O:return"StrictMode";case ue:return"Suspense";case Q:return"SuspenseList";case N:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case M:return"Portal";case G:return r.displayName||"Context";case k:return(r._context.displayName||"Context")+".Consumer";case ce:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return s=r.displayName||null,s!==null?s:ke(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return ke(r(s))}catch{}}return null}var de=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},be=[],q=-1;function w(r){return{current:r}}function K(r){0>q||(r.current=be[q],be[q]=null,q--)}function te(r,s){q++,be[q]=r.current,r.current=s}var oe=w(null),fe=w(null),pe=w(null),me=w(null);function xe(r,s){switch(te(pe,s),te(fe,r),te(oe,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?kb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=kb(s),r=Ub(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}K(oe),te(oe,r)}function Se(){K(oe),K(fe),K(pe)}function tt(r){r.memoizedState!==null&&te(me,r);var s=oe.current,o=Ub(s,r.type);s!==o&&(te(fe,r),te(oe,o))}function Qe(r){fe.current===r&&(K(oe),K(fe)),me.current===r&&(K(me),Uc._currentValue=he)}var it,vt;function Ie(r){if(it===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);it=s&&s[1]||"",vt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+r+vt}var kt=!1;function Wt(r,s){if(!r||kt)return"";kt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(ee){var Z=ee}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(ee){Z=ee}r.call(ae.prototype)}}else{try{throw Error()}catch(ee){Z=ee}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(ee){if(ee&&Z&&typeof ee.stack=="string")return[ee.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),x=g[0],C=g[1];if(x&&C){var U=x.split(`
`),W=C.split(`
`);for(m=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;if(c===U.length||m===W.length)for(c=U.length-1,m=W.length-1;1<=c&&0<=m&&U[c]!==W[m];)m--;for(;1<=c&&0<=m;c--,m--)if(U[c]!==W[m]){if(c!==1||m!==1)do if(c--,m--,0>m||U[c]!==W[m]){var re=`
`+U[c].replace(" at new "," at ");return r.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",r.displayName)),re}while(1<=c&&0<=m);break}}}finally{kt=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Ie(o):""}function on(r,s){switch(r.tag){case 26:case 27:case 5:return Ie(r.type);case 16:return Ie("Lazy");case 13:return r.child!==s&&s!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Wt(r.type,!1);case 11:return Wt(r.type.render,!1);case 1:return Wt(r.type,!0);case 31:return Ie("Activity");default:return""}}function Sn(r){try{var s="",o=null;do s+=on(r,o),o=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var lt=Object.prototype.hasOwnProperty,nt=t.unstable_scheduleCallback,Br=t.unstable_cancelCallback,Hl=t.unstable_shouldYield,uo=t.unstable_requestPaint,tn=t.unstable_now,Ai=t.unstable_getCurrentPriorityLevel,is=t.unstable_ImmediatePriority,la=t.unstable_UserBlockingPriority,zr=t.unstable_NormalPriority,ho=t.unstable_LowPriority,ca=t.unstable_IdlePriority,ss=t.log,fo=t.unstable_setDisableYieldValue,Bn=null,ln=null;function Zn(r){if(typeof ss=="function"&&fo(r),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Bn,r)}catch{}}var It=Math.clz32?Math.clz32:Yu,Qu=Math.log,mo=Math.LN2;function Yu(r){return r>>>=0,r===0?32:31-(Qu(r)/mo|0)|0}var Fr=256,ua=262144,Ut=4194304;function Hr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function qr(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var m=0,g=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var C=c&134217727;return C!==0?(c=C&~g,c!==0?m=Hr(c):(x&=C,x!==0?m=Hr(x):o||(o=C&~r,o!==0&&(m=Hr(o))))):(C=c&~g,C!==0?m=Hr(C):x!==0?m=Hr(x):o||(o=c&~r,o!==0&&(m=Hr(o)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:m}function xr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function cm(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xu(){var r=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),r}function Gr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function ha(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function um(r,s,o,c,m,g){var x=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var C=r.entanglements,U=r.expirationTimes,W=r.hiddenUpdates;for(o=x&~o;0<o;){var re=31-It(o),ae=1<<re;C[re]=0,U[re]=-1;var Z=W[re];if(Z!==null)for(W[re]=null,re=0;re<Z.length;re++){var ee=Z[re];ee!==null&&(ee.lane&=-536870913)}o&=~ae}c!==0&&fa(r,c,0),g!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=g&~(x&~s))}function fa(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-It(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&261930}function ql(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-It(o),m=1<<c;m&s|r[c]&s&&(r[c]|=s),o&=~m}}function Gl(r,s){var o=s&-s;return o=(o&42)!==0?1:da(o),(o&(r.suspendedLanes|s))!==0?0:o}function da(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ci(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Wu(){var r=ne.p;return r!==0?r:(r=window.event,r===void 0?32:lT(r.type))}function Er(r,s){var o=ne.p;try{return ne.p=r,s()}finally{ne.p=o}}var wr=Math.random().toString(36).slice(2),Bt="__reactFiber$"+wr,nn="__reactProps$"+wr,$r="__reactContainer$"+wr,po="__reactEvents$"+wr,hm="__reactListeners$"+wr,Zu="__reactHandles$"+wr,Ju="__reactResources$"+wr,Kr="__reactMarker$"+wr;function go(r){delete r[Bt],delete r[nn],delete r[po],delete r[hm],delete r[Zu]}function Qr(r){var s=r[Bt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[$r]||o[Bt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=$b(r);r!==null;){if(o=r[Bt])return o;r=$b(r)}return s}r=o,o=r.parentNode}return null}function Jn(r){if(r=r[Bt]||r[$r]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function zn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Yr(r){var s=r[Ju];return s||(s=r[Ju]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function zt(r){r[Kr]=!0}var $l=new Set,Kl={};function Xr(r,s){Wr(r,s),Wr(r+"Capture",s)}function Wr(r,s){for(Kl[r]=s,r=0;r<s.length;r++)$l.add(s[r])}var Ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yl={},Xl={};function eh(r){return lt.call(Xl,r)?!0:lt.call(Yl,r)?!1:Ql.test(r)?Xl[r]=!0:(Yl[r]=!0,!1)}function yo(r,s,o){if(eh(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Fn(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Ft(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}function rn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function as(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Wl(r,s,o){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(x){o=""+x,g.call(this,x)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function st(r){if(!r._valueTracker){var s=as(r)?"checked":"value";r._valueTracker=Wl(r,s,""+r[s])}}function ma(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=as(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function Zr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var pa=/[\n"\\]/g;function Dn(r){return r.replace(pa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function vo(r,s,o,c,m,g,x,C){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),s!=null?x==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+rn(s)):r.value!==""+rn(s)&&(r.value=""+rn(s)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),s!=null?Zl(r,x,rn(s)):o!=null?Zl(r,x,rn(o)):c!=null&&r.removeAttribute("value"),m==null&&g!=null&&(r.defaultChecked=!!g),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.name=""+rn(C):r.removeAttribute("name")}function th(r,s,o,c,m,g,x,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){st(r);return}o=o!=null?""+rn(o):"",s=s!=null?""+rn(s):o,C||s===r.value||(r.value=s),r.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=C?r.checked:!!c,r.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x),st(r)}function Zl(r,s,o){s==="number"&&Zr(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function os(r,s,o,c){if(r=r.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=s.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&c&&(r[o].defaultSelected=!0)}else{for(o=""+rn(o),s=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,c&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function nh(r,s,o){if(s!=null&&(s=""+rn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+rn(o):""}function ls(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(de(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=rn(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c),st(r)}function In(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var rh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jl(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||rh.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function ec(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&Jl(r,m,c)}else for(var g in s)s.hasOwnProperty(g)&&Jl(r,g,s[g])}function _o(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ih=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bo(r){return cs.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Sr(){}var tc=null;function er(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var us=null,Jr=null;function ga(r){var s=Jn(r);if(s&&(r=s.stateNode)){var o=r[nn]||null;e:switch(r=s.stateNode,s.type){case"input":if(vo(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Dn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var m=c[nn]||null;if(!m)throw Error(i(90));vo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&ma(c)}break e;case"textarea":nh(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&os(r,!!o.multiple,s,!1)}}}var To=!1;function hs(r,s,o){if(To)return r(s,o);To=!0;try{var c=r(s);return c}finally{if(To=!1,(us!==null||Jr!==null)&&(Wh(),us&&(s=us,r=Jr,Jr=us=null,ga(s),r)))for(s=0;s<r.length;s++)ga(r[s])}}function Ar(r,s){var o=r.stateNode;if(o===null)return null;var c=o[nn]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ya=!1;if(tr)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){ya=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{ya=!1}var ei=null,nc=null,va=null;function rc(){if(va)return va;var r,s=nc,o=s.length,c,m="value"in ei?ei.value:ei.textContent,g=m.length;for(r=0;r<o&&s[r]===m[r];r++);var x=o-r;for(c=1;c<=x&&s[o-c]===m[g-c];c++);return va=m.slice(r,1<c?1-c:void 0)}function _a(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ri(){return!0}function Cr(){return!1}function cn(r){function s(o,c,m,g,x){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(o=r[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ri:Cr,this.isPropagationStopped=Cr,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),s}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ti=cn(Ni),fs=b({},Ni,{view:0,detail:0}),ic=cn(fs),ds,xo,ni,Eo=b({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ni&&(ni&&r.type==="mousemove"?(ds=r.screenX-ni.screenX,xo=r.screenY-ni.screenY):xo=ds=0,ni=r),ds)},movementY:function(r){return"movementY"in r?r.movementY:xo}}),sc=cn(Eo),ba=b({},Eo,{dataTransfer:0}),sh=cn(ba),ah=b({},fs,{relatedTarget:0}),Ta=cn(ah),ac=b({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),oh=cn(ac),wo=b({},Ni,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),lh=cn(wo),ch=b({},Ni,{data:0}),ri=cn(ch),uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dh(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=fh[r])?!!s[r]:!1}function ms(){return dh}var An=b({},fs,{key:function(r){if(r.key){var s=uh[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=_a(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?hh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(r){return r.type==="keypress"?_a(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?_a(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),mh=cn(An),ph=b({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=cn(ph),h=b({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),_=cn(h),E=b({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=cn(E),Y=b({},Eo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),J=cn(Y),ge=b({},Ni,{newState:0,oldState:0}),Pe=cn(ge),Ot=[9,13,27,32],Je=tr&&"CompositionEvent"in window,_t=null;tr&&"documentMode"in document&&(_t=document.documentMode);var nr=tr&&"TextEvent"in window&&!_t,ii=tr&&(!Je||_t&&8<_t&&11>=_t),Rr=" ",Nr=!1;function xa(r,s){switch(r){case"keyup":return Ot.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function So(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ao=!1;function tR(r,s){switch(r){case"compositionend":return So(s);case"keypress":return s.which!==32?null:(Nr=!0,Rr);case"textInput":return r=s.data,r===Rr&&Nr?null:r;default:return null}}function nR(r,s){if(Ao)return r==="compositionend"||!Je&&xa(r,s)?(r=rc(),va=nc=ei=null,Ao=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ii&&s.locale!=="ko"?null:s.data;default:return null}}var rR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yv(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!rR[r.type]:s==="textarea"}function Xv(r,s,o,c){us?Jr?Jr.push(c):Jr=[c]:us=c,s=sf(s,"onChange"),0<s.length&&(o=new ti("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var oc=null,lc=null;function iR(r){Ob(r,0)}function gh(r){var s=zn(r);if(ma(s))return r}function Wv(r,s){if(r==="change")return s}var Zv=!1;if(tr){var fm;if(tr){var dm="oninput"in document;if(!dm){var Jv=document.createElement("div");Jv.setAttribute("oninput","return;"),dm=typeof Jv.oninput=="function"}fm=dm}else fm=!1;Zv=fm&&(!document.documentMode||9<document.documentMode)}function e1(){oc&&(oc.detachEvent("onpropertychange",t1),lc=oc=null)}function t1(r){if(r.propertyName==="value"&&gh(lc)){var s=[];Xv(s,lc,r,er(r)),hs(iR,s)}}function sR(r,s,o){r==="focusin"?(e1(),oc=s,lc=o,oc.attachEvent("onpropertychange",t1)):r==="focusout"&&e1()}function aR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return gh(lc)}function oR(r,s){if(r==="click")return gh(s)}function lR(r,s){if(r==="input"||r==="change")return gh(s)}function cR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Hn=typeof Object.is=="function"?Object.is:cR;function cc(r,s){if(Hn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!lt.call(s,m)||!Hn(r[m],s[m]))return!1}return!0}function n1(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function r1(r,s){var o=n1(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=n1(o)}}function i1(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?i1(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function s1(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Zr(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Zr(r.document)}return s}function mm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var uR=tr&&"documentMode"in document&&11>=document.documentMode,Co=null,pm=null,uc=null,gm=!1;function a1(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;gm||Co==null||Co!==Zr(c)||(c=Co,"selectionStart"in c&&mm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),uc&&cc(uc,c)||(uc=c,c=sf(pm,"onSelect"),0<c.length&&(s=new ti("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=Co)))}function Ea(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Ro={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},ym={},o1={};tr&&(o1=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function wa(r){if(ym[r])return ym[r];if(!Ro[r])return r;var s=Ro[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in o1)return ym[r]=s[o];return r}var l1=wa("animationend"),c1=wa("animationiteration"),u1=wa("animationstart"),hR=wa("transitionrun"),fR=wa("transitionstart"),dR=wa("transitioncancel"),h1=wa("transitionend"),f1=new Map,vm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vm.push("scrollEnd");function Dr(r,s){f1.set(r,s),Xr(s,[r])}var yh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},rr=[],No=0,_m=0;function vh(){for(var r=No,s=_m=No=0;s<r;){var o=rr[s];rr[s++]=null;var c=rr[s];rr[s++]=null;var m=rr[s];rr[s++]=null;var g=rr[s];if(rr[s++]=null,c!==null&&m!==null){var x=c.pending;x===null?m.next=m:(m.next=x.next,x.next=m),c.pending=m}g!==0&&d1(o,m,g)}}function _h(r,s,o,c){rr[No++]=r,rr[No++]=s,rr[No++]=o,rr[No++]=c,_m|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function bm(r,s,o,c){return _h(r,s,o,c),bh(r)}function Sa(r,s){return _h(r,null,null,s),bh(r)}function d1(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(m=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,m&&s!==null&&(m=31-It(o),r=g.hiddenUpdates,c=r[m],c===null?r[m]=[s]:c.push(s),s.lane=o|536870912),g):null}function bh(r){if(50<Oc)throw Oc=0,Np=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Do={};function mR(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(r,s,o,c){return new mR(r,s,o,c)}function Tm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ii(r,s){var o=r.alternate;return o===null?(o=qn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function m1(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Th(r,s,o,c,m,g){var x=0;if(c=r,typeof r=="function")Tm(r)&&(x=1);else if(typeof r=="string")x=_N(r,o,oe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case N:return r=qn(31,o,s,m),r.elementType=N,r.lanes=g,r;case j:return Aa(o.children,m,g,s);case O:x=8,m|=24;break;case B:return r=qn(12,o,s,m|2),r.elementType=B,r.lanes=g,r;case ue:return r=qn(13,o,s,m),r.elementType=ue,r.lanes=g,r;case Q:return r=qn(19,o,s,m),r.elementType=Q,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case G:x=10;break e;case k:x=9;break e;case ce:x=11;break e;case D:x=14;break e;case A:x=16,c=null;break e}x=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=qn(x,o,s,m),s.elementType=r,s.type=c,s.lanes=g,s}function Aa(r,s,o,c){return r=qn(7,r,c,s),r.lanes=o,r}function xm(r,s,o){return r=qn(6,r,null,s),r.lanes=o,r}function p1(r){var s=qn(18,null,null,0);return s.stateNode=r,s}function Em(r,s,o){return s=qn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var g1=new WeakMap;function ir(r,s){if(typeof r=="object"&&r!==null){var o=g1.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Sn(s)},g1.set(r,s),s)}return{value:r,source:s,stack:Sn(s)}}var Io=[],Oo=0,xh=null,hc=0,sr=[],ar=0,ps=null,si=1,ai="";function Oi(r,s){Io[Oo++]=hc,Io[Oo++]=xh,xh=r,hc=s}function y1(r,s,o){sr[ar++]=si,sr[ar++]=ai,sr[ar++]=ps,ps=r;var c=si;r=ai;var m=32-It(c)-1;c&=~(1<<m),o+=1;var g=32-It(s)+m;if(30<g){var x=m-m%5;g=(c&(1<<x)-1).toString(32),c>>=x,m-=x,si=1<<32-It(s)+m|o<<m|c,ai=g+r}else si=1<<g|o<<m|c,ai=r}function wm(r){r.return!==null&&(Oi(r,1),y1(r,1,0))}function Sm(r){for(;r===xh;)xh=Io[--Oo],Io[Oo]=null,hc=Io[--Oo],Io[Oo]=null;for(;r===ps;)ps=sr[--ar],sr[ar]=null,ai=sr[--ar],sr[ar]=null,si=sr[--ar],sr[ar]=null}function v1(r,s){sr[ar++]=si,sr[ar++]=ai,sr[ar++]=ps,si=s.id,ai=s.overflow,ps=r}var un=null,pt=null,$e=!1,gs=null,or=!1,Am=Error(i(519));function ys(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fc(ir(s,r)),Am}function _1(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[Bt]=r,s[nn]=c,o){case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":case"embed":Be("load",s);break;case"video":case"audio":for(o=0;o<Pc.length;o++)Be(Pc[o],s);break;case"source":Be("error",s);break;case"img":case"image":case"link":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"input":Be("invalid",s),th(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Be("invalid",s);break;case"textarea":Be("invalid",s),ls(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||jb(s.textContent,o)?(c.popover!=null&&(Be("beforetoggle",s),Be("toggle",s)),c.onScroll!=null&&Be("scroll",s),c.onScrollEnd!=null&&Be("scrollend",s),c.onClick!=null&&(s.onclick=Sr),s=!0):s=!1,s||ys(r,!0)}function b1(r){for(un=r.return;un;)switch(un.tag){case 5:case 31:case 13:or=!1;return;case 27:case 3:or=!0;return;default:un=un.return}}function Mo(r){if(r!==un)return!1;if(!$e)return b1(r),$e=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||qp(r.type,r.memoizedProps)),o=!o),o&&pt&&ys(r),b1(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));pt=Gb(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));pt=Gb(r)}else s===27?(s=pt,Is(r.type)?(r=Yp,Yp=null,pt=r):pt=s):pt=un?cr(r.stateNode.nextSibling):null;return!0}function Ca(){pt=un=null,$e=!1}function Cm(){var r=gs;return r!==null&&(Vn===null?Vn=r:Vn.push.apply(Vn,r),gs=null),r}function fc(r){gs===null?gs=[r]:gs.push(r)}var Rm=w(null),Ra=null,Mi=null;function vs(r,s,o){te(Rm,s._currentValue),s._currentValue=o}function Pi(r){r._currentValue=Rm.current,K(Rm)}function Nm(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function Dm(r,s,o,c){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var g=m.dependencies;if(g!==null){var x=m.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=m;for(var U=0;U<s.length;U++)if(C.context===s[U]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),Nm(g.return,o,r),c||(x=null);break e}g=C.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(i(341));x.lanes|=o,g=x.alternate,g!==null&&(g.lanes|=o),Nm(x,o,r),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===r){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function Po(r,s,o,c){r=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var C=m.type;Hn(m.pendingProps.value,x.value)||(r!==null?r.push(C):r=[C])}}else if(m===me.current){if(x=m.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Uc):r=[Uc])}m=m.return}r!==null&&Dm(s,r,o,c),s.flags|=262144}function Eh(r){for(r=r.firstContext;r!==null;){if(!Hn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Na(r){Ra=r,Mi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function hn(r){return T1(Ra,r)}function wh(r,s){return Ra===null&&Na(r),T1(r,s)}function T1(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Mi===null){if(r===null)throw Error(i(308));Mi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Mi=Mi.next=s;return o}var pR=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},gR=t.unstable_scheduleCallback,yR=t.unstable_NormalPriority,Ht={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Im(){return{controller:new pR,data:new Map,refCount:0}}function dc(r){r.refCount--,r.refCount===0&&gR(yR,function(){r.controller.abort()})}var mc=null,Om=0,Vo=0,jo=null;function vR(r,s){if(mc===null){var o=mc=[];Om=0,Vo=Vp(),jo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Om++,s.then(x1,x1),s}function x1(){if(--Om===0&&mc!==null){jo!==null&&(jo.status="fulfilled");var r=mc;mc=null,Vo=0,jo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function _R(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var E1=H.S;H.S=function(r,s){ab=tn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&vR(r,s),E1!==null&&E1(r,s)};var Da=w(null);function Mm(){var r=Da.current;return r!==null?r:dt.pooledCache}function Sh(r,s){s===null?te(Da,Da.current):te(Da,s.pool)}function w1(){var r=Mm();return r===null?null:{parent:Ht._currentValue,pool:r}}var Lo=Error(i(460)),Pm=Error(i(474)),Ah=Error(i(542)),Ch={then:function(){}};function S1(r){return r=r.status,r==="fulfilled"||r==="rejected"}function A1(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Sr,Sr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,R1(r),r;default:if(typeof s.status=="string")s.then(Sr,Sr);else{if(r=dt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,R1(r),r}throw Oa=s,Lo}}function Ia(r){try{var s=r._init;return s(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Oa=o,Lo):o}}var Oa=null;function C1(){if(Oa===null)throw Error(i(459));var r=Oa;return Oa=null,r}function R1(r){if(r===Lo||r===Ah)throw Error(i(483))}var ko=null,pc=0;function Rh(r){var s=pc;return pc+=1,ko===null&&(ko=[]),A1(ko,r,s)}function gc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Nh(r,s){throw s.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function N1(r){function s($,z){if(r){var X=$.deletions;X===null?($.deletions=[z],$.flags|=16):X.push(z)}}function o($,z){if(!r)return null;for(;z!==null;)s($,z),z=z.sibling;return null}function c($){for(var z=new Map;$!==null;)$.key!==null?z.set($.key,$):z.set($.index,$),$=$.sibling;return z}function m($,z){return $=Ii($,z),$.index=0,$.sibling=null,$}function g($,z,X){return $.index=X,r?(X=$.alternate,X!==null?(X=X.index,X<z?($.flags|=67108866,z):X):($.flags|=67108866,z)):($.flags|=1048576,z)}function x($){return r&&$.alternate===null&&($.flags|=67108866),$}function C($,z,X,ie){return z===null||z.tag!==6?(z=xm(X,$.mode,ie),z.return=$,z):(z=m(z,X),z.return=$,z)}function U($,z,X,ie){var Ee=X.type;return Ee===j?re($,z,X.props.children,ie,X.key):z!==null&&(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&Ia(Ee)===z.type)?(z=m(z,X.props),gc(z,X),z.return=$,z):(z=Th(X.type,X.key,X.props,null,$.mode,ie),gc(z,X),z.return=$,z)}function W($,z,X,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==X.containerInfo||z.stateNode.implementation!==X.implementation?(z=Em(X,$.mode,ie),z.return=$,z):(z=m(z,X.children||[]),z.return=$,z)}function re($,z,X,ie,Ee){return z===null||z.tag!==7?(z=Aa(X,$.mode,ie,Ee),z.return=$,z):(z=m(z,X),z.return=$,z)}function ae($,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=xm(""+z,$.mode,X),z.return=$,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return X=Th(z.type,z.key,z.props,null,$.mode,X),gc(X,z),X.return=$,X;case M:return z=Em(z,$.mode,X),z.return=$,z;case A:return z=Ia(z),ae($,z,X)}if(de(z)||F(z))return z=Aa(z,$.mode,X,null),z.return=$,z;if(typeof z.then=="function")return ae($,Rh(z),X);if(z.$$typeof===G)return ae($,wh($,z),X);Nh($,z)}return null}function Z($,z,X,ie){var Ee=z!==null?z.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ee!==null?null:C($,z,""+X,ie);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return X.key===Ee?U($,z,X,ie):null;case M:return X.key===Ee?W($,z,X,ie):null;case A:return X=Ia(X),Z($,z,X,ie)}if(de(X)||F(X))return Ee!==null?null:re($,z,X,ie,null);if(typeof X.then=="function")return Z($,z,Rh(X),ie);if(X.$$typeof===G)return Z($,z,wh($,X),ie);Nh($,X)}return null}function ee($,z,X,ie,Ee){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return $=$.get(X)||null,C(z,$,""+ie,Ee);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case S:return $=$.get(ie.key===null?X:ie.key)||null,U(z,$,ie,Ee);case M:return $=$.get(ie.key===null?X:ie.key)||null,W(z,$,ie,Ee);case A:return ie=Ia(ie),ee($,z,X,ie,Ee)}if(de(ie)||F(ie))return $=$.get(X)||null,re(z,$,ie,Ee,null);if(typeof ie.then=="function")return ee($,z,X,Rh(ie),Ee);if(ie.$$typeof===G)return ee($,z,X,wh(z,ie),Ee);Nh(z,ie)}return null}function _e($,z,X,ie){for(var Ee=null,Ye=null,Te=z,Le=z=0,Fe=null;Te!==null&&Le<X.length;Le++){Te.index>Le?(Fe=Te,Te=null):Fe=Te.sibling;var Xe=Z($,Te,X[Le],ie);if(Xe===null){Te===null&&(Te=Fe);break}r&&Te&&Xe.alternate===null&&s($,Te),z=g(Xe,z,Le),Ye===null?Ee=Xe:Ye.sibling=Xe,Ye=Xe,Te=Fe}if(Le===X.length)return o($,Te),$e&&Oi($,Le),Ee;if(Te===null){for(;Le<X.length;Le++)Te=ae($,X[Le],ie),Te!==null&&(z=g(Te,z,Le),Ye===null?Ee=Te:Ye.sibling=Te,Ye=Te);return $e&&Oi($,Le),Ee}for(Te=c(Te);Le<X.length;Le++)Fe=ee(Te,$,Le,X[Le],ie),Fe!==null&&(r&&Fe.alternate!==null&&Te.delete(Fe.key===null?Le:Fe.key),z=g(Fe,z,Le),Ye===null?Ee=Fe:Ye.sibling=Fe,Ye=Fe);return r&&Te.forEach(function(js){return s($,js)}),$e&&Oi($,Le),Ee}function Ae($,z,X,ie){if(X==null)throw Error(i(151));for(var Ee=null,Ye=null,Te=z,Le=z=0,Fe=null,Xe=X.next();Te!==null&&!Xe.done;Le++,Xe=X.next()){Te.index>Le?(Fe=Te,Te=null):Fe=Te.sibling;var js=Z($,Te,Xe.value,ie);if(js===null){Te===null&&(Te=Fe);break}r&&Te&&js.alternate===null&&s($,Te),z=g(js,z,Le),Ye===null?Ee=js:Ye.sibling=js,Ye=js,Te=Fe}if(Xe.done)return o($,Te),$e&&Oi($,Le),Ee;if(Te===null){for(;!Xe.done;Le++,Xe=X.next())Xe=ae($,Xe.value,ie),Xe!==null&&(z=g(Xe,z,Le),Ye===null?Ee=Xe:Ye.sibling=Xe,Ye=Xe);return $e&&Oi($,Le),Ee}for(Te=c(Te);!Xe.done;Le++,Xe=X.next())Xe=ee(Te,$,Le,Xe.value,ie),Xe!==null&&(r&&Xe.alternate!==null&&Te.delete(Xe.key===null?Le:Xe.key),z=g(Xe,z,Le),Ye===null?Ee=Xe:Ye.sibling=Xe,Ye=Xe);return r&&Te.forEach(function(DN){return s($,DN)}),$e&&Oi($,Le),Ee}function ft($,z,X,ie){if(typeof X=="object"&&X!==null&&X.type===j&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case S:e:{for(var Ee=X.key;z!==null;){if(z.key===Ee){if(Ee=X.type,Ee===j){if(z.tag===7){o($,z.sibling),ie=m(z,X.props.children),ie.return=$,$=ie;break e}}else if(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&Ia(Ee)===z.type){o($,z.sibling),ie=m(z,X.props),gc(ie,X),ie.return=$,$=ie;break e}o($,z);break}else s($,z);z=z.sibling}X.type===j?(ie=Aa(X.props.children,$.mode,ie,X.key),ie.return=$,$=ie):(ie=Th(X.type,X.key,X.props,null,$.mode,ie),gc(ie,X),ie.return=$,$=ie)}return x($);case M:e:{for(Ee=X.key;z!==null;){if(z.key===Ee)if(z.tag===4&&z.stateNode.containerInfo===X.containerInfo&&z.stateNode.implementation===X.implementation){o($,z.sibling),ie=m(z,X.children||[]),ie.return=$,$=ie;break e}else{o($,z);break}else s($,z);z=z.sibling}ie=Em(X,$.mode,ie),ie.return=$,$=ie}return x($);case A:return X=Ia(X),ft($,z,X,ie)}if(de(X))return _e($,z,X,ie);if(F(X)){if(Ee=F(X),typeof Ee!="function")throw Error(i(150));return X=Ee.call(X),Ae($,z,X,ie)}if(typeof X.then=="function")return ft($,z,Rh(X),ie);if(X.$$typeof===G)return ft($,z,wh($,X),ie);Nh($,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,z!==null&&z.tag===6?(o($,z.sibling),ie=m(z,X),ie.return=$,$=ie):(o($,z),ie=xm(X,$.mode,ie),ie.return=$,$=ie),x($)):o($,z)}return function($,z,X,ie){try{pc=0;var Ee=ft($,z,X,ie);return ko=null,Ee}catch(Te){if(Te===Lo||Te===Ah)throw Te;var Ye=qn(29,Te,null,$.mode);return Ye.lanes=ie,Ye.return=$,Ye}finally{}}}var Ma=N1(!0),D1=N1(!1),_s=!1;function Vm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function bs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ts(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(et&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=bh(r),d1(r,null,o),s}return _h(r,c,s,o),bh(r)}function yc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,ql(r,o)}}function Lm(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=x:g=g.next=x,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var km=!1;function vc(){if(km){var r=jo;if(r!==null)throw r}}function _c(r,s,o,c){km=!1;var m=r.updateQueue;_s=!1;var g=m.firstBaseUpdate,x=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var U=C,W=U.next;U.next=null,x===null?g=W:x.next=W,x=U;var re=r.alternate;re!==null&&(re=re.updateQueue,C=re.lastBaseUpdate,C!==x&&(C===null?re.firstBaseUpdate=W:C.next=W,re.lastBaseUpdate=U))}if(g!==null){var ae=m.baseState;x=0,re=W=U=null,C=g;do{var Z=C.lane&-536870913,ee=Z!==C.lane;if(ee?(ze&Z)===Z:(c&Z)===Z){Z!==0&&Z===Vo&&(km=!0),re!==null&&(re=re.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var _e=r,Ae=C;Z=s;var ft=o;switch(Ae.tag){case 1:if(_e=Ae.payload,typeof _e=="function"){ae=_e.call(ft,ae,Z);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ae.payload,Z=typeof _e=="function"?_e.call(ft,ae,Z):_e,Z==null)break e;ae=b({},ae,Z);break e;case 2:_s=!0}}Z=C.callback,Z!==null&&(r.flags|=64,ee&&(r.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[Z]:ee.push(Z))}else ee={lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},re===null?(W=re=ee,U=ae):re=re.next=ee,x|=Z;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);re===null&&(U=ae),m.baseState=U,m.firstBaseUpdate=W,m.lastBaseUpdate=re,g===null&&(m.shared.lanes=0),As|=x,r.lanes=x,r.memoizedState=ae}}function I1(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function O1(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)I1(o[r],s)}var Uo=w(null),Dh=w(0);function M1(r,s){r=Hi,te(Dh,r),te(Uo,s),Hi=r|s.baseLanes}function Um(){te(Dh,Hi),te(Uo,Uo.current)}function Bm(){Hi=Dh.current,K(Uo),K(Dh)}var Gn=w(null),lr=null;function xs(r){var s=r.alternate;te(Mt,Mt.current&1),te(Gn,r),lr===null&&(s===null||Uo.current!==null||s.memoizedState!==null)&&(lr=r)}function zm(r){te(Mt,Mt.current),te(Gn,r),lr===null&&(lr=r)}function P1(r){r.tag===22?(te(Mt,Mt.current),te(Gn,r),lr===null&&(lr=r)):Es()}function Es(){te(Mt,Mt.current),te(Gn,Gn.current)}function $n(r){K(Gn),lr===r&&(lr=null),K(Mt)}var Mt=w(0);function Ih(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Kp(o)||Qp(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vi=0,Ve=null,ut=null,qt=null,Oh=!1,Bo=!1,Pa=!1,Mh=0,bc=0,zo=null,bR=0;function At(){throw Error(i(321))}function Fm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Hn(r[o],s[o]))return!1;return!0}function Hm(r,s,o,c,m,g){return Vi=g,Ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=r===null||r.memoizedState===null?y_:ip,Pa=!1,g=o(c,m),Pa=!1,Bo&&(g=j1(s,o,c,m)),V1(r),g}function V1(r){H.H=Ec;var s=ut!==null&&ut.next!==null;if(Vi=0,qt=ut=Ve=null,Oh=!1,bc=0,zo=null,s)throw Error(i(300));r===null||Gt||(r=r.dependencies,r!==null&&Eh(r)&&(Gt=!0))}function j1(r,s,o,c){Ve=r;var m=0;do{if(Bo&&(zo=null),bc=0,Bo=!1,25<=m)throw Error(i(301));if(m+=1,qt=ut=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}H.H=v_,g=s(o,c)}while(Bo);return g}function TR(){var r=H.H,s=r.useState()[0];return s=typeof s.then=="function"?Tc(s):s,r=r.useState()[0],(ut!==null?ut.memoizedState:null)!==r&&(Ve.flags|=1024),s}function qm(){var r=Mh!==0;return Mh=0,r}function Gm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function $m(r){if(Oh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Oh=!1}Vi=0,qt=ut=Ve=null,Bo=!1,bc=Mh=0,zo=null}function Cn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ve.memoizedState=qt=r:qt=qt.next=r,qt}function Pt(){if(ut===null){var r=Ve.alternate;r=r!==null?r.memoizedState:null}else r=ut.next;var s=qt===null?Ve.memoizedState:qt.next;if(s!==null)qt=s,ut=r;else{if(r===null)throw Ve.alternate===null?Error(i(467)):Error(i(310));ut=r,r={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},qt===null?Ve.memoizedState=qt=r:qt=qt.next=r}return qt}function Ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tc(r){var s=bc;return bc+=1,zo===null&&(zo=[]),r=A1(zo,r,s),s=Ve,(qt===null?s.memoizedState:qt.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?y_:ip),r}function Vh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Tc(r);if(r.$$typeof===G)return hn(r)}throw Error(i(438,String(r)))}function Km(r){var s=null,o=Ve.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ve.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Ph(),Ve.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=V;return s.index++,o}function ji(r,s){return typeof s=="function"?s(r):s}function jh(r){var s=Pt();return Qm(s,ut,r)}function Qm(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var m=r.baseQueue,g=c.pending;if(g!==null){if(m!==null){var x=m.next;m.next=g.next,g.next=x}s.baseQueue=m=g,c.pending=null}if(g=r.baseState,m===null)r.memoizedState=g;else{s=m.next;var C=x=null,U=null,W=s,re=!1;do{var ae=W.lane&-536870913;if(ae!==W.lane?(ze&ae)===ae:(Vi&ae)===ae){var Z=W.revertLane;if(Z===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ae===Vo&&(re=!0);else if((Vi&Z)===Z){W=W.next,Z===Vo&&(re=!0);continue}else ae={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(C=U=ae,x=g):U=U.next=ae,Ve.lanes|=Z,As|=Z;ae=W.action,Pa&&o(g,ae),g=W.hasEagerState?W.eagerState:o(g,ae)}else Z={lane:ae,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(C=U=Z,x=g):U=U.next=Z,Ve.lanes|=ae,As|=ae;W=W.next}while(W!==null&&W!==s);if(U===null?x=g:U.next=C,!Hn(g,r.memoizedState)&&(Gt=!0,re&&(o=jo,o!==null)))throw o;r.memoizedState=g,r.baseState=x,r.baseQueue=U,c.lastRenderedState=g}return m===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Ym(r){var s=Pt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var x=m=m.next;do g=r(g,x.action),x=x.next;while(x!==m);Hn(g,s.memoizedState)||(Gt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function L1(r,s,o){var c=Ve,m=Pt(),g=$e;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var x=!Hn((ut||m).memoizedState,o);if(x&&(m.memoizedState=o,Gt=!0),m=m.queue,Zm(B1.bind(null,c,m,r),[r]),m.getSnapshot!==s||x||qt!==null&&qt.memoizedState.tag&1){if(c.flags|=2048,Fo(9,{destroy:void 0},U1.bind(null,c,m,o,s),null),dt===null)throw Error(i(349));g||(Vi&127)!==0||k1(c,s,o)}return o}function k1(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ve.updateQueue,s===null?(s=Ph(),Ve.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function U1(r,s,o,c){s.value=o,s.getSnapshot=c,z1(s)&&F1(r)}function B1(r,s,o){return o(function(){z1(s)&&F1(r)})}function z1(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Hn(r,o)}catch{return!0}}function F1(r){var s=Sa(r,2);s!==null&&jn(s,r,2)}function Xm(r){var s=Cn();if(typeof r=="function"){var o=r;if(r=o(),Pa){Zn(!0);try{o()}finally{Zn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:r},s}function H1(r,s,o,c){return r.baseState=o,Qm(r,ut,typeof c=="function"?c:ji)}function xR(r,s,o,c,m){if(Uh(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};H.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,q1(s,g)):(g.next=o.next,s.pending=o.next=g)}}function q1(r,s){var o=s.action,c=s.payload,m=r.state;if(s.isTransition){var g=H.T,x={};H.T=x;try{var C=o(m,c),U=H.S;U!==null&&U(x,C),G1(r,s,C)}catch(W){Wm(r,s,W)}finally{g!==null&&x.types!==null&&(g.types=x.types),H.T=g}}else try{g=o(m,c),G1(r,s,g)}catch(W){Wm(r,s,W)}}function G1(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){$1(r,s,c)},function(c){return Wm(r,s,c)}):$1(r,s,o)}function $1(r,s,o){s.status="fulfilled",s.value=o,K1(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,q1(r,o)))}function Wm(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,K1(s),s=s.next;while(s!==c)}r.action=null}function K1(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Q1(r,s){return s}function Y1(r,s){if($e){var o=dt.formState;if(o!==null){e:{var c=Ve;if($e){if(pt){t:{for(var m=pt,g=or;m.nodeType!==8;){if(!g){m=null;break t}if(m=cr(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){pt=cr(m.nextSibling),c=m.data==="F!";break e}}ys(c)}c=!1}c&&(s=o[0])}}return o=Cn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Q1,lastRenderedState:s},o.queue=c,o=m_.bind(null,Ve,c),c.dispatch=o,c=Xm(!1),g=rp.bind(null,Ve,!1,c.queue),c=Cn(),m={state:s,dispatch:null,action:r,pending:null},c.queue=m,o=xR.bind(null,Ve,m,g,o),m.dispatch=o,c.memoizedState=r,[s,o,!1]}function X1(r){var s=Pt();return W1(s,ut,r)}function W1(r,s,o){if(s=Qm(r,s,Q1)[0],r=jh(ji)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Tc(s)}catch(x){throw x===Lo?Ah:x}else c=s;s=Pt();var m=s.queue,g=m.dispatch;return o!==s.memoizedState&&(Ve.flags|=2048,Fo(9,{destroy:void 0},ER.bind(null,m,o),null)),[c,g,r]}function ER(r,s){r.action=s}function Z1(r){var s=Pt(),o=ut;if(o!==null)return W1(s,o,r);Pt(),s=s.memoizedState,o=Pt();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Fo(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=Ve.updateQueue,s===null&&(s=Ph(),Ve.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function J1(){return Pt().memoizedState}function Lh(r,s,o,c){var m=Cn();Ve.flags|=r,m.memoizedState=Fo(1|s,{destroy:void 0},o,c===void 0?null:c)}function kh(r,s,o,c){var m=Pt();c=c===void 0?null:c;var g=m.memoizedState.inst;ut!==null&&c!==null&&Fm(c,ut.memoizedState.deps)?m.memoizedState=Fo(s,g,o,c):(Ve.flags|=r,m.memoizedState=Fo(1|s,g,o,c))}function e_(r,s){Lh(8390656,8,r,s)}function Zm(r,s){kh(2048,8,r,s)}function wR(r){Ve.flags|=4;var s=Ve.updateQueue;if(s===null)s=Ph(),Ve.updateQueue=s,s.events=[r];else{var o=s.events;o===null?s.events=[r]:o.push(r)}}function t_(r){var s=Pt().memoizedState;return wR({ref:s,nextImpl:r}),function(){if((et&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function n_(r,s){return kh(4,2,r,s)}function r_(r,s){return kh(4,4,r,s)}function i_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function s_(r,s,o){o=o!=null?o.concat([r]):null,kh(4,4,i_.bind(null,s,r),o)}function Jm(){}function a_(r,s){var o=Pt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Fm(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function o_(r,s){var o=Pt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Fm(s,c[1]))return c[0];if(c=r(),Pa){Zn(!0);try{r()}finally{Zn(!1)}}return o.memoizedState=[c,s],c}function ep(r,s,o){return o===void 0||(Vi&1073741824)!==0&&(ze&261930)===0?r.memoizedState=s:(r.memoizedState=o,r=lb(),Ve.lanes|=r,As|=r,o)}function l_(r,s,o,c){return Hn(o,s)?o:Uo.current!==null?(r=ep(r,o,c),Hn(r,s)||(Gt=!0),r):(Vi&42)===0||(Vi&1073741824)!==0&&(ze&261930)===0?(Gt=!0,r.memoizedState=o):(r=lb(),Ve.lanes|=r,As|=r,s)}function c_(r,s,o,c,m){var g=ne.p;ne.p=g!==0&&8>g?g:8;var x=H.T,C={};H.T=C,rp(r,!1,s,o);try{var U=m(),W=H.S;if(W!==null&&W(C,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var re=_R(U,c);xc(r,s,re,Yn(r))}else xc(r,s,c,Yn(r))}catch(ae){xc(r,s,{then:function(){},status:"rejected",reason:ae},Yn())}finally{ne.p=g,x!==null&&C.types!==null&&(x.types=C.types),H.T=x}}function SR(){}function tp(r,s,o,c){if(r.tag!==5)throw Error(i(476));var m=u_(r).queue;c_(r,m,s,he,o===null?SR:function(){return h_(r),o(c)})}function u_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:he},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function h_(r){var s=u_(r);s.next===null&&(s=r.alternate.memoizedState),xc(r,s.next.queue,{},Yn())}function np(){return hn(Uc)}function f_(){return Pt().memoizedState}function d_(){return Pt().memoizedState}function AR(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Yn();r=bs(o);var c=Ts(s,r,o);c!==null&&(jn(c,s,o),yc(c,s,o)),s={cache:Im()},r.payload=s;return}s=s.return}}function CR(r,s,o){var c=Yn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Uh(r)?p_(s,o):(o=bm(r,s,o,c),o!==null&&(jn(o,r,c),g_(o,s,c)))}function m_(r,s,o){var c=Yn();xc(r,s,o,c)}function xc(r,s,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Uh(r))p_(s,m);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var x=s.lastRenderedState,C=g(x,o);if(m.hasEagerState=!0,m.eagerState=C,Hn(C,x))return _h(r,s,m,0),dt===null&&vh(),!1}catch{}finally{}if(o=bm(r,s,m,c),o!==null)return jn(o,r,c),g_(o,s,c),!0}return!1}function rp(r,s,o,c){if(c={lane:2,revertLane:Vp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Uh(r)){if(s)throw Error(i(479))}else s=bm(r,o,c,2),s!==null&&jn(s,r,2)}function Uh(r){var s=r.alternate;return r===Ve||s!==null&&s===Ve}function p_(r,s){Bo=Oh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function g_(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,ql(r,o)}}var Ec={readContext:hn,use:Vh,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Ec.useEffectEvent=At;var y_={readContext:hn,use:Vh,useCallback:function(r,s){return Cn().memoizedState=[r,s===void 0?null:s],r},useContext:hn,useEffect:e_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Lh(4194308,4,i_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Lh(4194308,4,r,s)},useInsertionEffect:function(r,s){Lh(4,2,r,s)},useMemo:function(r,s){var o=Cn();s=s===void 0?null:s;var c=r();if(Pa){Zn(!0);try{r()}finally{Zn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=Cn();if(o!==void 0){var m=o(s);if(Pa){Zn(!0);try{o(s)}finally{Zn(!1)}}}else m=s;return c.memoizedState=c.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},c.queue=r,r=r.dispatch=CR.bind(null,Ve,r),[c.memoizedState,r]},useRef:function(r){var s=Cn();return r={current:r},s.memoizedState=r},useState:function(r){r=Xm(r);var s=r.queue,o=m_.bind(null,Ve,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Jm,useDeferredValue:function(r,s){var o=Cn();return ep(o,r,s)},useTransition:function(){var r=Xm(!1);return r=c_.bind(null,Ve,r.queue,!0,!1),Cn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Ve,m=Cn();if($e){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),dt===null)throw Error(i(349));(ze&127)!==0||k1(c,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,e_(B1.bind(null,c,g,r),[r]),c.flags|=2048,Fo(9,{destroy:void 0},U1.bind(null,c,g,o,s),null),o},useId:function(){var r=Cn(),s=dt.identifierPrefix;if($e){var o=ai,c=si;o=(c&~(1<<32-It(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Mh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=bR++,s="_"+s+"r_"+o.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:np,useFormState:Y1,useActionState:Y1,useOptimistic:function(r){var s=Cn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=rp.bind(null,Ve,!0,o),o.dispatch=s,[r,s]},useMemoCache:Km,useCacheRefresh:function(){return Cn().memoizedState=AR.bind(null,Ve)},useEffectEvent:function(r){var s=Cn(),o={impl:r};return s.memoizedState=o,function(){if((et&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},ip={readContext:hn,use:Vh,useCallback:a_,useContext:hn,useEffect:Zm,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:o_,useReducer:jh,useRef:J1,useState:function(){return jh(ji)},useDebugValue:Jm,useDeferredValue:function(r,s){var o=Pt();return l_(o,ut.memoizedState,r,s)},useTransition:function(){var r=jh(ji)[0],s=Pt().memoizedState;return[typeof r=="boolean"?r:Tc(r),s]},useSyncExternalStore:L1,useId:f_,useHostTransitionStatus:np,useFormState:X1,useActionState:X1,useOptimistic:function(r,s){var o=Pt();return H1(o,ut,r,s)},useMemoCache:Km,useCacheRefresh:d_};ip.useEffectEvent=t_;var v_={readContext:hn,use:Vh,useCallback:a_,useContext:hn,useEffect:Zm,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:o_,useReducer:Ym,useRef:J1,useState:function(){return Ym(ji)},useDebugValue:Jm,useDeferredValue:function(r,s){var o=Pt();return ut===null?ep(o,r,s):l_(o,ut.memoizedState,r,s)},useTransition:function(){var r=Ym(ji)[0],s=Pt().memoizedState;return[typeof r=="boolean"?r:Tc(r),s]},useSyncExternalStore:L1,useId:f_,useHostTransitionStatus:np,useFormState:Z1,useActionState:Z1,useOptimistic:function(r,s){var o=Pt();return ut!==null?H1(o,ut,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Km,useCacheRefresh:d_};v_.useEffectEvent=t_;function sp(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:b({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var ap={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Yn(),m=bs(c);m.payload=s,o!=null&&(m.callback=o),s=Ts(r,m,c),s!==null&&(jn(s,r,c),yc(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Yn(),m=bs(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Ts(r,m,c),s!==null&&(jn(s,r,c),yc(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Yn(),c=bs(o);c.tag=2,s!=null&&(c.callback=s),s=Ts(r,c,o),s!==null&&(jn(s,r,o),yc(s,r,o))}};function __(r,s,o,c,m,g,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,x):s.prototype&&s.prototype.isPureReactComponent?!cc(o,c)||!cc(m,g):!0}function b_(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&ap.enqueueReplaceState(s,s.state,null)}function Va(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=b({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}function T_(r){yh(r)}function x_(r){console.error(r)}function E_(r){yh(r)}function Bh(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function w_(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function op(r,s,o){return o=bs(o),o.tag=3,o.payload={element:null},o.callback=function(){Bh(r,s)},o}function S_(r){return r=bs(r),r.tag=3,r}function A_(r,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;r.payload=function(){return m(g)},r.callback=function(){w_(s,o,c)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){w_(s,o,c),typeof m!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function RR(r,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Po(s,o,m,!0),o=Gn.current,o!==null){switch(o.tag){case 31:case 13:return lr===null?Zh():o.alternate===null&&Ct===0&&(Ct=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Ch?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Op(r,c,m)),!1;case 22:return o.flags|=65536,c===Ch?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Op(r,c,m)),!1}throw Error(i(435,o.tag))}return Op(r,c,m),Zh(),!1}if($e)return s=Gn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==Am&&(r=Error(i(422),{cause:c}),fc(ir(r,o)))):(c!==Am&&(s=Error(i(423),{cause:c}),fc(ir(s,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,c=ir(c,o),m=op(r.stateNode,c,m),Lm(r,m),Ct!==4&&(Ct=2)),!1;var g=Error(i(520),{cause:c});if(g=ir(g,o),Ic===null?Ic=[g]:Ic.push(g),Ct!==4&&(Ct=2),s===null)return!0;c=ir(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=op(o.stateNode,c,r),Lm(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Cs===null||!Cs.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=S_(m),A_(m,r,o,c),Lm(o,m),!1}o=o.return}while(o!==null);return!1}var lp=Error(i(461)),Gt=!1;function fn(r,s,o,c){s.child=r===null?D1(s,null,o,c):Ma(s,r.child,o,c)}function C_(r,s,o,c,m){o=o.render;var g=s.ref;if("ref"in c){var x={};for(var C in c)C!=="ref"&&(x[C]=c[C])}else x=c;return Na(s),c=Hm(r,s,o,x,g,m),C=qm(),r!==null&&!Gt?(Gm(r,s,m),Li(r,s,m)):($e&&C&&wm(s),s.flags|=1,fn(r,s,c,m),s.child)}function R_(r,s,o,c,m){if(r===null){var g=o.type;return typeof g=="function"&&!Tm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,N_(r,s,g,c,m)):(r=Th(o.type,null,c,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!gp(r,m)){var x=g.memoizedProps;if(o=o.compare,o=o!==null?o:cc,o(x,c)&&r.ref===s.ref)return Li(r,s,m)}return s.flags|=1,r=Ii(g,c),r.ref=s.ref,r.return=s,s.child=r}function N_(r,s,o,c,m){if(r!==null){var g=r.memoizedProps;if(cc(g,c)&&r.ref===s.ref)if(Gt=!1,s.pendingProps=c=g,gp(r,m))(r.flags&131072)!==0&&(Gt=!0);else return s.lanes=r.lanes,Li(r,s,m)}return cp(r,s,o,c,m)}function D_(r,s,o,c){var m=c.children,g=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,r!==null){for(c=s.child=r.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,s.child=null;return I_(r,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Sh(s,g!==null?g.cachePool:null),g!==null?M1(s,g):Um(),P1(s);else return c=s.lanes=536870912,I_(r,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Sh(s,g.cachePool),M1(s,g),Es(),s.memoizedState=null):(r!==null&&Sh(s,null),Um(),Es());return fn(r,s,m,o),s.child}function wc(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function I_(r,s,o,c,m){var g=Mm();return g=g===null?null:{parent:Ht._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},r!==null&&Sh(s,null),Um(),P1(s),r!==null&&Po(r,s,c,!0),s.childLanes=m,null}function zh(r,s){return s=Hh({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function O_(r,s,o){return Ma(s,r.child,null,o),r=zh(s,s.pendingProps),r.flags|=2,$n(s),s.memoizedState=null,r}function NR(r,s,o){var c=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,r===null){if($e){if(c.mode==="hidden")return r=zh(s,c),s.lanes=536870912,wc(null,r);if(zm(s),(r=pt)?(r=qb(r,or),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ps!==null?{id:si,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},o=p1(r),o.return=s,s.child=o,un=s,pt=null)):r=null,r===null)throw ys(s);return s.lanes=536870912,null}return zh(s,c)}var g=r.memoizedState;if(g!==null){var x=g.dehydrated;if(zm(s),m)if(s.flags&256)s.flags&=-257,s=O_(r,s,o);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(Gt||Po(r,s,o,!1),m=(o&r.childLanes)!==0,Gt||m){if(c=dt,c!==null&&(x=Gl(c,o),x!==0&&x!==g.retryLane))throw g.retryLane=x,Sa(r,x),jn(c,r,x),lp;Zh(),s=O_(r,s,o)}else r=g.treeContext,pt=cr(x.nextSibling),un=s,$e=!0,gs=null,or=!1,r!==null&&v1(s,r),s=zh(s,c),s.flags|=4096;return s}return r=Ii(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function Fh(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function cp(r,s,o,c,m){return Na(s),o=Hm(r,s,o,c,void 0,m),c=qm(),r!==null&&!Gt?(Gm(r,s,m),Li(r,s,m)):($e&&c&&wm(s),s.flags|=1,fn(r,s,o,m),s.child)}function M_(r,s,o,c,m,g){return Na(s),s.updateQueue=null,o=j1(s,c,o,m),V1(r),c=qm(),r!==null&&!Gt?(Gm(r,s,g),Li(r,s,g)):($e&&c&&wm(s),s.flags|=1,fn(r,s,o,g),s.child)}function P_(r,s,o,c,m){if(Na(s),s.stateNode===null){var g=Do,x=o.contextType;typeof x=="object"&&x!==null&&(g=hn(x)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ap,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Vm(s),x=o.contextType,g.context=typeof x=="object"&&x!==null?hn(x):Do,g.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(sp(s,o,x,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&ap.enqueueReplaceState(g,g.state,null),_c(s,c,g,m),vc(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){g=s.stateNode;var C=s.memoizedProps,U=Va(o,C);g.props=U;var W=g.context,re=o.contextType;x=Do,typeof re=="object"&&re!==null&&(x=hn(re));var ae=o.getDerivedStateFromProps;re=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||W!==x)&&b_(s,g,c,x),_s=!1;var Z=s.memoizedState;g.state=Z,_c(s,c,g,m),vc(),W=s.memoizedState,C||Z!==W||_s?(typeof ae=="function"&&(sp(s,o,ae,c),W=s.memoizedState),(U=_s||__(s,o,U,c,Z,W,x))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=W),g.props=c,g.state=W,g.context=x,c=U):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,jm(r,s),x=s.memoizedProps,re=Va(o,x),g.props=re,ae=s.pendingProps,Z=g.context,W=o.contextType,U=Do,typeof W=="object"&&W!==null&&(U=hn(W)),C=o.getDerivedStateFromProps,(W=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==ae||Z!==U)&&b_(s,g,c,U),_s=!1,Z=s.memoizedState,g.state=Z,_c(s,c,g,m),vc();var ee=s.memoizedState;x!==ae||Z!==ee||_s||r!==null&&r.dependencies!==null&&Eh(r.dependencies)?(typeof C=="function"&&(sp(s,o,C,c),ee=s.memoizedState),(re=_s||__(s,o,re,c,Z,ee,U)||r!==null&&r.dependencies!==null&&Eh(r.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ee,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ee,U)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ee),g.props=c,g.state=ee,g.context=U,c=re):(typeof g.componentDidUpdate!="function"||x===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),c=!1)}return g=c,Fh(r,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&c?(s.child=Ma(s,r.child,null,m),s.child=Ma(s,null,o,m)):fn(r,s,o,m),s.memoizedState=g.state,r=s.child):r=Li(r,s,m),r}function V_(r,s,o,c){return Ca(),s.flags|=256,fn(r,s,o,c),s.child}var up={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hp(r){return{baseLanes:r,cachePool:w1()}}function fp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Qn),r}function j_(r,s,o){var c=s.pendingProps,m=!1,g=(s.flags&128)!==0,x;if((x=g)||(x=r!==null&&r.memoizedState===null?!1:(Mt.current&2)!==0),x&&(m=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,r===null){if($e){if(m?xs(s):Es(),(r=pt)?(r=qb(r,or),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ps!==null?{id:si,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},o=p1(r),o.return=s,s.child=o,un=s,pt=null)):r=null,r===null)throw ys(s);return Qp(r)?s.lanes=32:s.lanes=536870912,null}var C=c.children;return c=c.fallback,m?(Es(),m=s.mode,C=Hh({mode:"hidden",children:C},m),c=Aa(c,m,o,null),C.return=s,c.return=s,C.sibling=c,s.child=C,c=s.child,c.memoizedState=hp(o),c.childLanes=fp(r,x,o),s.memoizedState=up,wc(null,c)):(xs(s),dp(s,C))}var U=r.memoizedState;if(U!==null&&(C=U.dehydrated,C!==null)){if(g)s.flags&256?(xs(s),s.flags&=-257,s=mp(r,s,o)):s.memoizedState!==null?(Es(),s.child=r.child,s.flags|=128,s=null):(Es(),C=c.fallback,m=s.mode,c=Hh({mode:"visible",children:c.children},m),C=Aa(C,m,o,null),C.flags|=2,c.return=s,C.return=s,c.sibling=C,s.child=c,Ma(s,r.child,null,o),c=s.child,c.memoizedState=hp(o),c.childLanes=fp(r,x,o),s.memoizedState=up,s=wc(null,c));else if(xs(s),Qp(C)){if(x=C.nextSibling&&C.nextSibling.dataset,x)var W=x.dgst;x=W,c=Error(i(419)),c.stack="",c.digest=x,fc({value:c,source:null,stack:null}),s=mp(r,s,o)}else if(Gt||Po(r,s,o,!1),x=(o&r.childLanes)!==0,Gt||x){if(x=dt,x!==null&&(c=Gl(x,o),c!==0&&c!==U.retryLane))throw U.retryLane=c,Sa(r,c),jn(x,r,c),lp;Kp(C)||Zh(),s=mp(r,s,o)}else Kp(C)?(s.flags|=192,s.child=r.child,s=null):(r=U.treeContext,pt=cr(C.nextSibling),un=s,$e=!0,gs=null,or=!1,r!==null&&v1(s,r),s=dp(s,c.children),s.flags|=4096);return s}return m?(Es(),C=c.fallback,m=s.mode,U=r.child,W=U.sibling,c=Ii(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,W!==null?C=Ii(W,C):(C=Aa(C,m,o,null),C.flags|=2),C.return=s,c.return=s,c.sibling=C,s.child=c,wc(null,c),c=s.child,C=r.child.memoizedState,C===null?C=hp(o):(m=C.cachePool,m!==null?(U=Ht._currentValue,m=m.parent!==U?{parent:U,pool:U}:m):m=w1(),C={baseLanes:C.baseLanes|o,cachePool:m}),c.memoizedState=C,c.childLanes=fp(r,x,o),s.memoizedState=up,wc(r.child,c)):(xs(s),o=r.child,r=o.sibling,o=Ii(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(x=s.deletions,x===null?(s.deletions=[r],s.flags|=16):x.push(r)),s.child=o,s.memoizedState=null,o)}function dp(r,s){return s=Hh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Hh(r,s){return r=qn(22,r,null,s),r.lanes=0,r}function mp(r,s,o){return Ma(s,r.child,null,o),r=dp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function L_(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Nm(r.return,s,o)}function pp(r,s,o,c,m,g){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=o,x.tailMode=m,x.treeForkCount=g)}function k_(r,s,o){var c=s.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var x=Mt.current,C=(x&2)!==0;if(C?(x=x&1|2,s.flags|=128):x&=1,te(Mt,x),fn(r,s,c,o),c=$e?hc:0,!C&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&L_(r,o,s);else if(r.tag===19)L_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(m){case"forwards":for(o=s.child,m=null;o!==null;)r=o.alternate,r!==null&&Ih(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),pp(s,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&Ih(r)===null){s.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}pp(s,!0,o,null,g,c);break;case"together":pp(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Li(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),As|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Po(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Ii(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ii(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function gp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Eh(r)))}function DR(r,s,o){switch(s.tag){case 3:xe(s,s.stateNode.containerInfo),vs(s,Ht,r.memoizedState.cache),Ca();break;case 27:case 5:tt(s);break;case 4:xe(s,s.stateNode.containerInfo);break;case 10:vs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,zm(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(xs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?j_(r,s,o):(xs(s),r=Li(r,s,o),r!==null?r.sibling:null);xs(s);break;case 19:var m=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Po(r,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return k_(r,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),te(Mt,Mt.current),c)break;return null;case 22:return s.lanes=0,D_(r,s,o,s.pendingProps);case 24:vs(s,Ht,r.memoizedState.cache)}return Li(r,s,o)}function U_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Gt=!0;else{if(!gp(r,o)&&(s.flags&128)===0)return Gt=!1,DR(r,s,o);Gt=(r.flags&131072)!==0}else Gt=!1,$e&&(s.flags&1048576)!==0&&y1(s,hc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(r=Ia(s.elementType),s.type=r,typeof r=="function")Tm(r)?(c=Va(r,c),s.tag=1,s=P_(null,s,r,c,o)):(s.tag=0,s=cp(null,s,r,c,o));else{if(r!=null){var m=r.$$typeof;if(m===ce){s.tag=11,s=C_(null,s,r,c,o);break e}else if(m===D){s.tag=14,s=R_(null,s,r,c,o);break e}}throw s=ke(r)||r,Error(i(306,s,""))}}return s;case 0:return cp(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=Va(c,s.pendingProps),P_(r,s,c,m,o);case 3:e:{if(xe(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var g=s.memoizedState;m=g.element,jm(r,s),_c(s,c,null,o);var x=s.memoizedState;if(c=x.cache,vs(s,Ht,c),c!==g.cache&&Dm(s,[Ht],o,!0),vc(),c=x.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=V_(r,s,c,o);break e}else if(c!==m){m=ir(Error(i(424)),s),fc(m),s=V_(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(pt=cr(r.firstChild),un=s,$e=!0,gs=null,or=!0,o=D1(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ca(),c===m){s=Li(r,s,o);break e}fn(r,s,c,o)}s=s.child}return s;case 26:return Fh(r,s),r===null?(o=Xb(s.type,null,s.pendingProps,null))?s.memoizedState=o:$e||(o=s.type,r=s.pendingProps,c=af(pe.current).createElement(o),c[Bt]=s,c[nn]=r,dn(c,o,r),zt(c),s.stateNode=c):s.memoizedState=Xb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return tt(s),r===null&&$e&&(c=s.stateNode=Kb(s.type,s.pendingProps,pe.current),un=s,or=!0,m=pt,Is(s.type)?(Yp=m,pt=cr(c.firstChild)):pt=m),fn(r,s,s.pendingProps.children,o),Fh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&$e&&((m=c=pt)&&(c=aN(c,s.type,s.pendingProps,or),c!==null?(s.stateNode=c,un=s,pt=cr(c.firstChild),or=!1,m=!0):m=!1),m||ys(s)),tt(s),m=s.type,g=s.pendingProps,x=r!==null?r.memoizedProps:null,c=g.children,qp(m,g)?c=null:x!==null&&qp(m,x)&&(s.flags|=32),s.memoizedState!==null&&(m=Hm(r,s,TR,null,null,o),Uc._currentValue=m),Fh(r,s),fn(r,s,c,o),s.child;case 6:return r===null&&$e&&((r=o=pt)&&(o=oN(o,s.pendingProps,or),o!==null?(s.stateNode=o,un=s,pt=null,r=!0):r=!1),r||ys(s)),null;case 13:return j_(r,s,o);case 4:return xe(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Ma(s,null,c,o):fn(r,s,c,o),s.child;case 11:return C_(r,s,s.type,s.pendingProps,o);case 7:return fn(r,s,s.pendingProps,o),s.child;case 8:return fn(r,s,s.pendingProps.children,o),s.child;case 12:return fn(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,vs(s,s.type,c.value),fn(r,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,Na(s),m=hn(m),c=c(m),s.flags|=1,fn(r,s,c,o),s.child;case 14:return R_(r,s,s.type,s.pendingProps,o);case 15:return N_(r,s,s.type,s.pendingProps,o);case 19:return k_(r,s,o);case 31:return NR(r,s,o);case 22:return D_(r,s,o,s.pendingProps);case 24:return Na(s),c=hn(Ht),r===null?(m=Mm(),m===null&&(m=dt,g=Im(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:c,cache:m},Vm(s),vs(s,Ht,m)):((r.lanes&o)!==0&&(jm(r,s),_c(s,null,null,o),vc()),m=r.memoizedState,g=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),vs(s,Ht,c)):(c=g.cache,vs(s,Ht,c),c!==m.cache&&Dm(s,[Ht],o,!0))),fn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ki(r){r.flags|=4}function yp(r,s,o,c,m){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(m&335544128)===m)if(r.stateNode.complete)r.flags|=8192;else if(fb())r.flags|=8192;else throw Oa=Ch,Pm}else r.flags&=-16777217}function B_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!tT(s))if(fb())r.flags|=8192;else throw Oa=Ch,Pm}function qh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Xu():536870912,r.lanes|=s,$o|=s)}function Sc(r,s){if(!$e)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function gt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function IR(r,s,o){var c=s.pendingProps;switch(Sm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Pi(Ht),Se(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Mo(s)?ki(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Cm())),gt(s),null;case 26:var m=s.type,g=s.memoizedState;return r===null?(ki(s),g!==null?(gt(s),B_(s,g)):(gt(s),yp(s,m,null,c,o))):g?g!==r.memoizedState?(ki(s),gt(s),B_(s,g)):(gt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&ki(s),gt(s),yp(s,m,r,c,o)),null;case 27:if(Qe(s),o=pe.current,m=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&ki(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return gt(s),null}r=oe.current,Mo(s)?_1(s):(r=Kb(m,c,o),s.stateNode=r,ki(s))}return gt(s),null;case 5:if(Qe(s),m=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&ki(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return gt(s),null}if(g=oe.current,Mo(s))_1(s);else{var x=af(pe.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?x.createElement(m,{is:c.is}):x.createElement(m)}}g[Bt]=s,g[nn]=c;e:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break e;for(;x.sibling===null;){if(x.return===null||x.return===s)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=g;e:switch(dn(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ki(s)}}return gt(s),yp(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,o),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&ki(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=pe.current,Mo(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,m=un,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}r[Bt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||jb(r.nodeValue,o)),r||ys(s,!0)}else r=af(r).createTextNode(c),r[Bt]=s,s.stateNode=r}return gt(s),null;case 31:if(o=s.memoizedState,r===null||r.memoizedState!==null){if(c=Mo(s),o!==null){if(r===null){if(!c)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Bt]=s}else Ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),r=!1}else o=Cm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return s.flags&256?($n(s),s):($n(s),null);if((s.flags&128)!==0)throw Error(i(558))}return gt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Mo(s),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Bt]=s}else Ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),m=!1}else m=Cm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?($n(s),s):($n(s),null)}return $n(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,r=r!==null&&r.memoizedState!==null,o&&(c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==r&&o&&(s.child.flags|=8192),qh(s,s.updateQueue),gt(s),null);case 4:return Se(),r===null&&Up(s.stateNode.containerInfo),gt(s),null;case 10:return Pi(s.type),gt(s),null;case 19:if(K(Mt),c=s.memoizedState,c===null)return gt(s),null;if(m=(s.flags&128)!==0,g=c.rendering,g===null)if(m)Sc(c,!1);else{if(Ct!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=Ih(r),g!==null){for(s.flags|=128,Sc(c,!1),r=g.updateQueue,s.updateQueue=r,qh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)m1(o,r),o=o.sibling;return te(Mt,Mt.current&1|2),$e&&Oi(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&tn()>Yh&&(s.flags|=128,m=!0,Sc(c,!1),s.lanes=4194304)}else{if(!m)if(r=Ih(g),r!==null){if(s.flags|=128,m=!0,r=r.updateQueue,s.updateQueue=r,qh(s,r),Sc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!$e)return gt(s),null}else 2*tn()-c.renderingStartTime>Yh&&o!==536870912&&(s.flags|=128,m=!0,Sc(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(r=c.last,r!==null?r.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=tn(),r.sibling=null,o=Mt.current,te(Mt,m?o&1|2:o&1),$e&&Oi(s,c.treeForkCount),r):(gt(s),null);case 22:case 23:return $n(s),Bm(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),o=s.updateQueue,o!==null&&qh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&K(Da),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Pi(Ht),gt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function OR(r,s){switch(Sm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Pi(Ht),Se(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Qe(s),null;case 31:if(s.memoizedState!==null){if($n(s),s.alternate===null)throw Error(i(340));Ca()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if($n(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ca()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return K(Mt),null;case 4:return Se(),null;case 10:return Pi(s.type),null;case 22:case 23:return $n(s),Bm(),r!==null&&K(Da),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Pi(Ht),null;case 25:return null;default:return null}}function z_(r,s){switch(Sm(s),s.tag){case 3:Pi(Ht),Se();break;case 26:case 27:case 5:Qe(s);break;case 4:Se();break;case 31:s.memoizedState!==null&&$n(s);break;case 13:$n(s);break;case 19:K(Mt);break;case 10:Pi(s.type);break;case 22:case 23:$n(s),Bm(),r!==null&&K(Da);break;case 24:Pi(Ht)}}function Ac(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&r)===r){c=void 0;var g=o.create,x=o.inst;c=g(),x.destroy=c}o=o.next}while(o!==m)}}catch(C){ot(s,s.return,C)}}function ws(r,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&r)===r){var x=c.inst,C=x.destroy;if(C!==void 0){x.destroy=void 0,m=s;var U=o,W=C;try{W()}catch(re){ot(m,U,re)}}}c=c.next}while(c!==g)}}catch(re){ot(s,s.return,re)}}function F_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{O1(s,o)}catch(c){ot(r,r.return,c)}}}function H_(r,s,o){o.props=Va(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){ot(r,s,c)}}function Cc(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(m){ot(r,s,m)}}function oi(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){ot(r,s,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ot(r,s,m)}else o.current=null}function q_(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){ot(r,r.return,m)}}function vp(r,s,o){try{var c=r.stateNode;eN(c,r.type,o,s),c[nn]=s}catch(m){ot(r,r.return,m)}}function G_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Is(r.type)||r.tag===4}function _p(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||G_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Is(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function bp(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Sr));else if(c!==4&&(c===27&&Is(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(bp(r,s,o),r=r.sibling;r!==null;)bp(r,s,o),r=r.sibling}function Gh(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&Is(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Gh(r,s,o),r=r.sibling;r!==null;)Gh(r,s,o),r=r.sibling}function $_(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);dn(s,c,o),s[Bt]=r,s[nn]=o}catch(g){ot(r,r.return,g)}}var Ui=!1,$t=!1,Tp=!1,K_=typeof WeakSet=="function"?WeakSet:Set,sn=null;function MR(r,s){if(r=r.containerInfo,Fp=df,r=s1(r),mm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var x=0,C=-1,U=-1,W=0,re=0,ae=r,Z=null;t:for(;;){for(var ee;ae!==o||m!==0&&ae.nodeType!==3||(C=x+m),ae!==g||c!==0&&ae.nodeType!==3||(U=x+c),ae.nodeType===3&&(x+=ae.nodeValue.length),(ee=ae.firstChild)!==null;)Z=ae,ae=ee;for(;;){if(ae===r)break t;if(Z===o&&++W===m&&(C=x),Z===g&&++re===c&&(U=x),(ee=ae.nextSibling)!==null)break;ae=Z,Z=ae.parentNode}ae=ee}o=C===-1||U===-1?null:{start:C,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Hp={focusedElem:r,selectionRange:o},df=!1,sn=s;sn!==null;)if(s=sn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,sn=r;else for(;sn!==null;){switch(s=sn,g=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)m=r[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var _e=Va(o.type,m);r=c.getSnapshotBeforeUpdate(_e,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Ae){ot(o,o.return,Ae)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)$p(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":$p(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,sn=r;break}sn=s.return}}function Q_(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:zi(r,o),c&4&&Ac(5,o);break;case 1:if(zi(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(x){ot(o,o.return,x)}else{var m=Va(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(m,s,r.__reactInternalSnapshotBeforeUpdate)}catch(x){ot(o,o.return,x)}}c&64&&F_(o),c&512&&Cc(o,o.return);break;case 3:if(zi(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{O1(r,s)}catch(x){ot(o,o.return,x)}}break;case 27:s===null&&c&4&&$_(o);case 26:case 5:zi(r,o),s===null&&c&4&&q_(o),c&512&&Cc(o,o.return);break;case 12:zi(r,o);break;case 31:zi(r,o),c&4&&W_(r,o);break;case 13:zi(r,o),c&4&&Z_(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=FR.bind(null,o),lN(r,o))));break;case 22:if(c=o.memoizedState!==null||Ui,!c){s=s!==null&&s.memoizedState!==null||$t,m=Ui;var g=$t;Ui=c,($t=s)&&!g?Fi(r,o,(o.subtreeFlags&8772)!==0):zi(r,o),Ui=m,$t=g}break;case 30:break;default:zi(r,o)}}function Y_(r){var s=r.alternate;s!==null&&(r.alternate=null,Y_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&go(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var bt=null,On=!1;function Bi(r,s,o){for(o=o.child;o!==null;)X_(r,s,o),o=o.sibling}function X_(r,s,o){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Bn,o)}catch{}switch(o.tag){case 26:$t||oi(o,s),Bi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:$t||oi(o,s);var c=bt,m=On;Is(o.type)&&(bt=o.stateNode,On=!1),Bi(r,s,o),jc(o.stateNode),bt=c,On=m;break;case 5:$t||oi(o,s);case 6:if(c=bt,m=On,bt=null,Bi(r,s,o),bt=c,On=m,bt!==null)if(On)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(o.stateNode)}catch(g){ot(o,s,g)}else try{bt.removeChild(o.stateNode)}catch(g){ot(o,s,g)}break;case 18:bt!==null&&(On?(r=bt,Fb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),el(r)):Fb(bt,o.stateNode));break;case 4:c=bt,m=On,bt=o.stateNode.containerInfo,On=!0,Bi(r,s,o),bt=c,On=m;break;case 0:case 11:case 14:case 15:ws(2,o,s),$t||ws(4,o,s),Bi(r,s,o);break;case 1:$t||(oi(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&H_(o,s,c)),Bi(r,s,o);break;case 21:Bi(r,s,o);break;case 22:$t=(c=$t)||o.memoizedState!==null,Bi(r,s,o),$t=c;break;default:Bi(r,s,o)}}function W_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{el(r)}catch(o){ot(s,s.return,o)}}}function Z_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{el(r)}catch(o){ot(s,s.return,o)}}function PR(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new K_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new K_),s;default:throw Error(i(435,r.tag))}}function $h(r,s){var o=PR(r);s.forEach(function(c){if(!o.has(c)){o.add(c);var m=HR.bind(null,r,c);c.then(m,m)}})}function Mn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=r,x=s,C=x;e:for(;C!==null;){switch(C.tag){case 27:if(Is(C.type)){bt=C.stateNode,On=!1;break e}break;case 5:bt=C.stateNode,On=!1;break e;case 3:case 4:bt=C.stateNode.containerInfo,On=!0;break e}C=C.return}if(bt===null)throw Error(i(160));X_(g,x,m),bt=null,On=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)J_(s,r),s=s.sibling}var Ir=null;function J_(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Mn(s,r),Pn(r),c&4&&(ws(3,r,r.return),Ac(3,r),ws(5,r,r.return));break;case 1:Mn(s,r),Pn(r),c&512&&($t||o===null||oi(o,o.return)),c&64&&Ui&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Ir;if(Mn(s,r),Pn(r),c&512&&($t||o===null||oi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Kr]||g[Bt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),dn(g,c,o),g[Bt]=r,zt(g),c=g;break e;case"link":var x=Jb("link","href",m).get(c+(o.href||""));if(x){for(var C=0;C<x.length;C++)if(g=x[C],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(C,1);break t}}g=m.createElement(c),dn(g,c,o),m.head.appendChild(g);break;case"meta":if(x=Jb("meta","content",m).get(c+(o.content||""))){for(C=0;C<x.length;C++)if(g=x[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(C,1);break t}}g=m.createElement(c),dn(g,c,o),m.head.appendChild(g);break;default:throw Error(i(468,c))}g[Bt]=r,zt(g),c=g}r.stateNode=c}else eT(m,r.type,r.stateNode);else r.stateNode=Zb(m,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?eT(m,r.type,r.stateNode):Zb(m,c,r.memoizedProps)):c===null&&r.stateNode!==null&&vp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Mn(s,r),Pn(r),c&512&&($t||o===null||oi(o,o.return)),o!==null&&c&4&&vp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Mn(s,r),Pn(r),c&512&&($t||o===null||oi(o,o.return)),r.flags&32){m=r.stateNode;try{In(m,"")}catch(_e){ot(r,r.return,_e)}}c&4&&r.stateNode!=null&&(m=r.memoizedProps,vp(r,m,o!==null?o.memoizedProps:m)),c&1024&&(Tp=!0);break;case 6:if(Mn(s,r),Pn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(_e){ot(r,r.return,_e)}}break;case 3:if(cf=null,m=Ir,Ir=of(s.containerInfo),Mn(s,r),Ir=m,Pn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{el(s.containerInfo)}catch(_e){ot(r,r.return,_e)}Tp&&(Tp=!1,eb(r));break;case 4:c=Ir,Ir=of(r.stateNode.containerInfo),Mn(s,r),Pn(r),Ir=c;break;case 12:Mn(s,r),Pn(r);break;case 31:Mn(s,r),Pn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,$h(r,c)));break;case 13:Mn(s,r),Pn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Qh=tn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,$h(r,c)));break;case 22:m=r.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,W=Ui,re=$t;if(Ui=W||m,$t=re||U,Mn(s,r),$t=re,Ui=W,Pn(r),c&8192)e:for(s=r.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||U||Ui||$t||ja(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){U=o=s;try{if(g=U.stateNode,m)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{C=U.stateNode;var ae=U.memoizedProps.style,Z=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;C.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(_e){ot(U,U.return,_e)}}}else if(s.tag===6){if(o===null){U=s;try{U.stateNode.nodeValue=m?"":U.memoizedProps}catch(_e){ot(U,U.return,_e)}}}else if(s.tag===18){if(o===null){U=s;try{var ee=U.stateNode;m?Hb(ee,!0):Hb(U.stateNode,!1)}catch(_e){ot(U,U.return,_e)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,$h(r,o))));break;case 19:Mn(s,r),Pn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,$h(r,c)));break;case 30:break;case 21:break;default:Mn(s,r),Pn(r)}}function Pn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(G_(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,g=_p(r);Gh(r,g,m);break;case 5:var x=o.stateNode;o.flags&32&&(In(x,""),o.flags&=-33);var C=_p(r);Gh(r,C,x);break;case 3:case 4:var U=o.stateNode.containerInfo,W=_p(r);bp(r,W,U);break;default:throw Error(i(161))}}catch(re){ot(r,r.return,re)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function eb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;eb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function zi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Q_(r,s.alternate,s),s=s.sibling}function ja(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ws(4,s,s.return),ja(s);break;case 1:oi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&H_(s,s.return,o),ja(s);break;case 27:jc(s.stateNode);case 26:case 5:oi(s,s.return),ja(s);break;case 22:s.memoizedState===null&&ja(s);break;case 30:ja(s);break;default:ja(s)}r=r.sibling}}function Fi(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=r,g=s,x=g.flags;switch(g.tag){case 0:case 11:case 15:Fi(m,g,o),Ac(4,g);break;case 1:if(Fi(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(W){ot(c,c.return,W)}if(c=g,m=c.updateQueue,m!==null){var C=c.stateNode;try{var U=m.shared.hiddenCallbacks;if(U!==null)for(m.shared.hiddenCallbacks=null,m=0;m<U.length;m++)I1(U[m],C)}catch(W){ot(c,c.return,W)}}o&&x&64&&F_(g),Cc(g,g.return);break;case 27:$_(g);case 26:case 5:Fi(m,g,o),o&&c===null&&x&4&&q_(g),Cc(g,g.return);break;case 12:Fi(m,g,o);break;case 31:Fi(m,g,o),o&&x&4&&W_(m,g);break;case 13:Fi(m,g,o),o&&x&4&&Z_(m,g);break;case 22:g.memoizedState===null&&Fi(m,g,o),Cc(g,g.return);break;case 30:break;default:Fi(m,g,o)}s=s.sibling}}function xp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&dc(o))}function Ep(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&dc(r))}function Or(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)tb(r,s,o,c),s=s.sibling}function tb(r,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Or(r,s,o,c),m&2048&&Ac(9,s);break;case 1:Or(r,s,o,c);break;case 3:Or(r,s,o,c),m&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&dc(r)));break;case 12:if(m&2048){Or(r,s,o,c),r=s.stateNode;try{var g=s.memoizedProps,x=g.id,C=g.onPostCommit;typeof C=="function"&&C(x,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){ot(s,s.return,U)}}else Or(r,s,o,c);break;case 31:Or(r,s,o,c);break;case 13:Or(r,s,o,c);break;case 23:break;case 22:g=s.stateNode,x=s.alternate,s.memoizedState!==null?g._visibility&2?Or(r,s,o,c):Rc(r,s):g._visibility&2?Or(r,s,o,c):(g._visibility|=2,Ho(r,s,o,c,(s.subtreeFlags&10256)!==0||!1)),m&2048&&xp(x,s);break;case 24:Or(r,s,o,c),m&2048&&Ep(s.alternate,s);break;default:Or(r,s,o,c)}}function Ho(r,s,o,c,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=r,x=s,C=o,U=c,W=x.flags;switch(x.tag){case 0:case 11:case 15:Ho(g,x,C,U,m),Ac(8,x);break;case 23:break;case 22:var re=x.stateNode;x.memoizedState!==null?re._visibility&2?Ho(g,x,C,U,m):Rc(g,x):(re._visibility|=2,Ho(g,x,C,U,m)),m&&W&2048&&xp(x.alternate,x);break;case 24:Ho(g,x,C,U,m),m&&W&2048&&Ep(x.alternate,x);break;default:Ho(g,x,C,U,m)}s=s.sibling}}function Rc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,m=c.flags;switch(c.tag){case 22:Rc(o,c),m&2048&&xp(c.alternate,c);break;case 24:Rc(o,c),m&2048&&Ep(c.alternate,c);break;default:Rc(o,c)}s=s.sibling}}var Nc=8192;function qo(r,s,o){if(r.subtreeFlags&Nc)for(r=r.child;r!==null;)nb(r,s,o),r=r.sibling}function nb(r,s,o){switch(r.tag){case 26:qo(r,s,o),r.flags&Nc&&r.memoizedState!==null&&bN(o,Ir,r.memoizedState,r.memoizedProps);break;case 5:qo(r,s,o);break;case 3:case 4:var c=Ir;Ir=of(r.stateNode.containerInfo),qo(r,s,o),Ir=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=Nc,Nc=16777216,qo(r,s,o),Nc=c):qo(r,s,o));break;default:qo(r,s,o)}}function rb(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Dc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];sn=c,sb(c,r)}rb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ib(r),r=r.sibling}function ib(r){switch(r.tag){case 0:case 11:case 15:Dc(r),r.flags&2048&&ws(9,r,r.return);break;case 3:Dc(r);break;case 12:Dc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Kh(r)):Dc(r);break;default:Dc(r)}}function Kh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];sn=c,sb(c,r)}rb(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ws(8,s,s.return),Kh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Kh(s));break;default:Kh(s)}r=r.sibling}}function sb(r,s){for(;sn!==null;){var o=sn;switch(o.tag){case 0:case 11:case 15:ws(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:dc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,sn=c;else e:for(o=r;sn!==null;){c=sn;var m=c.sibling,g=c.return;if(Y_(c),c===o){sn=null;break e}if(m!==null){m.return=g,sn=m;break e}sn=g}}}var VR={getCacheForType:function(r){var s=hn(Ht),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o},cacheSignal:function(){return hn(Ht).controller.signal}},jR=typeof WeakMap=="function"?WeakMap:Map,et=0,dt=null,Ue=null,ze=0,at=0,Kn=null,Ss=!1,Go=!1,wp=!1,Hi=0,Ct=0,As=0,La=0,Sp=0,Qn=0,$o=0,Ic=null,Vn=null,Ap=!1,Qh=0,ab=0,Yh=1/0,Xh=null,Cs=null,Zt=0,Rs=null,Ko=null,qi=0,Cp=0,Rp=null,ob=null,Oc=0,Np=null;function Yn(){return(et&2)!==0&&ze!==0?ze&-ze:H.T!==null?Vp():Wu()}function lb(){if(Qn===0)if((ze&536870912)===0||$e){var r=ua;ua<<=1,(ua&3932160)===0&&(ua=262144),Qn=r}else Qn=536870912;return r=Gn.current,r!==null&&(r.flags|=32),Qn}function jn(r,s,o){(r===dt&&(at===2||at===9)||r.cancelPendingCommit!==null)&&(Qo(r,0),Ns(r,ze,Qn,!1)),ha(r,o),((et&2)===0||r!==dt)&&(r===dt&&((et&2)===0&&(La|=o),Ct===4&&Ns(r,ze,Qn,!1)),li(r))}function cb(r,s,o){if((et&6)!==0)throw Error(i(327));var c=!o&&(s&127)===0&&(s&r.expiredLanes)===0||xr(r,s),m=c?UR(r,s):Ip(r,s,!0),g=c;do{if(m===0){Go&&!c&&Ns(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!LR(o)){m=Ip(r,s,!1),g=!1;continue}if(m===2){if(g=s,r.errorRecoveryDisabledLanes&g)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var C=r;m=Ic;var U=C.current.memoizedState.isDehydrated;if(U&&(Qo(C,x).flags|=256),x=Ip(C,x,!1),x!==2){if(wp&&!U){C.errorRecoveryDisabledLanes|=g,La|=g,m=4;break e}g=Vn,Vn=m,g!==null&&(Vn===null?Vn=g:Vn.push.apply(Vn,g))}m=x}if(g=!1,m!==2)continue}}if(m===1){Qo(r,0),Ns(r,s,0,!0);break}e:{switch(c=r,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ns(c,s,Qn,!Ss);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(m=Qh+300-tn(),10<m)){if(Ns(c,s,Qn,!Ss),qr(c,0,!0)!==0)break e;qi=s,c.timeoutHandle=Bb(ub.bind(null,c,o,Vn,Xh,Ap,s,Qn,La,$o,Ss,g,"Throttled",-0,0),m);break e}ub(c,o,Vn,Xh,Ap,s,Qn,La,$o,Ss,g,null,-0,0)}}break}while(!0);li(r)}function ub(r,s,o,c,m,g,x,C,U,W,re,ae,Z,ee){if(r.timeoutHandle=-1,ae=s.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sr},nb(s,g,ae);var _e=(g&62914560)===g?Qh-tn():(g&4194048)===g?ab-tn():0;if(_e=TN(ae,_e),_e!==null){qi=g,r.cancelPendingCommit=_e(vb.bind(null,r,s,g,o,c,m,x,C,U,re,ae,null,Z,ee)),Ns(r,g,x,!W);return}}vb(r,s,g,o,c,m,x,C,U)}function LR(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Hn(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ns(r,s,o,c){s&=~Sp,s&=~La,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var m=s;0<m;){var g=31-It(m),x=1<<g;c[g]=-1,m&=~x}o!==0&&fa(r,o,s)}function Wh(){return(et&6)===0?(Mc(0),!1):!0}function Dp(){if(Ue!==null){if(at===0)var r=Ue.return;else r=Ue,Mi=Ra=null,$m(r),ko=null,pc=0,r=Ue;for(;r!==null;)z_(r.alternate,r),r=r.return;Ue=null}}function Qo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,rN(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),qi=0,Dp(),dt=r,Ue=o=Ii(r.current,null),ze=s,at=0,Kn=null,Ss=!1,Go=xr(r,s),wp=!1,$o=Qn=Sp=La=As=Ct=0,Vn=Ic=null,Ap=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var m=31-It(c),g=1<<m;s|=r[m],c&=~g}return Hi=s,vh(),o}function hb(r,s){Ve=null,H.H=Ec,s===Lo||s===Ah?(s=C1(),at=3):s===Pm?(s=C1(),at=4):at=s===lp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Kn=s,Ue===null&&(Ct=1,Bh(r,ir(s,r.current)))}function fb(){var r=Gn.current;return r===null?!0:(ze&4194048)===ze?lr===null:(ze&62914560)===ze||(ze&536870912)!==0?r===lr:!1}function db(){var r=H.H;return H.H=Ec,r===null?Ec:r}function mb(){var r=H.A;return H.A=VR,r}function Zh(){Ct=4,Ss||(ze&4194048)!==ze&&Gn.current!==null||(Go=!0),(As&134217727)===0&&(La&134217727)===0||dt===null||Ns(dt,ze,Qn,!1)}function Ip(r,s,o){var c=et;et|=2;var m=db(),g=mb();(dt!==r||ze!==s)&&(Xh=null,Qo(r,s)),s=!1;var x=Ct;e:do try{if(at!==0&&Ue!==null){var C=Ue,U=Kn;switch(at){case 8:Dp(),x=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(s=!0);var W=at;if(at=0,Kn=null,Yo(r,C,U,W),o&&Go){x=0;break e}break;default:W=at,at=0,Kn=null,Yo(r,C,U,W)}}kR(),x=Ct;break}catch(re){hb(r,re)}while(!0);return s&&r.shellSuspendCounter++,Mi=Ra=null,et=c,H.H=m,H.A=g,Ue===null&&(dt=null,ze=0,vh()),x}function kR(){for(;Ue!==null;)pb(Ue)}function UR(r,s){var o=et;et|=2;var c=db(),m=mb();dt!==r||ze!==s?(Xh=null,Yh=tn()+500,Qo(r,s)):Go=xr(r,s);e:do try{if(at!==0&&Ue!==null){s=Ue;var g=Kn;t:switch(at){case 1:at=0,Kn=null,Yo(r,s,g,1);break;case 2:case 9:if(S1(g)){at=0,Kn=null,gb(s);break}s=function(){at!==2&&at!==9||dt!==r||(at=7),li(r)},g.then(s,s);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:S1(g)?(at=0,Kn=null,gb(s)):(at=0,Kn=null,Yo(r,s,g,7));break;case 5:var x=null;switch(Ue.tag){case 26:x=Ue.memoizedState;case 5:case 27:var C=Ue;if(x?tT(x):C.stateNode.complete){at=0,Kn=null;var U=C.sibling;if(U!==null)Ue=U;else{var W=C.return;W!==null?(Ue=W,Jh(W)):Ue=null}break t}}at=0,Kn=null,Yo(r,s,g,5);break;case 6:at=0,Kn=null,Yo(r,s,g,6);break;case 8:Dp(),Ct=6;break e;default:throw Error(i(462))}}BR();break}catch(re){hb(r,re)}while(!0);return Mi=Ra=null,H.H=c,H.A=m,et=o,Ue!==null?0:(dt=null,ze=0,vh(),Ct)}function BR(){for(;Ue!==null&&!Hl();)pb(Ue)}function pb(r){var s=U_(r.alternate,r,Hi);r.memoizedProps=r.pendingProps,s===null?Jh(r):Ue=s}function gb(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=M_(o,s,s.pendingProps,s.type,void 0,ze);break;case 11:s=M_(o,s,s.pendingProps,s.type.render,s.ref,ze);break;case 5:$m(s);default:z_(o,s),s=Ue=m1(s,Hi),s=U_(o,s,Hi)}r.memoizedProps=r.pendingProps,s===null?Jh(r):Ue=s}function Yo(r,s,o,c){Mi=Ra=null,$m(s),ko=null,pc=0;var m=s.return;try{if(RR(r,m,s,o,ze)){Ct=1,Bh(r,ir(o,r.current)),Ue=null;return}}catch(g){if(m!==null)throw Ue=m,g;Ct=1,Bh(r,ir(o,r.current)),Ue=null;return}s.flags&32768?($e||c===1?r=!0:Go||(ze&536870912)!==0?r=!1:(Ss=r=!0,(c===2||c===9||c===3||c===6)&&(c=Gn.current,c!==null&&c.tag===13&&(c.flags|=16384))),yb(s,r)):Jh(s)}function Jh(r){var s=r;do{if((s.flags&32768)!==0){yb(s,Ss);return}r=s.return;var o=IR(s.alternate,s,Hi);if(o!==null){Ue=o;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=r}while(s!==null);Ct===0&&(Ct=5)}function yb(r,s){do{var o=OR(r.alternate,r);if(o!==null){o.flags&=32767,Ue=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ue=r;return}Ue=r=o}while(r!==null);Ct=6,Ue=null}function vb(r,s,o,c,m,g,x,C,U){r.cancelPendingCommit=null;do ef();while(Zt!==0);if((et&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=_m,um(r,o,g,x,C,U),r===dt&&(Ue=dt=null,ze=0),Ko=s,Rs=r,qi=o,Cp=g,Rp=m,ob=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,qR(zr,function(){return Eb(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=H.T,H.T=null,m=ne.p,ne.p=2,x=et,et|=4;try{MR(r,s,o)}finally{et=x,ne.p=m,H.T=c}}Zt=1,_b(),bb(),Tb()}}function _b(){if(Zt===1){Zt=0;var r=Rs,s=Ko,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var c=ne.p;ne.p=2;var m=et;et|=4;try{J_(s,r);var g=Hp,x=s1(r.containerInfo),C=g.focusedElem,U=g.selectionRange;if(x!==C&&C&&C.ownerDocument&&i1(C.ownerDocument.documentElement,C)){if(U!==null&&mm(C)){var W=U.start,re=U.end;if(re===void 0&&(re=W),"selectionStart"in C)C.selectionStart=W,C.selectionEnd=Math.min(re,C.value.length);else{var ae=C.ownerDocument||document,Z=ae&&ae.defaultView||window;if(Z.getSelection){var ee=Z.getSelection(),_e=C.textContent.length,Ae=Math.min(U.start,_e),ft=U.end===void 0?Ae:Math.min(U.end,_e);!ee.extend&&Ae>ft&&(x=ft,ft=Ae,Ae=x);var $=r1(C,Ae),z=r1(C,ft);if($&&z&&(ee.rangeCount!==1||ee.anchorNode!==$.node||ee.anchorOffset!==$.offset||ee.focusNode!==z.node||ee.focusOffset!==z.offset)){var X=ae.createRange();X.setStart($.node,$.offset),ee.removeAllRanges(),Ae>ft?(ee.addRange(X),ee.extend(z.node,z.offset)):(X.setEnd(z.node,z.offset),ee.addRange(X))}}}}for(ae=[],ee=C;ee=ee.parentNode;)ee.nodeType===1&&ae.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ae.length;C++){var ie=ae[C];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}df=!!Fp,Hp=Fp=null}finally{et=m,ne.p=c,H.T=o}}r.current=s,Zt=2}}function bb(){if(Zt===2){Zt=0;var r=Rs,s=Ko,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var c=ne.p;ne.p=2;var m=et;et|=4;try{Q_(r,s.alternate,s)}finally{et=m,ne.p=c,H.T=o}}Zt=3}}function Tb(){if(Zt===4||Zt===3){Zt=0,uo();var r=Rs,s=Ko,o=qi,c=ob;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Zt=5:(Zt=0,Ko=Rs=null,xb(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(Cs=null),Ci(o),s=s.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Bn,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=H.T,m=ne.p,ne.p=2,H.T=null;try{for(var g=r.onRecoverableError,x=0;x<c.length;x++){var C=c[x];g(C.value,{componentStack:C.stack})}}finally{H.T=s,ne.p=m}}(qi&3)!==0&&ef(),li(r),m=r.pendingLanes,(o&261930)!==0&&(m&42)!==0?r===Np?Oc++:(Oc=0,Np=r):Oc=0,Mc(0)}}function xb(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,dc(s)))}function ef(){return _b(),bb(),Tb(),Eb()}function Eb(){if(Zt!==5)return!1;var r=Rs,s=Cp;Cp=0;var o=Ci(qi),c=H.T,m=ne.p;try{ne.p=32>o?32:o,H.T=null,o=Rp,Rp=null;var g=Rs,x=qi;if(Zt=0,Ko=Rs=null,qi=0,(et&6)!==0)throw Error(i(331));var C=et;if(et|=4,ib(g.current),tb(g,g.current,x,o),et=C,Mc(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Bn,g)}catch{}return!0}finally{ne.p=m,H.T=c,xb(r,s)}}function wb(r,s,o){s=ir(o,s),s=op(r.stateNode,s,2),r=Ts(r,s,2),r!==null&&(ha(r,2),li(r))}function ot(r,s,o){if(r.tag===3)wb(r,r,o);else for(;s!==null;){if(s.tag===3){wb(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Cs===null||!Cs.has(c))){r=ir(o,r),o=S_(2),c=Ts(s,o,2),c!==null&&(A_(o,c,s,r),ha(c,2),li(c));break}}s=s.return}}function Op(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new jR;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(wp=!0,m.add(o),r=zR.bind(null,r,s,o),s.then(r,r))}function zR(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,dt===r&&(ze&o)===o&&(Ct===4||Ct===3&&(ze&62914560)===ze&&300>tn()-Qh?(et&2)===0&&Qo(r,0):Sp|=o,$o===ze&&($o=0)),li(r)}function Sb(r,s){s===0&&(s=Xu()),r=Sa(r,s),r!==null&&(ha(r,s),li(r))}function FR(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Sb(r,o)}function HR(r,s){var o=0;switch(r.tag){case 31:case 13:var c=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),Sb(r,o)}function qR(r,s){return nt(r,s)}var tf=null,Xo=null,Mp=!1,nf=!1,Pp=!1,Ds=0;function li(r){r!==Xo&&r.next===null&&(Xo===null?tf=Xo=r:Xo=Xo.next=r),nf=!0,Mp||(Mp=!0,$R())}function Mc(r,s){if(!Pp&&nf){Pp=!0;do for(var o=!1,c=tf;c!==null;){if(r!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var x=c.suspendedLanes,C=c.pingedLanes;g=(1<<31-It(42|r)+1)-1,g&=m&~(x&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Nb(c,g))}else g=ze,g=qr(c,c===dt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||xr(c,g)||(o=!0,Nb(c,g));c=c.next}while(o);Pp=!1}}function GR(){Ab()}function Ab(){nf=Mp=!1;var r=0;Ds!==0&&nN()&&(r=Ds);for(var s=tn(),o=null,c=tf;c!==null;){var m=c.next,g=Cb(c,s);g===0?(c.next=null,o===null?tf=m:o.next=m,m===null&&(Xo=o)):(o=c,(r!==0||(g&3)!==0)&&(nf=!0)),c=m}Zt!==0&&Zt!==5||Mc(r),Ds!==0&&(Ds=0)}function Cb(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,m=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var x=31-It(g),C=1<<x,U=m[x];U===-1?((C&o)===0||(C&c)!==0)&&(m[x]=cm(C,s)):U<=s&&(r.expiredLanes|=C),g&=~C}if(s=dt,o=ze,o=qr(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(at===2||at===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Br(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||xr(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&Br(c),Ci(o)){case 2:case 8:o=la;break;case 32:o=zr;break;case 268435456:o=ca;break;default:o=zr}return c=Rb.bind(null,r),o=nt(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&Br(c),r.callbackPriority=2,r.callbackNode=null,2}function Rb(r,s){if(Zt!==0&&Zt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(ef()&&r.callbackNode!==o)return null;var c=ze;return c=qr(r,r===dt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(cb(r,c,s),Cb(r,tn()),r.callbackNode!=null&&r.callbackNode===o?Rb.bind(null,r):null)}function Nb(r,s){if(ef())return null;cb(r,s,!0)}function $R(){iN(function(){(et&6)!==0?nt(is,GR):Ab()})}function Vp(){if(Ds===0){var r=Vo;r===0&&(r=Fr,Fr<<=1,(Fr&261888)===0&&(Fr=256)),Ds=r}return Ds}function Db(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:bo(""+r)}function Ib(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function KR(r,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var g=Db((m[nn]||null).action),x=c.submitter;x&&(s=(s=x[nn]||null)?Db(s.formAction):x.getAttribute("formAction"),s!==null&&(g=s,x=null));var C=new ti("action","action",null,c,m);r.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ds!==0){var U=x?Ib(m,x):new FormData(m);tp(o,{pending:!0,data:U,method:m.method,action:g},null,U)}}else typeof g=="function"&&(C.preventDefault(),U=x?Ib(m,x):new FormData(m),tp(o,{pending:!0,data:U,method:m.method,action:g},g,U))},currentTarget:m}]})}}for(var jp=0;jp<vm.length;jp++){var Lp=vm[jp],QR=Lp.toLowerCase(),YR=Lp[0].toUpperCase()+Lp.slice(1);Dr(QR,"on"+YR)}Dr(l1,"onAnimationEnd"),Dr(c1,"onAnimationIteration"),Dr(u1,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(hR,"onTransitionRun"),Dr(fR,"onTransitionStart"),Dr(dR,"onTransitionCancel"),Dr(h1,"onTransitionEnd"),Wr("onMouseEnter",["mouseout","mouseover"]),Wr("onMouseLeave",["mouseout","mouseover"]),Wr("onPointerEnter",["pointerout","pointerover"]),Wr("onPointerLeave",["pointerout","pointerover"]),Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pc));function Ob(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],m=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var x=c.length-1;0<=x;x--){var C=c[x],U=C.instance,W=C.currentTarget;if(C=C.listener,U!==g&&m.isPropagationStopped())break e;g=C,m.currentTarget=W;try{g(m)}catch(re){yh(re)}m.currentTarget=null,g=U}else for(x=0;x<c.length;x++){if(C=c[x],U=C.instance,W=C.currentTarget,C=C.listener,U!==g&&m.isPropagationStopped())break e;g=C,m.currentTarget=W;try{g(m)}catch(re){yh(re)}m.currentTarget=null,g=U}}}}function Be(r,s){var o=s[po];o===void 0&&(o=s[po]=new Set);var c=r+"__bubble";o.has(c)||(Mb(s,r,2,!1),o.add(c))}function kp(r,s,o){var c=0;s&&(c|=4),Mb(o,r,c,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function Up(r){if(!r[rf]){r[rf]=!0,$l.forEach(function(o){o!=="selectionchange"&&(XR.has(o)||kp(o,!1,r),kp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[rf]||(s[rf]=!0,kp("selectionchange",!1,s))}}function Mb(r,s,o,c){switch(lT(s)){case 2:var m=wN;break;case 8:m=SN;break;default:m=eg}o=m.bind(null,s,o,r),m=void 0,!ya||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?r.addEventListener(s,o,{capture:!0,passive:m}):r.addEventListener(s,o,!0):m!==void 0?r.addEventListener(s,o,{passive:m}):r.addEventListener(s,o,!1)}function Bp(r,s,o,c,m){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var C=c.stateNode.containerInfo;if(C===m)break;if(x===4)for(x=c.return;x!==null;){var U=x.tag;if((U===3||U===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;C!==null;){if(x=Qr(C),x===null)return;if(U=x.tag,U===5||U===6||U===26||U===27){c=g=x;continue e}C=C.parentNode}}c=c.return}hs(function(){var W=g,re=er(o),ae=[];e:{var Z=f1.get(r);if(Z!==void 0){var ee=ti,_e=r;switch(r){case"keypress":if(_a(o)===0)break e;case"keydown":case"keyup":ee=mh;break;case"focusin":_e="focus",ee=Ta;break;case"focusout":_e="blur",ee=Ta;break;case"beforeblur":case"afterblur":ee=Ta;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=_;break;case l1:case c1:case u1:ee=oh;break;case h1:ee=R;break;case"scroll":case"scrollend":ee=ic;break;case"wheel":ee=J;break;case"copy":case"cut":case"paste":ee=lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Di;break;case"toggle":case"beforetoggle":ee=Pe}var Ae=(s&4)!==0,ft=!Ae&&(r==="scroll"||r==="scrollend"),$=Ae?Z!==null?Z+"Capture":null:Z;Ae=[];for(var z=W,X;z!==null;){var ie=z;if(X=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||X===null||$===null||(ie=Ar(z,$),ie!=null&&Ae.push(Vc(z,ie,X))),ft)break;z=z.return}0<Ae.length&&(Z=new ee(Z,_e,null,o,re),ae.push({event:Z,listeners:Ae}))}}if((s&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",ee=r==="mouseout"||r==="pointerout",Z&&o!==tc&&(_e=o.relatedTarget||o.fromElement)&&(Qr(_e)||_e[$r]))break e;if((ee||Z)&&(Z=re.window===re?re:(Z=re.ownerDocument)?Z.defaultView||Z.parentWindow:window,ee?(_e=o.relatedTarget||o.toElement,ee=W,_e=_e?Qr(_e):null,_e!==null&&(ft=l(_e),Ae=_e.tag,_e!==ft||Ae!==5&&Ae!==27&&Ae!==6)&&(_e=null)):(ee=null,_e=W),ee!==_e)){if(Ae=sc,ie="onMouseLeave",$="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(Ae=Di,ie="onPointerLeave",$="onPointerEnter",z="pointer"),ft=ee==null?Z:zn(ee),X=_e==null?Z:zn(_e),Z=new Ae(ie,z+"leave",ee,o,re),Z.target=ft,Z.relatedTarget=X,ie=null,Qr(re)===W&&(Ae=new Ae($,z+"enter",_e,o,re),Ae.target=X,Ae.relatedTarget=ft,ie=Ae),ft=ie,ee&&_e)t:{for(Ae=WR,$=ee,z=_e,X=0,ie=$;ie;ie=Ae(ie))X++;ie=0;for(var Ee=z;Ee;Ee=Ae(Ee))ie++;for(;0<X-ie;)$=Ae($),X--;for(;0<ie-X;)z=Ae(z),ie--;for(;X--;){if($===z||z!==null&&$===z.alternate){Ae=$;break t}$=Ae($),z=Ae(z)}Ae=null}else Ae=null;ee!==null&&Pb(ae,Z,ee,Ae,!1),_e!==null&&ft!==null&&Pb(ae,ft,_e,Ae,!0)}}e:{if(Z=W?zn(W):window,ee=Z.nodeName&&Z.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Z.type==="file")var Ye=Wv;else if(Yv(Z))if(Zv)Ye=lR;else{Ye=aR;var Te=sR}else ee=Z.nodeName,!ee||ee.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?W&&_o(W.elementType)&&(Ye=Wv):Ye=oR;if(Ye&&(Ye=Ye(r,W))){Xv(ae,Ye,o,re);break e}Te&&Te(r,Z,W),r==="focusout"&&W&&Z.type==="number"&&W.memoizedProps.value!=null&&Zl(Z,"number",Z.value)}switch(Te=W?zn(W):window,r){case"focusin":(Yv(Te)||Te.contentEditable==="true")&&(Co=Te,pm=W,uc=null);break;case"focusout":uc=pm=Co=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,a1(ae,o,re);break;case"selectionchange":if(uR)break;case"keydown":case"keyup":a1(ae,o,re)}var Le;if(Je)e:{switch(r){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ao?xa(r,o)&&(Fe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Fe="onCompositionStart");Fe&&(ii&&o.locale!=="ko"&&(Ao||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ao&&(Le=rc()):(ei=re,nc="value"in ei?ei.value:ei.textContent,Ao=!0)),Te=sf(W,Fe),0<Te.length&&(Fe=new ri(Fe,r,null,o,re),ae.push({event:Fe,listeners:Te}),Le?Fe.data=Le:(Le=So(o),Le!==null&&(Fe.data=Le)))),(Le=nr?tR(r,o):nR(r,o))&&(Fe=sf(W,"onBeforeInput"),0<Fe.length&&(Te=new ri("onBeforeInput","beforeinput",null,o,re),ae.push({event:Te,listeners:Fe}),Te.data=Le)),KR(ae,r,W,o,re)}Ob(ae,s)})}function Vc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function sf(r,s){for(var o=s+"Capture",c=[];r!==null;){var m=r,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ar(r,o),m!=null&&c.unshift(Vc(r,m,g)),m=Ar(r,s),m!=null&&c.push(Vc(r,m,g))),r.tag===3)return c;r=r.return}return[]}function WR(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Pb(r,s,o,c,m){for(var g=s._reactName,x=[];o!==null&&o!==c;){var C=o,U=C.alternate,W=C.stateNode;if(C=C.tag,U!==null&&U===c)break;C!==5&&C!==26&&C!==27||W===null||(U=W,m?(W=Ar(o,g),W!=null&&x.unshift(Vc(o,W,U))):m||(W=Ar(o,g),W!=null&&x.push(Vc(o,W,U)))),o=o.return}x.length!==0&&r.push({event:s,listeners:x})}var ZR=/\r\n?/g,JR=/\u0000|\uFFFD/g;function Vb(r){return(typeof r=="string"?r:""+r).replace(ZR,`
`).replace(JR,"")}function jb(r,s){return s=Vb(s),Vb(r)===s}function ht(r,s,o,c,m,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||In(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&In(r,""+c);break;case"className":Fn(r,"class",c);break;case"tabIndex":Fn(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(r,o,c);break;case"style":ec(r,c,g);break;case"data":if(s!=="object"){Fn(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=bo(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&ht(r,s,"name",m.name,m,null),ht(r,s,"formEncType",m.formEncType,m,null),ht(r,s,"formMethod",m.formMethod,m,null),ht(r,s,"formTarget",m.formTarget,m,null)):(ht(r,s,"encType",m.encType,m,null),ht(r,s,"method",m.method,m,null),ht(r,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=bo(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Sr);break;case"onScroll":c!=null&&Be("scroll",r);break;case"onScrollEnd":c!=null&&Be("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=bo(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Be("beforetoggle",r),Be("toggle",r),yo(r,"popover",c);break;case"xlinkActuate":Ft(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ft(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ft(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ft(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ft(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ft(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ft(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ft(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ft(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":yo(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ih.get(o)||o,yo(r,o,c))}}function zp(r,s,o,c,m,g){switch(o){case"style":ec(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?In(r,c):(typeof c=="number"||typeof c=="bigint")&&In(r,""+c);break;case"onScroll":c!=null&&Be("scroll",r);break;case"onScrollEnd":c!=null&&Be("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=r[nn]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,m);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):yo(r,o,c)}}}function dn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",r),Be("load",r);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var x=o[g];if(x!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ht(r,s,g,x,o,null)}}m&&ht(r,s,"srcSet",o.srcSet,o,null),c&&ht(r,s,"src",o.src,o,null);return;case"input":Be("invalid",r);var C=g=x=m=null,U=null,W=null;for(c in o)if(o.hasOwnProperty(c)){var re=o[c];if(re!=null)switch(c){case"name":m=re;break;case"type":x=re;break;case"checked":U=re;break;case"defaultChecked":W=re;break;case"value":g=re;break;case"defaultValue":C=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:ht(r,s,c,re,o,null)}}th(r,g,C,U,W,x,m,!1);return;case"select":Be("invalid",r),c=x=g=null;for(m in o)if(o.hasOwnProperty(m)&&(C=o[m],C!=null))switch(m){case"value":g=C;break;case"defaultValue":x=C;break;case"multiple":c=C;default:ht(r,s,m,C,o,null)}s=g,o=x,r.multiple=!!c,s!=null?os(r,!!c,s,!1):o!=null&&os(r,!!c,o,!0);return;case"textarea":Be("invalid",r),g=m=c=null;for(x in o)if(o.hasOwnProperty(x)&&(C=o[x],C!=null))switch(x){case"value":c=C;break;case"defaultValue":m=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:ht(r,s,x,C,o,null)}ls(r,c,m,g);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(c=o[U],c!=null))switch(U){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ht(r,s,U,c,o,null)}return;case"dialog":Be("beforetoggle",r),Be("toggle",r),Be("cancel",r),Be("close",r);break;case"iframe":case"object":Be("load",r);break;case"video":case"audio":for(c=0;c<Pc.length;c++)Be(Pc[c],r);break;case"image":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"embed":case"source":case"link":Be("error",r),Be("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(c=o[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ht(r,s,W,c,o,null)}return;default:if(_o(s)){for(re in o)o.hasOwnProperty(re)&&(c=o[re],c!==void 0&&zp(r,s,re,c,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(c=o[C],c!=null&&ht(r,s,C,c,o,null))}function eN(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,x=null,C=null,U=null,W=null,re=null;for(ee in o){var ae=o[ee];if(o.hasOwnProperty(ee)&&ae!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":U=ae;default:c.hasOwnProperty(ee)||ht(r,s,ee,null,c,ae)}}for(var Z in c){var ee=c[Z];if(ae=o[Z],c.hasOwnProperty(Z)&&(ee!=null||ae!=null))switch(Z){case"type":g=ee;break;case"name":m=ee;break;case"checked":W=ee;break;case"defaultChecked":re=ee;break;case"value":x=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:ee!==ae&&ht(r,s,Z,ee,c,ae)}}vo(r,x,C,U,W,re,g,m);return;case"select":ee=x=C=Z=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":ee=U;default:c.hasOwnProperty(g)||ht(r,s,g,null,c,U)}for(m in c)if(g=c[m],U=o[m],c.hasOwnProperty(m)&&(g!=null||U!=null))switch(m){case"value":Z=g;break;case"defaultValue":C=g;break;case"multiple":x=g;default:g!==U&&ht(r,s,m,g,c,U)}s=C,o=x,c=ee,Z!=null?os(r,!!o,Z,!1):!!c!=!!o&&(s!=null?os(r,!!o,s,!0):os(r,!!o,o?[]:"",!1));return;case"textarea":ee=Z=null;for(C in o)if(m=o[C],o.hasOwnProperty(C)&&m!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ht(r,s,C,null,c,m)}for(x in c)if(m=c[x],g=o[x],c.hasOwnProperty(x)&&(m!=null||g!=null))switch(x){case"value":Z=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&ht(r,s,x,m,c,g)}nh(r,Z,ee);return;case"option":for(var _e in o)if(Z=o[_e],o.hasOwnProperty(_e)&&Z!=null&&!c.hasOwnProperty(_e))switch(_e){case"selected":r.selected=!1;break;default:ht(r,s,_e,null,c,Z)}for(U in c)if(Z=c[U],ee=o[U],c.hasOwnProperty(U)&&Z!==ee&&(Z!=null||ee!=null))switch(U){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ht(r,s,U,Z,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)Z=o[Ae],o.hasOwnProperty(Ae)&&Z!=null&&!c.hasOwnProperty(Ae)&&ht(r,s,Ae,null,c,Z);for(W in c)if(Z=c[W],ee=o[W],c.hasOwnProperty(W)&&Z!==ee&&(Z!=null||ee!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:ht(r,s,W,Z,c,ee)}return;default:if(_o(s)){for(var ft in o)Z=o[ft],o.hasOwnProperty(ft)&&Z!==void 0&&!c.hasOwnProperty(ft)&&zp(r,s,ft,void 0,c,Z);for(re in c)Z=c[re],ee=o[re],!c.hasOwnProperty(re)||Z===ee||Z===void 0&&ee===void 0||zp(r,s,re,Z,c,ee);return}}for(var $ in o)Z=o[$],o.hasOwnProperty($)&&Z!=null&&!c.hasOwnProperty($)&&ht(r,s,$,null,c,Z);for(ae in c)Z=c[ae],ee=o[ae],!c.hasOwnProperty(ae)||Z===ee||Z==null&&ee==null||ht(r,s,ae,Z,c,ee)}function Lb(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tN(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,x=m.initiatorType,C=m.duration;if(g&&C&&Lb(x)){for(x=0,C=m.responseEnd,c+=1;c<o.length;c++){var U=o[c],W=U.startTime;if(W>C)break;var re=U.transferSize,ae=U.initiatorType;re&&Lb(ae)&&(U=U.responseEnd,x+=re*(U<C?1:(C-W)/(U-W)))}if(--c,s+=8*(g+x)/(m.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Fp=null,Hp=null;function af(r){return r.nodeType===9?r:r.ownerDocument}function kb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ub(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function qp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gp=null;function nN(){var r=window.event;return r&&r.type==="popstate"?r===Gp?!1:(Gp=r,!0):(Gp=null,!1)}var Bb=typeof setTimeout=="function"?setTimeout:void 0,rN=typeof clearTimeout=="function"?clearTimeout:void 0,zb=typeof Promise=="function"?Promise:void 0,iN=typeof queueMicrotask=="function"?queueMicrotask:typeof zb<"u"?function(r){return zb.resolve(null).then(r).catch(sN)}:Bb;function sN(r){setTimeout(function(){throw r})}function Is(r){return r==="head"}function Fb(r,s){var o=s,c=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){r.removeChild(m),el(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")jc(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,jc(o);for(var g=o.firstChild;g;){var x=g.nextSibling,C=g.nodeName;g[Kr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=x}}else o==="body"&&jc(r.ownerDocument.body);o=m}while(o);el(s)}function Hb(r,s){var o=r;r=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=c}while(o)}function $p(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":$p(o),go(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function aN(r,s,o,c){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Kr])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=cr(r.nextSibling),r===null)break}return null}function oN(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=cr(r.nextSibling),r===null))return null;return r}function qb(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=cr(r.nextSibling),r===null))return null;return r}function Kp(r){return r.data==="$?"||r.data==="$~"}function Qp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function lN(r,s){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function cr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var Yp=null;function Gb(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(s===0)return cr(r.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}r=r.nextSibling}return null}function $b(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return r;s--}else o!=="/$"&&o!=="/&"||s++}r=r.previousSibling}return null}function Kb(r,s,o){switch(s=af(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function jc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);go(r)}var ur=new Map,Qb=new Set;function of(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Gi=ne.d;ne.d={f:cN,r:uN,D:hN,C:fN,L:dN,m:mN,X:gN,S:pN,M:yN};function cN(){var r=Gi.f(),s=Wh();return r||s}function uN(r){var s=Jn(r);s!==null&&s.tag===5&&s.type==="form"?h_(s):Gi.r(r)}var Wo=typeof document>"u"?null:document;function Yb(r,s,o){var c=Wo;if(c&&typeof s=="string"&&s){var m=Dn(s);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Qb.has(m)||(Qb.add(m),r={rel:r,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),dn(s,"link",r),zt(s),c.head.appendChild(s)))}}function hN(r){Gi.D(r),Yb("dns-prefetch",r,null)}function fN(r,s){Gi.C(r,s),Yb("preconnect",r,s)}function dN(r,s,o){Gi.L(r,s,o);var c=Wo;if(c&&r&&s){var m='link[rel="preload"][as="'+Dn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Dn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Dn(o.imageSizes)+'"]')):m+='[href="'+Dn(r)+'"]';var g=m;switch(s){case"style":g=Zo(r);break;case"script":g=Jo(r)}ur.has(g)||(r=b({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ur.set(g,r),c.querySelector(m)!==null||s==="style"&&c.querySelector(Lc(g))||s==="script"&&c.querySelector(kc(g))||(s=c.createElement("link"),dn(s,"link",r),zt(s),c.head.appendChild(s)))}}function mN(r,s){Gi.m(r,s);var o=Wo;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Dn(c)+'"][href="'+Dn(r)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Jo(r)}if(!ur.has(g)&&(r=b({rel:"modulepreload",href:r},s),ur.set(g,r),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(kc(g)))return}c=o.createElement("link"),dn(c,"link",r),zt(c),o.head.appendChild(c)}}}function pN(r,s,o){Gi.S(r,s,o);var c=Wo;if(c&&r){var m=Yr(c).hoistableStyles,g=Zo(r);s=s||"default";var x=m.get(g);if(!x){var C={loading:0,preload:null};if(x=c.querySelector(Lc(g)))C.loading=5;else{r=b({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ur.get(g))&&Xp(r,o);var U=x=c.createElement("link");zt(U),dn(U,"link",r),U._p=new Promise(function(W,re){U.onload=W,U.onerror=re}),U.addEventListener("load",function(){C.loading|=1}),U.addEventListener("error",function(){C.loading|=2}),C.loading|=4,lf(x,s,c)}x={type:"stylesheet",instance:x,count:1,state:C},m.set(g,x)}}}function gN(r,s){Gi.X(r,s);var o=Wo;if(o&&r){var c=Yr(o).hoistableScripts,m=Jo(r),g=c.get(m);g||(g=o.querySelector(kc(m)),g||(r=b({src:r,async:!0},s),(s=ur.get(m))&&Wp(r,s),g=o.createElement("script"),zt(g),dn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function yN(r,s){Gi.M(r,s);var o=Wo;if(o&&r){var c=Yr(o).hoistableScripts,m=Jo(r),g=c.get(m);g||(g=o.querySelector(kc(m)),g||(r=b({src:r,async:!0,type:"module"},s),(s=ur.get(m))&&Wp(r,s),g=o.createElement("script"),zt(g),dn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function Xb(r,s,o,c){var m=(m=pe.current)?of(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Zo(o.href),o=Yr(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Zo(o.href);var g=Yr(m).hoistableStyles,x=g.get(r);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,x),(g=m.querySelector(Lc(r)))&&!g._p&&(x.instance=g,x.state.loading=5),ur.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ur.set(r,o),g||vN(m,r,o,x.state))),s&&c===null)throw Error(i(528,""));return x}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Jo(o),o=Yr(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Zo(r){return'href="'+Dn(r)+'"'}function Lc(r){return'link[rel="stylesheet"]['+r+"]"}function Wb(r){return b({},r,{"data-precedence":r.precedence,precedence:null})}function vN(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),dn(s,"link",o),zt(s),r.head.appendChild(s))}function Jo(r){return'[src="'+Dn(r)+'"]'}function kc(r){return"script[async]"+r}function Zb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Dn(o.href)+'"]');if(c)return s.instance=c,zt(c),c;var m=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),zt(c),dn(c,"style",m),lf(c,o.precedence,r),s.instance=c;case"stylesheet":m=Zo(o.href);var g=r.querySelector(Lc(m));if(g)return s.state.loading|=4,s.instance=g,zt(g),g;c=Wb(o),(m=ur.get(m))&&Xp(c,m),g=(r.ownerDocument||r).createElement("link"),zt(g);var x=g;return x._p=new Promise(function(C,U){x.onload=C,x.onerror=U}),dn(g,"link",c),s.state.loading|=4,lf(g,o.precedence,r),s.instance=g;case"script":return g=Jo(o.src),(m=r.querySelector(kc(g)))?(s.instance=m,zt(m),m):(c=o,(m=ur.get(g))&&(c=b({},o),Wp(c,m)),r=r.ownerDocument||r,m=r.createElement("script"),zt(m),dn(m,"link",c),r.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,lf(c,o.precedence,r));return s.instance}function lf(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,x=0;x<c.length;x++){var C=c[x];if(C.dataset.precedence===s)g=C;else if(g!==m)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Xp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Wp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var cf=null;function Jb(r,s,o){if(cf===null){var c=new Map,m=cf=new Map;m.set(o,c)}else m=cf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var g=o[m];if(!(g[Kr]||g[Bt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(s)||"";x=r+x;var C=c.get(x);C?C.push(g):c.set(x,[g])}}return c}function eT(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function _N(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function tT(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function bN(r,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Zo(c.href),g=s.querySelector(Lc(m));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=uf.bind(r),s.then(r,r)),o.state.loading|=4,o.instance=g,zt(g);return}g=s.ownerDocument||s,c=Wb(c),(m=ur.get(m))&&Xp(c,m),g=g.createElement("link"),zt(g);var x=g;x._p=new Promise(function(C,U){x.onload=C,x.onerror=U}),dn(g,"link",c),o.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=uf.bind(r),s.addEventListener("load",o),s.addEventListener("error",o))}}var Zp=0;function TN(r,s){return r.stylesheets&&r.count===0&&ff(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var c=setTimeout(function(){if(r.stylesheets&&ff(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+s);0<r.imgBytes&&Zp===0&&(Zp=62500*tN());var m=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&ff(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>Zp?50:800)+s);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function uf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ff(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var hf=null;function ff(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,hf=new Map,s.forEach(xN,r),hf=null,uf.call(r))}function xN(r,s){if(!(s.state.loading&4)){var o=hf.get(r);if(o)var c=o.get(null);else{o=new Map,hf.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var x=m[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),c=x)}c&&o.set(null,c)}m=s.instance,x=m.getAttribute("data-precedence"),g=o.get(x)||c,g===c&&o.set(null,m),o.set(x,m),this.count++,c=uf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),s.state.loading|=4}}var Uc={$$typeof:G,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function EN(r,s,o,c,m,g,x,C,U){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function nT(r,s,o,c,m,g,x,C,U,W,re,ae){return r=new EN(r,s,o,x,U,W,re,ae,C),s=1,g===!0&&(s|=24),g=qn(3,null,null,s),r.current=g,g.stateNode=r,s=Im(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Vm(g),r}function rT(r){return r?(r=Do,r):Do}function iT(r,s,o,c,m,g){m=rT(m),c.context===null?c.context=m:c.pendingContext=m,c=bs(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Ts(r,c,s),o!==null&&(jn(o,r,s),yc(o,r,s))}function sT(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Jp(r,s){sT(r,s),(r=r.alternate)&&sT(r,s)}function aT(r){if(r.tag===13||r.tag===31){var s=Sa(r,67108864);s!==null&&jn(s,r,67108864),Jp(r,67108864)}}function oT(r){if(r.tag===13||r.tag===31){var s=Yn();s=da(s);var o=Sa(r,s);o!==null&&jn(o,r,s),Jp(r,s)}}var df=!0;function wN(r,s,o,c){var m=H.T;H.T=null;var g=ne.p;try{ne.p=2,eg(r,s,o,c)}finally{ne.p=g,H.T=m}}function SN(r,s,o,c){var m=H.T;H.T=null;var g=ne.p;try{ne.p=8,eg(r,s,o,c)}finally{ne.p=g,H.T=m}}function eg(r,s,o,c){if(df){var m=tg(c);if(m===null)Bp(r,s,c,mf,o),cT(r,c);else if(CN(m,r,s,o,c))c.stopPropagation();else if(cT(r,c),s&4&&-1<AN.indexOf(r)){for(;m!==null;){var g=Jn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=Hr(g.pendingLanes);if(x!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;x;){var U=1<<31-It(x);C.entanglements[1]|=U,x&=~U}li(g),(et&6)===0&&(Yh=tn()+500,Mc(0))}}break;case 31:case 13:C=Sa(g,2),C!==null&&jn(C,g,2),Wh(),Jp(g,2)}if(g=tg(c),g===null&&Bp(r,s,c,mf,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Bp(r,s,c,null,o)}}function tg(r){return r=er(r),ng(r)}var mf=null;function ng(r){if(mf=null,r=Qr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===31){if(r=f(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return mf=r,null}function lT(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ai()){case is:return 2;case la:return 8;case zr:case ho:return 32;case ca:return 268435456;default:return 32}default:return 32}}var rg=!1,Os=null,Ms=null,Ps=null,Bc=new Map,zc=new Map,Vs=[],AN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cT(r,s){switch(r){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":Bc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(s.pointerId)}}function Fc(r,s,o,c,m,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},s!==null&&(s=Jn(s),s!==null&&aT(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function CN(r,s,o,c,m){switch(s){case"focusin":return Os=Fc(Os,r,s,o,c,m),!0;case"dragenter":return Ms=Fc(Ms,r,s,o,c,m),!0;case"mouseover":return Ps=Fc(Ps,r,s,o,c,m),!0;case"pointerover":var g=m.pointerId;return Bc.set(g,Fc(Bc.get(g)||null,r,s,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,zc.set(g,Fc(zc.get(g)||null,r,s,o,c,m)),!0}return!1}function uT(r){var s=Qr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,Er(r.priority,function(){oT(o)});return}}else if(s===31){if(s=f(o),s!==null){r.blockedOn=s,Er(r.priority,function(){oT(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function pf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=tg(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);tc=c,o.target.dispatchEvent(c),tc=null}else return s=Jn(o),s!==null&&aT(s),r.blockedOn=o,!1;s.shift()}return!0}function hT(r,s,o){pf(r)&&o.delete(s)}function RN(){rg=!1,Os!==null&&pf(Os)&&(Os=null),Ms!==null&&pf(Ms)&&(Ms=null),Ps!==null&&pf(Ps)&&(Ps=null),Bc.forEach(hT),zc.forEach(hT)}function gf(r,s){r.blockedOn===s&&(r.blockedOn=null,rg||(rg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,RN)))}var yf=null;function fT(r){yf!==r&&(yf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yf===r&&(yf=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],m=r[s+2];if(typeof c!="function"){if(ng(c||o)===null)continue;break}var g=Jn(o);g!==null&&(r.splice(s,3),s-=3,tp(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function el(r){function s(U){return gf(U,r)}Os!==null&&gf(Os,r),Ms!==null&&gf(Ms,r),Ps!==null&&gf(Ps,r),Bc.forEach(s),zc.forEach(s);for(var o=0;o<Vs.length;o++){var c=Vs[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Vs.length&&(o=Vs[0],o.blockedOn===null);)uT(o),o.blockedOn===null&&Vs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],x=m[nn]||null;if(typeof g=="function")x||fT(o);else if(x){var C=null;if(g&&g.hasAttribute("formAction")){if(m=g,x=g[nn]||null)C=x.formAction;else if(ng(m)!==null)continue}else C=x.action;typeof C=="function"?o[c+1]=C:(o.splice(c,3),c-=3),fT(o)}}}function dT(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return m=x})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function ig(r){this._internalRoot=r}vf.prototype.render=ig.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=Yn();iT(o,c,r,s,null,null)},vf.prototype.unmount=ig.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;iT(r.current,2,null,r,null,null),Wh(),s[$r]=null}};function vf(r){this._internalRoot=r}vf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Wu();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Vs.length&&s!==0&&s<Vs[o].priority;o++);Vs.splice(o,0,r),o===0&&uT(r)}};var mT=e.version;if(mT!=="19.2.0")throw Error(i(527,mT,"19.2.0"));ne.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?v(r):null,r=r===null?null:r.stateNode,r};var NN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{Bn=_f.inject(NN),ln=_f}catch{}}return qc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",m=T_,g=x_,x=E_;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=nT(r,1,!1,null,null,o,c,null,m,g,x,dT),r[$r]=s.current,Up(r),new ig(s)},qc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,m="",g=T_,x=x_,C=E_,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),s=nT(r,1,!0,s,o??null,c,m,U,g,x,C,dT),s.context=rT(null),o=s.current,c=Yn(),c=da(c),m=bs(c),m.callback=null,Ts(o,m,c),o=c,s.current.lanes=o,ha(s,o),li(s),r[$r]=s.current,Up(r),new vf(s)},qc.version="19.2.0",qc}var wT;function BN(){if(wT)return og.exports;wT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),og.exports=UN(),og.exports}var zN=BN();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ST="popstate";function FN(t={}){function e(i,a){let{pathname:l,search:u,hash:f}=i.location;return Yg("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:fu(a)}return qN(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HN(){return Math.random().toString(36).substring(2,10)}function AT(t,e){return{usr:t.state,key:t.key,idx:e}}function Yg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Nl(e):e,state:n,key:e&&e.key||i||HN()}}function fu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Nl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function qN(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,f="POP",d=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function b(){f="POP";let O=v(),B=O==null?null:O-p;p=O,d&&d({action:f,location:j.location,delta:B})}function T(O,B){f="PUSH";let k=Yg(j.location,O,B);p=v()+1;let G=AT(k,p),ce=j.createHref(k);try{u.pushState(G,"",ce)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;a.location.assign(ce)}l&&d&&d({action:f,location:j.location,delta:1})}function S(O,B){f="REPLACE";let k=Yg(j.location,O,B);p=v();let G=AT(k,p),ce=j.createHref(k);u.replaceState(G,"",ce),l&&d&&d({action:f,location:j.location,delta:0})}function M(O){return GN(O)}let j={get action(){return f},get location(){return t(a,u)},listen(O){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(ST,b),d=O,()=>{a.removeEventListener(ST,b),d=null}},createHref(O){return e(a,O)},createURL:M,encodeLocation(O){let B=M(O);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:T,replace:S,go(O){return u.go(O)}};return j}function GN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),xt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:fu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function G2(t,e,n="/"){return $N(t,e,n,!1)}function $N(t,e,n,i){let a=typeof e=="string"?Nl(e):e,l=Wi(a.pathname||"/",n);if(l==null)return null;let u=$2(t);KN(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let p=iD(l);f=nD(u[d],p,i)}return f}function $2(t,e=[],n=[],i="",a=!1){let l=(u,f,d=a,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&d)return;xt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=Yi([i,v.relativePath]),T=n.concat(v);u.children&&u.children.length>0&&(xt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),$2(u.children,e,T,b,d)),!(u.path==null&&!u.index)&&e.push({path:b,score:eD(b,u.index),routesMeta:T})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let d of K2(u.path))l(u,f,!0,d)}),e}function K2(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=K2(i.join("/")),f=[];return f.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&f.push(...u),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function KN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tD(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var QN=/^:[\w-]+$/,YN=3,XN=2,WN=1,ZN=10,JN=-2,CT=t=>t==="*";function eD(t,e){let n=t.split("/"),i=n.length;return n.some(CT)&&(i+=JN),e&&(i+=XN),n.filter(a=>!CT(a)).reduce((a,l)=>a+(QN.test(l)?YN:l===""?WN:ZN),i)}function tD(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function nD(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let f=0;f<i.length;++f){let d=i[f],p=f===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=Wf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},v),T=d.route;if(!b&&p&&n&&!i[i.length-1].route.index&&(b=Wf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:Yi([l,b.pathname]),pathnameBase:lD(Yi([l,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(l=Yi([l,b.pathnameBase]))}return u}function Wf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=rD(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:b},T)=>{if(v==="*"){let M=f[T]||"";u=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const S=f[T];return b&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function rD(t,e=!1,n=!0){jr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(i.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function iD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function sD(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Nl(t):t;return{pathname:n?n.startsWith("/")?n:aD(n,e):e,search:cD(i),hash:uD(a)}}function aD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function hg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wy(t){let e=oD(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Zy(t,e,n,i=!1){let a;typeof t=="string"?a=Nl(t):(a={...t},xt(!a.pathname||!a.pathname.includes("?"),hg("?","pathname","search",a)),xt(!a.pathname||!a.pathname.includes("#"),hg("#","pathname","hash",a)),xt(!a.search||!a.search.includes("#"),hg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let b=e.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),b-=1;a.pathname=T.join("/")}f=b>=0?e[b]:"/"}let d=sD(a,f),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||v)&&(d.pathname+="/"),d}var Yi=t=>t.join("/").replace(/\/\/+/g,"/"),lD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Q2=["POST","PUT","PATCH","DELETE"];new Set(Q2);var fD=["GET",...Q2];new Set(fD);var Dl=I.createContext(null);Dl.displayName="DataRouter";var Ad=I.createContext(null);Ad.displayName="DataRouterState";I.createContext(!1);var Y2=I.createContext({isTransitioning:!1});Y2.displayName="ViewTransition";var dD=I.createContext(new Map);dD.displayName="Fetchers";var mD=I.createContext(null);mD.displayName="Await";var Ur=I.createContext(null);Ur.displayName="Navigation";var Du=I.createContext(null);Du.displayName="Location";var Tr=I.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var Jy=I.createContext(null);Jy.displayName="RouteError";function pD(t,{relative:e}={}){xt(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=I.useContext(Ur),{hash:a,pathname:l,search:u}=Iu(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Yi([n,l])),i.createHref({pathname:f,search:u,hash:a})}function Il(){return I.useContext(Du)!=null}function Ei(){return xt(Il(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Du).location}var X2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W2(t){I.useContext(Ur).static||I.useLayoutEffect(t)}function Ol(){let{isDataRoute:t}=I.useContext(Tr);return t?DD():gD()}function gD(){xt(Il(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(Dl),{basename:e,navigator:n}=I.useContext(Ur),{matches:i}=I.useContext(Tr),{pathname:a}=Ei(),l=JSON.stringify(Wy(i)),u=I.useRef(!1);return W2(()=>{u.current=!0}),I.useCallback((d,p={})=>{if(jr(u.current,X2),!u.current)return;if(typeof d=="number"){n.go(d);return}let v=Zy(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Yi([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}var yD=I.createContext(null);function vD(t){let e=I.useContext(Tr).outlet;return I.useMemo(()=>e&&I.createElement(yD.Provider,{value:t},e),[e,t])}function Z2(){let{matches:t}=I.useContext(Tr),e=t[t.length-1];return e?e.params:{}}function Iu(t,{relative:e}={}){let{matches:n}=I.useContext(Tr),{pathname:i}=Ei(),a=JSON.stringify(Wy(n));return I.useMemo(()=>Zy(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function _D(t,e){return J2(t,e)}function J2(t,e,n,i,a){xt(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(Ur),{matches:u}=I.useContext(Tr),f=u[u.length-1],d=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let k=b&&b.path||"";ew(p,!b||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let T=Ei(),S;if(e){let k=typeof e=="string"?Nl(e):e;xt(v==="/"||k.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${k.pathname}" was given in the \`location\` prop.`),S=k}else S=T;let M=S.pathname||"/",j=M;if(v!=="/"){let k=v.replace(/^\//,"").split("/");j="/"+M.replace(/^\//,"").split("/").slice(k.length).join("/")}let O=G2(t,{pathname:j});jr(b||O!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),jr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=wD(O&&O.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:Yi([v,l.encodeLocation?l.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?v:Yi([v,l.encodeLocation?l.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),u,n,i,a);return e&&B?I.createElement(Du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},B):B}function bD(){let t=ND(),e=hD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:a},n):null,u)}var TD=I.createElement(bD,null),xD=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?I.createElement(Tr.Provider,{value:this.props.routeContext},I.createElement(Jy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ED({routeContext:t,match:e,children:n}){let i=I.useContext(Dl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Tr.Provider,{value:t},n)}function wD(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let p=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);xt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,d=-1;if(n)for(let p=0;p<l.length;p++){let v=l[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=p),v.route.id){let{loaderData:b,errors:T}=n,S=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!T||T[v.route.id]===void 0);if(v.route.lazy||S){f=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((p,v,b)=>{let T,S=!1,M=null,j=null;n&&(T=u&&v.route.id?u[v.route.id]:void 0,M=v.route.errorElement||TD,f&&(d<0&&b===0?(ew("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,j=null):d===b&&(S=!0,j=v.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,b+1)),B=()=>{let k;return T?k=M:S?k=j:v.route.Component?k=I.createElement(v.route.Component,null):v.route.element?k=v.route.element:k=p,I.createElement(ED,{match:v,routeContext:{outlet:p,matches:O,isDataRoute:n!=null},children:k})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?I.createElement(xD,{location:n.location,revalidation:n.revalidation,component:M,error:T,children:B(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:i}):B()},null)}function e0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SD(t){let e=I.useContext(Dl);return xt(e,e0(t)),e}function AD(t){let e=I.useContext(Ad);return xt(e,e0(t)),e}function CD(t){let e=I.useContext(Tr);return xt(e,e0(t)),e}function t0(t){let e=CD(t),n=e.matches[e.matches.length-1];return xt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function RD(){return t0("useRouteId")}function ND(){let t=I.useContext(Jy),e=AD("useRouteError"),n=t0("useRouteError");return t!==void 0?t:e.errors?.[n]}function DD(){let{router:t}=SD("useNavigate"),e=t0("useNavigate"),n=I.useRef(!1);return W2(()=>{n.current=!0}),I.useCallback(async(a,l={})=>{jr(n.current,X2),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var RT={};function ew(t,e,n){!e&&!RT[t]&&(RT[t]=!0,jr(!1,n))}I.memo(ID);function ID({routes:t,future:e,state:n,unstable_onError:i}){return J2(t,void 0,n,i,e)}function hl({to:t,replace:e,state:n,relative:i}){xt(Il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=I.useContext(Ur);jr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(Tr),{pathname:u}=Ei(),f=Ol(),d=Zy(t,Wy(l),u,i==="path"),p=JSON.stringify(d);return I.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:i})},[f,p,i,e,n]),null}function tw(t){return vD(t.context)}function bn(t){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OD({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){xt(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=I.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=Nl(n));let{pathname:d="/",search:p="",hash:v="",state:b=null,key:T="default"}=n,S=I.useMemo(()=>{let M=Wi(d,u);return M==null?null:{location:{pathname:M,search:p,hash:v,state:b,key:T},navigationType:i}},[u,d,p,v,b,T,i]);return jr(S!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:I.createElement(Ur.Provider,{value:f},I.createElement(Du.Provider,{children:e,value:S}))}function MD({children:t,location:e}){return _D(Xg(t),e)}function Xg(t,e=[]){let n=[];return I.Children.forEach(t,(i,a)=>{if(!I.isValidElement(i))return;let l=[...e,a];if(i.type===I.Fragment){n.push.apply(n,Xg(i.props.children,l));return}xt(i.type===bn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Xg(i.props.children,l)),n.push(u)}),n}var Pf="get",Vf="application/x-www-form-urlencoded";function Cd(t){return t!=null&&typeof t.tagName=="string"}function PD(t){return Cd(t)&&t.tagName.toLowerCase()==="button"}function VD(t){return Cd(t)&&t.tagName.toLowerCase()==="form"}function jD(t){return Cd(t)&&t.tagName.toLowerCase()==="input"}function LD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kD(t,e){return t.button===0&&(!e||e==="_self")&&!LD(t)}var bf=null;function UD(){if(bf===null)try{new FormData(document.createElement("form"),0),bf=!1}catch{bf=!0}return bf}var BD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fg(t){return t!=null&&!BD.has(t)?(jr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vf}"`),null):t}function zD(t,e){let n,i,a,l,u;if(VD(t)){let f=t.getAttribute("action");i=f?Wi(f,e):null,n=t.getAttribute("method")||Pf,a=fg(t.getAttribute("enctype"))||Vf,l=new FormData(t)}else if(PD(t)||jD(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(i=d?Wi(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Pf,a=fg(t.getAttribute("formenctype"))||fg(f.getAttribute("enctype"))||Vf,l=new FormData(f,t),!UD()){let{name:p,type:v,value:b}=t;if(v==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,b)}}else{if(Cd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pf,i=null,a=Vf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function n0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FD(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Wi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function HD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function GD(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await HD(l,n);return u.links?u.links():[]}return[]}));return YD(i.flat(1).filter(qD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function NT(t,e,n,i,a,l){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,f=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,p)=>u(d,p)||f(d,p)):l==="data"?e.filter((d,p)=>{let v=i.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(u(d,p)||f(d,p))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function $D(t,e,{includeHydrateFallback:n}={}){return KD(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function KD(t){return[...new Set(t)]}function QD(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function YD(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(QD(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function nw(){let t=I.useContext(Dl);return n0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function XD(){let t=I.useContext(Ad);return n0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var r0=I.createContext(void 0);r0.displayName="FrameworkContext";function rw(){let t=I.useContext(r0);return n0(t,"You must render this element inside a <HydratedRouter> element"),t}function WD(t,e){let n=I.useContext(r0),[i,a]=I.useState(!1),[l,u]=I.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,T=I.useRef(null);I.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=B=>{B.forEach(k=>{u(k.isIntersecting)})},O=new IntersectionObserver(j,{threshold:.5});return T.current&&O.observe(T.current),()=>{O.disconnect()}}},[t]),I.useEffect(()=>{if(i){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[i]);let S=()=>{a(!0)},M=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Gc(f,S),onBlur:Gc(d,M),onMouseEnter:Gc(p,S),onMouseLeave:Gc(v,M),onTouchStart:Gc(b,S)}]:[!1,T,{}]}function Gc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ZD({page:t,...e}){let{router:n}=nw(),i=I.useMemo(()=>G2(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?I.createElement(e6,{page:t,matches:i,...e}):null}function JD(t){let{manifest:e,routeModules:n}=rw(),[i,a]=I.useState([]);return I.useEffect(()=>{let l=!1;return GD(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function e6({page:t,matches:e,...n}){let i=Ei(),{manifest:a,routeModules:l}=rw(),{basename:u}=nw(),{loaderData:f,matches:d}=XD(),p=I.useMemo(()=>NT(t,e,d,a,i,"data"),[t,e,d,a,i]),v=I.useMemo(()=>NT(t,e,d,a,i,"assets"),[t,e,d,a,i]),b=I.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let M=new Set,j=!1;if(e.forEach(B=>{let k=a.routes[B.route.id];!k||!k.hasLoader||(!p.some(G=>G.route.id===B.route.id)&&B.route.id in f&&l[B.route.id]?.shouldRevalidate||k.hasClientLoader?j=!0:M.add(B.route.id))}),M.size===0)return[];let O=FD(t,u,"data");return j&&M.size>0&&O.searchParams.set("_routes",e.filter(B=>M.has(B.route.id)).map(B=>B.route.id).join(",")),[O.pathname+O.search]},[u,f,i,a,p,e,t,l]),T=I.useMemo(()=>$D(v,a),[v,a]),S=JD(v);return I.createElement(I.Fragment,null,b.map(M=>I.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),T.map(M=>I.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),S.map(({key:M,link:j})=>I.createElement("link",{key:M,nonce:n.nonce,...j})))}function t6(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var iw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iw&&(window.__reactRouterVersion="7.9.3")}catch{}function n6({basename:t,children:e,window:n}){let i=I.useRef();i.current==null&&(i.current=FN({window:n,v5Compat:!0}));let a=i.current,[l,u]=I.useState({action:a.action,location:a.location}),f=I.useCallback(d=>{I.startTransition(()=>u(d))},[u]);return I.useLayoutEffect(()=>a.listen(f),[a,f]),I.createElement(OD,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var sw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yr=I.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:f,target:d,to:p,preventScrollReset:v,viewTransition:b,...T},S){let{basename:M}=I.useContext(Ur),j=typeof p=="string"&&sw.test(p),O,B=!1;if(typeof p=="string"&&j&&(O=p,iw))try{let N=new URL(window.location.href),V=p.startsWith("//")?new URL(N.protocol+p):new URL(p),L=Wi(V.pathname,M);V.origin===N.origin&&L!=null?p=L+V.search+V.hash:B=!0}catch{jr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=pD(p,{relative:a}),[G,ce,ue]=WD(i,T),Q=a6(p,{replace:u,state:f,target:d,preventScrollReset:v,relative:a,viewTransition:b});function D(N){e&&e(N),N.defaultPrevented||Q(N)}let A=I.createElement("a",{...T,...ue,href:O||k,onClick:B||l?e:D,ref:t6(S,ce),target:d,"data-discover":!j&&n==="render"?"true":void 0});return G&&!j?I.createElement(I.Fragment,null,A,I.createElement(ZD,{page:k})):A});yr.displayName="Link";var r6=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:f,children:d,...p},v){let b=Iu(u,{relative:p.relative}),T=Ei(),S=I.useContext(Ad),{navigator:M,basename:j}=I.useContext(Ur),O=S!=null&&h6(b)&&f===!0,B=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,k=T.pathname,G=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(k=k.toLowerCase(),G=G?G.toLowerCase():null,B=B.toLowerCase()),G&&j&&(G=Wi(G,j)||G);const ce=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ue=k===B||!a&&k.startsWith(B)&&k.charAt(ce)==="/",Q=G!=null&&(G===B||!a&&G.startsWith(B)&&G.charAt(B.length)==="/"),D={isActive:ue,isPending:Q,isTransitioning:O},A=ue?e:void 0,N;typeof i=="function"?N=i(D):N=[i,ue?"active":null,Q?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(D):l;return I.createElement(yr,{...p,"aria-current":A,className:N,ref:v,style:V,to:u,viewTransition:f},typeof d=="function"?d(D):d)});r6.displayName="NavLink";var i6=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=Pf,action:f,onSubmit:d,relative:p,preventScrollReset:v,viewTransition:b,...T},S)=>{let M=c6(),j=u6(f,{relative:p}),O=u.toLowerCase()==="get"?"get":"post",B=typeof f=="string"&&sw.test(f),k=G=>{if(d&&d(G),G.defaultPrevented)return;G.preventDefault();let ce=G.nativeEvent.submitter,ue=ce?.getAttribute("formmethod")||u;M(ce||G.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:b})};return I.createElement("form",{ref:S,method:O,action:j,onSubmit:i?d:k,...T,"data-discover":!B&&t==="render"?"true":void 0})});i6.displayName="Form";function s6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aw(t){let e=I.useContext(Dl);return xt(e,s6(t)),e}function a6(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let f=Ol(),d=Ei(),p=Iu(t,{relative:l});return I.useCallback(v=>{if(kD(v,e)){v.preventDefault();let b=n!==void 0?n:fu(d)===fu(p);f(t,{replace:b,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[d,f,p,n,i,e,t,a,l,u])}var o6=0,l6=()=>`__${String(++o6)}__`;function c6(){let{router:t}=aw("useSubmit"),{basename:e}=I.useContext(Ur),n=RD();return I.useCallback(async(i,a={})=>{let{action:l,method:u,encType:f,formData:d,body:p}=zD(i,e);if(a.navigate===!1){let v=a.fetcherKey||l6();await t.fetch(v,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function u6(t,{relative:e}={}){let{basename:n}=I.useContext(Ur),i=I.useContext(Tr);xt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Iu(t||".",{relative:e})},u=Ei();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),d=f.getAll("index");if(d.some(v=>v==="")){f.delete("index"),d.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Yi([n,l.pathname])),fu(l)}function h6(t,{relative:e}={}){let n=I.useContext(Y2);xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=aw("useViewTransitionState"),a=Iu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Wi(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Wi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Wf(a.pathname,u)!=null||Wf(a.pathname,l)!=null}const f6=()=>{};var DT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},d6=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},lw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let T=(f&15)<<2|p>>6,S=p&63;d||(S=64,u||(T=64)),i.push(n[v],n[b],n[T],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ow(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):d6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||b==null)throw new m6;const T=l<<2|f>>4;if(i.push(T),p!==64){const S=f<<4&240|p>>2;if(i.push(S),b!==64){const M=p<<6&192|b;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class m6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p6=function(t){const e=ow(t);return lw.encodeByteArray(e,!0)},Zf=function(t){return p6(t).replace(/\./g,"")},cw=function(t){try{return lw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=()=>g6().__FIREBASE_DEFAULTS__,v6=()=>{if(typeof process>"u"||typeof DT>"u")return;const t=DT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cw(t[1]);return e&&JSON.parse(e)},Rd=()=>{try{return f6()||y6()||v6()||_6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uw=t=>Rd()?.emulatorHosts?.[t],hw=t=>{const e=uw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},fw=()=>Rd()?.config,dw=t=>Rd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Zf(JSON.stringify(n)),Zf(JSON.stringify(u)),""].join(".")}const Jc={};function T6(){const t={prod:[],emulator:[]};for(const e of Object.keys(Jc))Jc[e]?t.emulator.push(e):t.prod.push(e);return t}function x6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let IT=!1;function s0(t,e){if(typeof window>"u"||typeof document>"u"||!ia(window.location.host)||Jc[t]===e||Jc[t]||IT)return;Jc[t]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=T6().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,S){T.setAttribute("width","24"),T.setAttribute("id",S),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{IT=!0,u()},T}function v(T,S){T.setAttribute("id",S),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=x6(i),S=n("text"),M=document.getElementById(S)||document.createElement("span"),j=n("learnmore"),O=document.getElementById(j)||document.createElement("a"),B=n("preprendIcon"),k=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const G=T.element;f(G),v(O,j);const ce=p();d(k,B),G.append(k,M,O,ce),document.body.appendChild(G)}l?(M.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function w6(){const t=Rd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function C6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R6(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function N6(){return!w6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D6(){try{return typeof indexedDB=="object"}catch{return!1}}function I6(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6="FirebaseError";class wi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=O6,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ou.prototype.create)}}class Ou{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?M6(l,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new wi(a,f,i)}}function M6(t,e){return t.replace(P6,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const P6=/\{\$([^}]+)}/g;function V6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wa(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(OT(l)&&OT(u)){if(!Wa(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function OT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function j6(t,e){const n=new L6(t,e);return n.subscribe.bind(n)}class L6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");k6(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=dg),a.error===void 0&&(a.error=dg),a.complete===void 0&&(a.complete=dg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function k6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return t&&t._delegate?t._delegate:t}class Ys{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new b6;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z6(e))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ua){return this.instances.has(e)}getOptions(e=Ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:B6(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ua){return this.component?this.component.multipleInstances?e:Ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B6(t){return t===Ua?void 0:t}function z6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new U6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const H6={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},q6=He.INFO,G6={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},$6=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=G6[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class a0{constructor(e){this.name=e,this._logLevel=q6,this._logHandler=$6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const K6=(t,e)=>e.some(n=>t instanceof n);let MT,PT;function Q6(){return MT||(MT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y6(){return PT||(PT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pw=new WeakMap,Wg=new WeakMap,gw=new WeakMap,mg=new WeakMap,o0=new WeakMap;function X6(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Gs(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&pw.set(n,t)}).catch(()=>{}),o0.set(e,t),e}function W6(t){if(Wg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Wg.set(t,e)}let Zg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Z6(t){Zg=t(Zg)}function J6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(pg(this),e,...n);return gw.set(i,e.sort?e.sort():[e]),Gs(i)}:Y6().includes(t)?function(...e){return t.apply(pg(this),e),Gs(pw.get(this))}:function(...e){return Gs(t.apply(pg(this),e))}}function eI(t){return typeof t=="function"?J6(t):(t instanceof IDBTransaction&&W6(t),K6(t,Q6())?new Proxy(t,Zg):t)}function Gs(t){if(t instanceof IDBRequest)return X6(t);if(mg.has(t))return mg.get(t);const e=eI(t);return e!==t&&(mg.set(t,e),o0.set(e,t)),e}const pg=t=>o0.get(t);function tI(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=Gs(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Gs(u.result),d.oldVersion,d.newVersion,Gs(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),f.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const nI=["get","getKey","getAll","getAllKeys","count"],rI=["put","add","delete","clear"],gg=new Map;function VT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gg.get(e))return gg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=rI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||nI.includes(n)))return;const l=async function(u,...f){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&d.done]))[0]};return gg.set(e,l),l}Z6(t=>({...t,get:(e,n,i)=>VT(e,n)||t.get(e,n,i),has:(e,n)=>!!VT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function sI(t){return t.getComponent()?.type==="VERSION"}const Jg="@firebase/app",jT="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new a0("@firebase/app"),aI="@firebase/app-compat",oI="@firebase/analytics-compat",lI="@firebase/analytics",cI="@firebase/app-check-compat",uI="@firebase/app-check",hI="@firebase/auth",fI="@firebase/auth-compat",dI="@firebase/database",mI="@firebase/data-connect",pI="@firebase/database-compat",gI="@firebase/functions",yI="@firebase/functions-compat",vI="@firebase/installations",_I="@firebase/installations-compat",bI="@firebase/messaging",TI="@firebase/messaging-compat",xI="@firebase/performance",EI="@firebase/performance-compat",wI="@firebase/remote-config",SI="@firebase/remote-config-compat",AI="@firebase/storage",CI="@firebase/storage-compat",RI="@firebase/firestore",NI="@firebase/ai",DI="@firebase/firestore-compat",II="firebase",OI="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="[DEFAULT]",MI={[Jg]:"fire-core",[aI]:"fire-core-compat",[lI]:"fire-analytics",[oI]:"fire-analytics-compat",[uI]:"fire-app-check",[cI]:"fire-app-check-compat",[hI]:"fire-auth",[fI]:"fire-auth-compat",[dI]:"fire-rtdb",[mI]:"fire-data-connect",[pI]:"fire-rtdb-compat",[gI]:"fire-fn",[yI]:"fire-fn-compat",[vI]:"fire-iid",[_I]:"fire-iid-compat",[bI]:"fire-fcm",[TI]:"fire-fcm-compat",[xI]:"fire-perf",[EI]:"fire-perf-compat",[wI]:"fire-rc",[SI]:"fire-rc-compat",[AI]:"fire-gcs",[CI]:"fire-gcs-compat",[RI]:"fire-fst",[DI]:"fire-fst-compat",[NI]:"fire-vertex","fire-js":"fire-js",[II]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new Map,PI=new Map,ty=new Map;function LT(t,e){try{t.container.addComponent(e)}catch(n){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Za(t){const e=t.name;if(ty.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;ty.set(e,t);for(const n of Jf.values())LT(n,t);for(const n of PI.values())LT(n,t);return!0}function Nd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$s=new Ou("app","Firebase",VI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=OI;function yw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:ey,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw $s.create("bad-app-name",{appName:String(a)});if(n||(n=fw()),!n)throw $s.create("no-options");const l=Jf.get(a);if(l){if(Wa(n,l.options)&&Wa(i,l.config))return l;throw $s.create("duplicate-app",{appName:a})}const u=new F6(a);for(const d of ty.values())u.addComponent(d);const f=new jI(n,i,u);return Jf.set(a,f),f}function l0(t=ey){const e=Jf.get(t);if(!e&&t===ey&&fw())return yw();if(!e)throw $s.create("no-app",{appName:t});return e}function hi(t,e,n){let i=MI[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(u.join(" "));return}Za(new Ys(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="firebase-heartbeat-database",kI=1,du="firebase-heartbeat-store";let yg=null;function vw(){return yg||(yg=tI(LI,kI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(du)}catch(n){console.warn(n)}}}}).catch(t=>{throw $s.create("idb-open",{originalErrorMessage:t.message})})),yg}async function UI(t){try{const n=(await vw()).transaction(du),i=await n.objectStore(du).get(_w(t));return await n.done,i}catch(e){if(e instanceof wi)Zi.warn(e.message);else{const n=$s.create("idb-get",{originalErrorMessage:e?.message});Zi.warn(n.message)}}}async function kT(t,e){try{const i=(await vw()).transaction(du,"readwrite");await i.objectStore(du).put(e,_w(t)),await i.done}catch(n){if(n instanceof wi)Zi.warn(n.message);else{const i=$s.create("idb-set",{originalErrorMessage:n?.message});Zi.warn(i.message)}}}function _w(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=1024,zI=30;class FI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=UT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>zI){const a=GI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=UT(),{heartbeatsToSend:n,unsentEntries:i}=HI(this._heartbeatsCache.heartbeats),a=Zf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Zi.warn(e),""}}}function UT(){return new Date().toISOString().substring(0,10)}function HI(t,e=BI){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),BT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),BT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class qI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D6()?I6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return kT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return kT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function BT(t){return Zf(JSON.stringify({version:2,heartbeats:t})).length}function GI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t){Za(new Ys("platform-logger",e=>new iI(e),"PRIVATE")),Za(new Ys("heartbeat",e=>new FI(e),"PRIVATE")),hi(Jg,jT,t),hi(Jg,jT,"esm2020"),hi("fire-js","")}$I("");var KI="firebase",QI="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hi(KI,QI,"app");function bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YI=bw,Tw=new Ou("auth","Firebase",bw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new a0("@firebase/auth");function XI(t,...e){ed.logLevel<=He.WARN&&ed.warn(`Auth (${so}): ${t}`,...e)}function jf(t,...e){ed.logLevel<=He.ERROR&&ed.error(`Auth (${so}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t,...e){throw u0(t,...e)}function Vr(t,...e){return u0(t,...e)}function c0(t,e,n){const i={...YI(),[e]:n};return new Ou("auth","Firebase",i).create(e,{appName:t.name})}function $a(t){return c0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WI(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&_i(t,"argument-error"),c0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function u0(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Tw.create(t,...e)}function Ne(t,e,...n){if(!t)throw u0(e,...n)}function Ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jf(e),new Error(e)}function Ji(t,e){t||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(){return typeof self<"u"&&self.location?.href||""}function ZI(){return zT()==="http:"||zT()==="https:"}function zT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZI()||A6()||"connection"in navigator)?navigator.onLine:!0}function e3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ji(n>e,"Short delay should be less than long delay!"),this.isMobile=E6()||C6()}get(){return JI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t,e){Ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],r3=new Pu(3e4,6e4);function f0(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ml(t,e,n,i,a={}){return Ew(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const f=Mu({key:t.config.apiKey,...u}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...l};return S6()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ia(t.emulatorConfig.host)&&(p.credentials="include"),xw.fetch()(await ww(t,t.config.apiHost,n,f),p)})}async function Ew(t,e,n){t._canInitEmulator=!1;const i={...t3,...e};try{const a=new s3(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Tf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[d,p]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tf(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Tf(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Tf(t,"user-disabled",u);const v=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw c0(t,v,p);_i(t,v)}}catch(a){if(a instanceof wi)throw a;_i(t,"network-request-failed",{message:String(a)})}}async function i3(t,e,n,i,a={}){const l=await Ml(t,e,n,i,a);return"mfaPendingCredential"in l&&_i(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function ww(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?h0(t.config,a):`${t.config.apiScheme}://${a}`;return n3.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class s3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Vr(this.auth,"network-request-failed")),r3.get())})}}function Tf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Vr(t,e,i);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(t,e){return Ml(t,"POST","/v1/accounts:delete",e)}async function td(t,e){return Ml(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function o3(t,e=!1){const n=wt(t),i=await n.getIdToken(e),a=d0(i);Ne(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:eu(vg(a.auth_time)),issuedAtTime:eu(vg(a.iat)),expirationTime:eu(vg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function vg(t){return Number(t)*1e3}function d0(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{const a=cw(n);return a?JSON.parse(a):(jf("Failed to decode base64 JWT payload"),null)}catch(a){return jf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function FT(t){const e=d0(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof wi&&l3(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function l3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(t){const e=t.auth,n=await t.getIdToken(),i=await mu(t,td(e,{idToken:n}));Ne(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?Sw(a.providerUserInfo):[],u=h3(t.providerData,l),f=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!u?.length,p=f?d:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new ry(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function u3(t){const e=wt(t);await nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h3(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Sw(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(t,e){const n=await Ew(t,{},async()=>{const i=Mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await ww(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:f,body:i};return t.emulatorConfig&&ia(t.emulatorConfig.host)&&(d.credentials="include"),xw.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function d3(t,e){return Ml(t,"POST","/v2/accounts:revokeToken",f0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=FT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await f3(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new fl;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Ne(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ne(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fl,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pr{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new c3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ry(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await mu(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return o3(this,e)}reload(){return u3(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await nd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject($a(this.auth));const e=await this.getIdToken();return await mu(this,a3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:T,isAnonymous:S,providerData:M,stsTokenManager:j}=n;Ne(b&&j,e,"internal-error");const O=fl.fromJSON(this.name,j);Ne(typeof b=="string",e,"internal-error"),Ls(i,e.name),Ls(a,e.name),Ne(typeof T=="boolean",e,"internal-error"),Ne(typeof S=="boolean",e,"internal-error"),Ls(l,e.name),Ls(u,e.name),Ls(f,e.name),Ls(d,e.name),Ls(p,e.name),Ls(v,e.name);const B=new Pr({uid:b,auth:e,email:a,emailVerified:T,displayName:i,isAnonymous:S,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:O,createdAt:p,lastLoginAt:v});return M&&Array.isArray(M)&&(B.providerData=M.map(k=>({...k}))),d&&(B._redirectEventId=d),B}static async _fromIdTokenResponse(e,n,i=!1){const a=new fl;a.updateFromServerResponse(n);const l=new Pr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await nd(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ne(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Sw(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new fl;f.updateFromIdToken(i);const d=new Pr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ry(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=new Map;function Qi(t){Ji(t instanceof Function,"Expected a class definition");let e=HT.get(t);return e?(Ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Aw.type="NONE";const qT=Aw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t,e,n){return`firebase:${t}:${e}:${n}`}class dl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Lf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Lf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await td(this.auth,{idToken:e}).catch(()=>{});return n?Pr._fromGetAccountInfoResponse(this.auth,n,e):null}return Pr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new dl(Qi(qT),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Qi(qT);const u=Lf(i,e.config.apiKey,e.name);let f=null;for(const p of n)try{const v=await p._get(u);if(v){let b;if(typeof v=="string"){const T=await td(e,{idToken:v}).catch(()=>{});if(!T)break;b=await Pr._fromGetAccountInfoResponse(e,T,v)}else b=Pr._fromJSON(e,v);p!==l&&(f=b),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new dl(l,e,i):(l=d[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new dl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Dw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Cw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ow(e))return"Blackberry";if(Mw(e))return"Webos";if(Rw(e))return"Safari";if((e.includes("chrome/")||Nw(e))&&!e.includes("edge/"))return"Chrome";if(Iw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function Cw(t=wn()){return/firefox\//i.test(t)}function Rw(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nw(t=wn()){return/crios\//i.test(t)}function Dw(t=wn()){return/iemobile/i.test(t)}function Iw(t=wn()){return/android/i.test(t)}function Ow(t=wn()){return/blackberry/i.test(t)}function Mw(t=wn()){return/webos/i.test(t)}function m0(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function m3(t=wn()){return m0(t)&&!!window.navigator?.standalone}function p3(){return R6()&&document.documentMode===10}function Pw(t=wn()){return m0(t)||Iw(t)||Mw(t)||Ow(t)||/windows phone/i.test(t)||Dw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t,e=[]){let n;switch(t){case"Browser":n=GT(wn());break;case"Worker":n=`${GT(wn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${so}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,f)=>{try{const d=e(l);u(d)}catch(d){f(d)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(t,e={}){return Ml(t,"GET","/v2/passwordPolicy",f0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=6;class _3{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??v3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $T(this),this.idTokenSubscription=new $T(this),this.beforeStateQueue=new g3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await td(this,{idToken:e}),i=await Pr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=e3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject($a(this));const n=e?wt(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject($a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject($a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y3(this),n=new _3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ou("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await d3(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qi(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[Qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&XI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Dd(t){return wt(t)}class $T{constructor(e){this.auth=e,this.observer=null,this.addObserver=j6(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function T3(t){p0=t}function x3(t){return p0.loadJS(t)}function E3(){return p0.gapiScript}function w3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t,e){const n=Nd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Wa(l,e??{}))return a;_i(a,"already-initialized")}return n.initialize({options:e})}function A3(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Qi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function C3(t,e,n){const i=Dd(t);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=jw(e),{host:u,port:f}=R3(e),d=f===null?"":`:${f}`,p={url:`${l}//${u}${d}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(Wa(p,i.config.emulator)&&Wa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,ia(u)?(i0(`${l}//${u}${d}`),s0("Auth",!0)):N3()}function jw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function R3(t){const e=jw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:KT(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:KT(u)}}}function KT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function N3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,n){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t,e){return i3(t,"POST","/v1/accounts:signInWithIdp",f0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="http://localhost";class Ja extends Lw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const u=new Ja(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ml(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ml(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ml(e,n)}buildRequest(){const e={requestUri:D3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends g0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Vu{constructor(){super("facebook.com")}static credential(e){return Ja._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ja._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return $i.credential(n,i)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Vu{constructor(){super("github.com")}static credential(e){return Ja._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Vu{constructor(){super("twitter.com")}static credential(e,n){return Ja._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Fs.credential(n,i)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Pr._fromIdTokenResponse(e,i,a),u=QT(i);return new bl({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=QT(i);return new bl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function QT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends wi{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,rd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new rd(e,n,i,a)}}function kw(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?rd._fromErrorAndOperation(t,l,e,i):l})}async function I3(t,e,n=!1){const i=await mu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bl._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(t,e,n=!1){const{auth:i}=t;if(pr(i.app))return Promise.reject($a(i));const a="reauthenticate";try{const l=await mu(t,kw(i,a,e,t),n);Ne(l.idToken,i,"internal-error");const u=d0(l.idToken);Ne(u,i,"internal-error");const{sub:f}=u;return Ne(t.uid===f,i,"user-mismatch"),bl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&_i(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(t,e,n=!1){if(pr(t.app))return Promise.reject($a(t));const i="signIn",a=await kw(t,i,e),l=await bl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t,e){return wt(t).setPersistence(e)}function V3(t,e,n,i){return wt(t).onIdTokenChanged(e,n,i)}function j3(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}function L3(t,e,n,i){return wt(t).onAuthStateChanged(e,n,i)}function k3(t){return wt(t).signOut()}const id="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(id,"1"),this.storage.removeItem(id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=1e3,B3=10;class Bw extends Uw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);p3()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,B3):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},U3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Bw.type="LOCAL";const zw=Bw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw extends Uw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Fw.type="SESSION";const Hw=Fw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Id(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async p=>p(n.origin,l)),d=await z3(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Id.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,d)=>{const p=y0("",20);a.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(b){const T=b;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(v),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function H3(t){fi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function q3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G3(){return navigator?.serviceWorker?.controller||null}function $3(){return qw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="firebaseLocalStorageDb",K3=1,sd="firebaseLocalStorage",$w="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Od(t,e){return t.transaction([sd],e?"readwrite":"readonly").objectStore(sd)}function Q3(){const t=indexedDB.deleteDatabase(Gw);return new ju(t).toPromise()}function iy(){const t=indexedDB.open(Gw,K3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(sd,{keyPath:$w})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(sd)?e(i):(i.close(),await Q3(),e(await iy()))})})}async function YT(t,e,n){const i=Od(t,!0).put({[$w]:e,value:n});return new ju(i).toPromise()}async function Y3(t,e){const n=Od(t,!1).get(e),i=await new ju(n).toPromise();return i===void 0?null:i.value}function XT(t,e){const n=Od(t,!0).delete(e);return new ju(n).toPromise()}const X3=800,W3=3;class Kw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>W3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Id._getInstance($3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await q3(),!this.activeServiceWorker)return;this.sender=new F3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||G3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iy();return await YT(e,id,"1"),await XT(e,id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>YT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>Y3(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>XT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Od(a,!1).getAll();return new ju(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Kw.type="LOCAL";const Z3=Kw;new Pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t,e){return e?Qi(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends Lw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function J3(t){return M3(t.auth,new v0(t),t.bypassAuthState)}function eO(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),O3(n,new v0(t),t.bypassAuthState)}async function tO(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),I3(n,new v0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J3;case"linkViaPopup":case"linkViaRedirect":return tO;case"reauthViaPopup":case"reauthViaRedirect":return eO;default:_i(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new Pu(2e3,1e4);async function rO(t,e,n){if(pr(t.app))return Promise.reject(Vr(t,"operation-not-supported-in-this-environment"));const i=Dd(t);WI(t,e,g0);const a=Qw(i,n);return new za(i,"signInViaPopup",e,a).executeNotNull()}class za extends Yw{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const e=y0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nO.get())};e()}}za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="pendingRedirect",kf=new Map;class sO extends Yw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=kf.get(this.auth._key());if(!e){try{const i=await aO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}kf.set(this.auth._key(),e)}return this.bypassAuthState||kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aO(t,e){const n=cO(e),i=lO(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function oO(t,e){kf.set(t._key(),e)}function lO(t){return Qi(t._redirectPersistence)}function cO(t){return Lf(iO,t.config.apiKey,t.name)}async function uO(t,e,n=!1){if(pr(t.app))return Promise.reject($a(t));const i=Dd(t),a=Qw(i,e),u=await new sO(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=600*1e3;class fO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Xw(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hO&&this.cachedEventUids.clear(),this.cachedEventUids.has(WT(e))}saveEventToCache(e){this.cachedEventUids.add(WT(e)),this.lastProcessedEventTime=Date.now()}}function WT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Xw({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function dO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(t,e={}){return Ml(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gO=/^https?/;async function yO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mO(t);for(const n of e)try{if(vO(n))return}catch{}_i(t,"unauthorized-domain")}function vO(t){const e=ny(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!gO.test(n))return!1;if(pO.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=new Pu(3e4,6e4);function ZT(){const t=fi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bO(t){return new Promise((e,n)=>{function i(){ZT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZT(),n(Vr(t,"network-request-failed"))},timeout:_O.get()})}if(fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(fi().gapi?.load)i();else{const a=w3("iframefcb");return fi()[a]=()=>{gapi.load?i():n(Vr(t,"network-request-failed"))},x3(`${E3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Uf=null,e})}let Uf=null;function TO(t){return Uf=Uf||bO(t),Uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=new Pu(5e3,15e3),EO="__/auth/iframe",wO="emulator/auth/iframe",SO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CO(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?h0(e,wO):`https://${t.config.authDomain}/${EO}`,i={apiKey:e.apiKey,appName:t.name,v:so},a=AO.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Mu(i).slice(1)}`}async function RO(t){const e=await TO(t),n=fi().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:CO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SO,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=Vr(t,"network-request-failed"),f=fi().setTimeout(()=>{l(u)},xO.get());function d(){fi().clearTimeout(f),a(i)}i.ping(d).then(d,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DO=500,IO=600,OO="_blank",MO="http://localhost";class JT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PO(t,e,n,i=DO,a=IO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const d={...NO,width:i.toString(),height:a.toString(),top:l,left:u},p=wn().toLowerCase();n&&(f=Nw(p)?OO:n),Cw(p)&&(e=e||MO,d.scrollbars="yes");const v=Object.entries(d).reduce((T,[S,M])=>`${T}${S}=${M},`,"");if(m3(p)&&f!=="_self")return VO(e||"",f),new JT(null);const b=window.open(e||"",f,v);Ne(b,t,"popup-blocked");try{b.focus()}catch{}return new JT(b)}function VO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="__/auth/handler",LO="emulator/auth/handler",kO=encodeURIComponent("fac");async function ex(t,e,n,i,a,l){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:so,eventId:a};if(e instanceof g0){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",V6(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof Vu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const d=await t._getAppCheckToken(),p=d?`#${kO}=${encodeURIComponent(d)}`:"";return`${UO(t)}?${Mu(f).slice(1)}${p}`}function UO({config:t}){return t.emulator?h0(t,LO):`https://${t.authDomain}/${jO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="webStorageSupport";class BO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hw,this._completeRedirectFn=uO,this._overrideRedirectResult=oO}async _openPopup(e,n,i,a){Ji(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await ex(e,n,i,ny(),a);return PO(e,l,y0())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await ex(e,n,i,ny(),a);return H3(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ji(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await RO(e),i=new fO(e);return n.register("authEvent",a=>(Ne(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_g,{type:_g},a=>{const l=a?.[0]?.[_g];l!==void 0&&n(!!l),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Pw()||Rw()||m0()}}const zO=BO;var tx="@firebase/auth",nx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qO(t){Za(new Ys("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vw(t)},p=new b3(i,a,l,d);return A3(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Za(new Ys("auth-internal",e=>{const n=Dd(e.getProvider("auth").getImmediate());return(i=>new FO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hi(tx,nx,HO(t)),hi(tx,nx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=300,$O=dw("authIdTokenMaxAge")||GO;let rx=null;const KO=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>$O)return;const a=n?.token;rx!==a&&(rx=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function QO(t=l0()){const e=Nd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=S3(t,{popupRedirectResolver:zO,persistence:[Z3,zw,Hw]}),i=dw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=KO(l.toString());j3(n,u,()=>u(n.currentUser)),V3(n,f=>u(f))}}const a=uw("auth");return a&&C3(n,`http://${a}`),n}function YO(){return document.getElementsByTagName("head")?.[0]??document}T3({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Vr("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",YO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qO("Browser");var ix=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,Ww;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function N(){}N.prototype=A.prototype,D.F=A.prototype,D.prototype=new N,D.prototype.constructor=D,D.D=function(V,L,F){for(var P=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)P[ke-2]=arguments[ke];return A.prototype[L].apply(V,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,A,N){N||(N=0);const V=Array(16);if(typeof A=="string")for(var L=0;L<16;++L)V[L]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(L=0;L<16;++L)V[L]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=D.g[0],N=D.g[1],L=D.g[2];let F=D.g[3],P;P=A+(F^N&(L^F))+V[0]+3614090360&4294967295,A=N+(P<<7&4294967295|P>>>25),P=F+(L^A&(N^L))+V[1]+3905402710&4294967295,F=A+(P<<12&4294967295|P>>>20),P=L+(N^F&(A^N))+V[2]+606105819&4294967295,L=F+(P<<17&4294967295|P>>>15),P=N+(A^L&(F^A))+V[3]+3250441966&4294967295,N=L+(P<<22&4294967295|P>>>10),P=A+(F^N&(L^F))+V[4]+4118548399&4294967295,A=N+(P<<7&4294967295|P>>>25),P=F+(L^A&(N^L))+V[5]+1200080426&4294967295,F=A+(P<<12&4294967295|P>>>20),P=L+(N^F&(A^N))+V[6]+2821735955&4294967295,L=F+(P<<17&4294967295|P>>>15),P=N+(A^L&(F^A))+V[7]+4249261313&4294967295,N=L+(P<<22&4294967295|P>>>10),P=A+(F^N&(L^F))+V[8]+1770035416&4294967295,A=N+(P<<7&4294967295|P>>>25),P=F+(L^A&(N^L))+V[9]+2336552879&4294967295,F=A+(P<<12&4294967295|P>>>20),P=L+(N^F&(A^N))+V[10]+4294925233&4294967295,L=F+(P<<17&4294967295|P>>>15),P=N+(A^L&(F^A))+V[11]+2304563134&4294967295,N=L+(P<<22&4294967295|P>>>10),P=A+(F^N&(L^F))+V[12]+1804603682&4294967295,A=N+(P<<7&4294967295|P>>>25),P=F+(L^A&(N^L))+V[13]+4254626195&4294967295,F=A+(P<<12&4294967295|P>>>20),P=L+(N^F&(A^N))+V[14]+2792965006&4294967295,L=F+(P<<17&4294967295|P>>>15),P=N+(A^L&(F^A))+V[15]+1236535329&4294967295,N=L+(P<<22&4294967295|P>>>10),P=A+(L^F&(N^L))+V[1]+4129170786&4294967295,A=N+(P<<5&4294967295|P>>>27),P=F+(N^L&(A^N))+V[6]+3225465664&4294967295,F=A+(P<<9&4294967295|P>>>23),P=L+(A^N&(F^A))+V[11]+643717713&4294967295,L=F+(P<<14&4294967295|P>>>18),P=N+(F^A&(L^F))+V[0]+3921069994&4294967295,N=L+(P<<20&4294967295|P>>>12),P=A+(L^F&(N^L))+V[5]+3593408605&4294967295,A=N+(P<<5&4294967295|P>>>27),P=F+(N^L&(A^N))+V[10]+38016083&4294967295,F=A+(P<<9&4294967295|P>>>23),P=L+(A^N&(F^A))+V[15]+3634488961&4294967295,L=F+(P<<14&4294967295|P>>>18),P=N+(F^A&(L^F))+V[4]+3889429448&4294967295,N=L+(P<<20&4294967295|P>>>12),P=A+(L^F&(N^L))+V[9]+568446438&4294967295,A=N+(P<<5&4294967295|P>>>27),P=F+(N^L&(A^N))+V[14]+3275163606&4294967295,F=A+(P<<9&4294967295|P>>>23),P=L+(A^N&(F^A))+V[3]+4107603335&4294967295,L=F+(P<<14&4294967295|P>>>18),P=N+(F^A&(L^F))+V[8]+1163531501&4294967295,N=L+(P<<20&4294967295|P>>>12),P=A+(L^F&(N^L))+V[13]+2850285829&4294967295,A=N+(P<<5&4294967295|P>>>27),P=F+(N^L&(A^N))+V[2]+4243563512&4294967295,F=A+(P<<9&4294967295|P>>>23),P=L+(A^N&(F^A))+V[7]+1735328473&4294967295,L=F+(P<<14&4294967295|P>>>18),P=N+(F^A&(L^F))+V[12]+2368359562&4294967295,N=L+(P<<20&4294967295|P>>>12),P=A+(N^L^F)+V[5]+4294588738&4294967295,A=N+(P<<4&4294967295|P>>>28),P=F+(A^N^L)+V[8]+2272392833&4294967295,F=A+(P<<11&4294967295|P>>>21),P=L+(F^A^N)+V[11]+1839030562&4294967295,L=F+(P<<16&4294967295|P>>>16),P=N+(L^F^A)+V[14]+4259657740&4294967295,N=L+(P<<23&4294967295|P>>>9),P=A+(N^L^F)+V[1]+2763975236&4294967295,A=N+(P<<4&4294967295|P>>>28),P=F+(A^N^L)+V[4]+1272893353&4294967295,F=A+(P<<11&4294967295|P>>>21),P=L+(F^A^N)+V[7]+4139469664&4294967295,L=F+(P<<16&4294967295|P>>>16),P=N+(L^F^A)+V[10]+3200236656&4294967295,N=L+(P<<23&4294967295|P>>>9),P=A+(N^L^F)+V[13]+681279174&4294967295,A=N+(P<<4&4294967295|P>>>28),P=F+(A^N^L)+V[0]+3936430074&4294967295,F=A+(P<<11&4294967295|P>>>21),P=L+(F^A^N)+V[3]+3572445317&4294967295,L=F+(P<<16&4294967295|P>>>16),P=N+(L^F^A)+V[6]+76029189&4294967295,N=L+(P<<23&4294967295|P>>>9),P=A+(N^L^F)+V[9]+3654602809&4294967295,A=N+(P<<4&4294967295|P>>>28),P=F+(A^N^L)+V[12]+3873151461&4294967295,F=A+(P<<11&4294967295|P>>>21),P=L+(F^A^N)+V[15]+530742520&4294967295,L=F+(P<<16&4294967295|P>>>16),P=N+(L^F^A)+V[2]+3299628645&4294967295,N=L+(P<<23&4294967295|P>>>9),P=A+(L^(N|~F))+V[0]+4096336452&4294967295,A=N+(P<<6&4294967295|P>>>26),P=F+(N^(A|~L))+V[7]+1126891415&4294967295,F=A+(P<<10&4294967295|P>>>22),P=L+(A^(F|~N))+V[14]+2878612391&4294967295,L=F+(P<<15&4294967295|P>>>17),P=N+(F^(L|~A))+V[5]+4237533241&4294967295,N=L+(P<<21&4294967295|P>>>11),P=A+(L^(N|~F))+V[12]+1700485571&4294967295,A=N+(P<<6&4294967295|P>>>26),P=F+(N^(A|~L))+V[3]+2399980690&4294967295,F=A+(P<<10&4294967295|P>>>22),P=L+(A^(F|~N))+V[10]+4293915773&4294967295,L=F+(P<<15&4294967295|P>>>17),P=N+(F^(L|~A))+V[1]+2240044497&4294967295,N=L+(P<<21&4294967295|P>>>11),P=A+(L^(N|~F))+V[8]+1873313359&4294967295,A=N+(P<<6&4294967295|P>>>26),P=F+(N^(A|~L))+V[15]+4264355552&4294967295,F=A+(P<<10&4294967295|P>>>22),P=L+(A^(F|~N))+V[6]+2734768916&4294967295,L=F+(P<<15&4294967295|P>>>17),P=N+(F^(L|~A))+V[13]+1309151649&4294967295,N=L+(P<<21&4294967295|P>>>11),P=A+(L^(N|~F))+V[4]+4149444226&4294967295,A=N+(P<<6&4294967295|P>>>26),P=F+(N^(A|~L))+V[11]+3174756917&4294967295,F=A+(P<<10&4294967295|P>>>22),P=L+(A^(F|~N))+V[2]+718787259&4294967295,L=F+(P<<15&4294967295|P>>>17),P=N+(F^(L|~A))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(L+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+F&4294967295}i.prototype.v=function(D,A){A===void 0&&(A=D.length);const N=A-this.blockSize,V=this.C;let L=this.h,F=0;for(;F<A;){if(L==0)for(;F<=N;)a(this,D,F),F+=this.blockSize;if(typeof D=="string"){for(;F<A;)if(V[L++]=D.charCodeAt(F++),L==this.blockSize){a(this,V),L=0;break}}else for(;F<A;)if(V[L++]=D[F++],L==this.blockSize){a(this,V),L=0;break}}this.h=L,this.o+=A},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;A=this.o*8;for(var N=D.length-8;N<D.length;++N)D[N]=A&255,A/=256;for(this.v(D),D=Array(16),A=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)D[A++]=this.g[N]>>>V&255;return D};function l(D,A){var N=f;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=A(D)}function u(D,A){this.h=A;const N=[];let V=!0;for(let L=D.length-1;L>=0;L--){const F=D[L]|0;V&&F==A||(N[L]=F,V=!1)}this.g=N}var f={};function d(D){return-128<=D&&D<128?l(D,function(A){return new u([A|0],A<0?-1:0)}):new u([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return O(p(-D));const A=[];let N=1;for(let V=0;D>=N;V++)A[V]=D/N|0,N*=4294967296;return new u(A,0)}function v(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return O(v(D.substring(1),A));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(A,8));let V=b;for(let F=0;F<D.length;F+=8){var L=Math.min(8,D.length-F);const P=parseInt(D.substring(F,F+L),A);L<8?(L=p(Math.pow(A,L)),V=V.j(L).add(p(P))):(V=V.j(N),V=V.add(p(P)))}return V}var b=d(0),T=d(1),S=d(16777216);t=u.prototype,t.m=function(){if(j(this))return-O(this).m();let D=0,A=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);D+=(V>=0?V:4294967296+V)*A,A*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(M(this))return"0";if(j(this))return"-"+O(this).toString(D);const A=p(Math.pow(D,6));var N=this;let V="";for(;;){const L=ce(N,A).g;N=B(N,L.j(A));let F=((N.g.length>0?N.g[0]:N.h)>>>0).toString(D);if(N=L,M(N))return F+V;for(;F.length<6;)F="0"+F;V=F+V}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function M(D){if(D.h!=0)return!1;for(let A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function j(D){return D.h==-1}t.l=function(D){return D=B(this,D),j(D)?-1:M(D)?0:1};function O(D){const A=D.g.length,N=[];for(let V=0;V<A;V++)N[V]=~D.g[V];return new u(N,~D.h).add(T)}t.abs=function(){return j(this)?O(this):this},t.add=function(D){const A=Math.max(this.g.length,D.g.length),N=[];let V=0;for(let L=0;L<=A;L++){let F=V+(this.i(L)&65535)+(D.i(L)&65535),P=(F>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);V=P>>>16,F&=65535,P&=65535,N[L]=P<<16|F}return new u(N,N[N.length-1]&-2147483648?-1:0)};function B(D,A){return D.add(O(A))}t.j=function(D){if(M(this)||M(D))return b;if(j(this))return j(D)?O(this).j(O(D)):O(O(this).j(D));if(j(D))return O(this.j(O(D)));if(this.l(S)<0&&D.l(S)<0)return p(this.m()*D.m());const A=this.g.length+D.g.length,N=[];for(var V=0;V<2*A;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let L=0;L<D.g.length;L++){const F=this.i(V)>>>16,P=this.i(V)&65535,ke=D.i(L)>>>16,de=D.i(L)&65535;N[2*V+2*L]+=P*de,k(N,2*V+2*L),N[2*V+2*L+1]+=F*de,k(N,2*V+2*L+1),N[2*V+2*L+1]+=P*ke,k(N,2*V+2*L+1),N[2*V+2*L+2]+=F*ke,k(N,2*V+2*L+2)}for(D=0;D<A;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=A;D<2*A;D++)N[D]=0;return new u(N,0)};function k(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function G(D,A){this.g=D,this.h=A}function ce(D,A){if(M(A))throw Error("division by zero");if(M(D))return new G(b,b);if(j(D))return A=ce(O(D),A),new G(O(A.g),O(A.h));if(j(A))return A=ce(D,O(A)),new G(O(A.g),A.h);if(D.g.length>30){if(j(D)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var N=T,V=A;V.l(D)<=0;)N=ue(N),V=ue(V);var L=Q(N,1),F=Q(V,1);for(V=Q(V,2),N=Q(N,2);!M(V);){var P=F.add(V);P.l(D)<=0&&(L=L.add(N),F=P),V=Q(V,1),N=Q(N,1)}return A=B(D,L.j(A)),new G(L,A)}for(L=b;D.l(A)>=0;){for(N=Math.max(1,Math.floor(D.m()/A.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),F=p(N),P=F.j(A);j(P)||P.l(D)>0;)N-=V,F=p(N),P=F.j(A);M(F)&&(F=T),L=L.add(F),D=B(D,P)}return new G(L,D)}t.B=function(D){return ce(this,D).h},t.and=function(D){const A=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<A;V++)N[V]=this.i(V)&D.i(V);return new u(N,this.h&D.h)},t.or=function(D){const A=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<A;V++)N[V]=this.i(V)|D.i(V);return new u(N,this.h|D.h)},t.xor=function(D){const A=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<A;V++)N[V]=this.i(V)^D.i(V);return new u(N,this.h^D.h)};function ue(D){const A=D.g.length+1,N=[];for(let V=0;V<A;V++)N[V]=D.i(V)<<1|D.i(V-1)>>>31;return new u(N,D.h)}function Q(D,A){const N=A>>5;A%=32;const V=D.g.length-N,L=[];for(let F=0;F<V;F++)L[F]=A>0?D.i(F+N)>>>A|D.i(F+N+1)<<32-A:D.i(F+N);return new u(L,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Ww=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Ks=u}).apply(typeof ix<"u"?ix:typeof self<"u"?self:typeof window<"u"?window:{});var xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zw,Qc,Jw,Bf,sy,eS,tS,nS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof xf=="object"&&xf];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function a(h,_){if(_)e:{var E=i;h=h.split(".");for(var R=0;R<h.length-1;R++){var Y=h[R];if(!(Y in E))break e;E=E[Y]}h=h[h.length-1],R=E[h],_=_(R),_!=R&&_!=null&&e(E,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var E=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&E.push([R,_[R]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function d(h,_,E){return h.call.apply(h.bind,arguments)}function p(h,_,E){return p=d,p.apply(null,arguments)}function v(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function b(h,_){function E(){}E.prototype=_.prototype,h.Z=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(R,Y,J){for(var ge=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ge[Pe-2]=arguments[Pe];return _.prototype[Y].apply(R,ge)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const _=h.length;if(_>0){const E=Array(_);for(let R=0;R<_;R++)E[R]=h[R];return E}return[]}function M(h,_){for(let R=1;R<arguments.length;R++){const Y=arguments[R];var E=typeof Y;if(E=E!="object"?E:Y?Array.isArray(Y)?"array":E:"null",E=="array"||E=="object"&&typeof Y.length=="number"){E=h.length||0;const J=Y.length||0;h.length=E+J;for(let ge=0;ge<J;ge++)h[E+ge]=Y[ge]}else h.push(Y)}}class j{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function O(h){u.setTimeout(()=>{throw h},0)}function B(){var h=D;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class k{constructor(){this.h=this.g=null}add(_,E){const R=G.get();R.set(_,E),this.h?this.h.next=R:this.g=R,this.h=R}}var G=new j(()=>new ce,h=>h.reset());class ce{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,Q=!1,D=new k,A=()=>{const h=Promise.resolve(void 0);ue=()=>{h.then(N)}};function N(){for(var h;h=B();){try{h.h.call(h.g)}catch(E){O(E)}var _=G;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}Q=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return h})();function P(h){return/^[\s\xa0]*$/.test(h)}function ke(h,_){L.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(ke,L),ke.prototype.init=function(h,_){const E=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),H=0;function ne(h,_,E,R,Y){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!R,this.ha=Y,this.key=++H,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function be(h,_,E){for(const R in h)_.call(E,h[R],R,h)}function q(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function w(h){const _={};for(const E in h)_[E]=h[E];return _}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(h,_){let E,R;for(let Y=1;Y<arguments.length;Y++){R=arguments[Y];for(E in R)h[E]=R[E];for(let J=0;J<K.length;J++)E=K[J],Object.prototype.hasOwnProperty.call(R,E)&&(h[E]=R[E])}}function oe(h){this.src=h,this.g={},this.h=0}oe.prototype.add=function(h,_,E,R,Y){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const ge=pe(h,_,R,Y);return ge>-1?(_=h[ge],E||(_.fa=!1)):(_=new ne(_,this.src,J,!!R,Y),_.fa=E,h.push(_)),_};function fe(h,_){const E=_.type;if(E in h.g){var R=h.g[E],Y=Array.prototype.indexOf.call(R,_,void 0),J;(J=Y>=0)&&Array.prototype.splice.call(R,Y,1),J&&(he(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function pe(h,_,E,R){for(let Y=0;Y<h.length;++Y){const J=h[Y];if(!J.da&&J.listener==_&&J.capture==!!E&&J.ha==R)return Y}return-1}var me="closure_lm_"+(Math.random()*1e6|0),xe={};function Se(h,_,E,R,Y){if(Array.isArray(_)){for(let J=0;J<_.length;J++)Se(h,_[J],E,R,Y);return null}return E=Sn(E),h&&h[de]?h.J(_,E,f(R)?!!R.capture:!1,Y):tt(h,_,E,!1,R,Y)}function tt(h,_,E,R,Y,J){if(!_)throw Error("Invalid event type");const ge=f(Y)?!!Y.capture:!!Y;let Pe=Wt(h);if(Pe||(h[me]=Pe=new oe(h)),E=Pe.add(_,E,R,ge,J),E.proxy)return E;if(R=Qe(),E.proxy=R,R.src=h,R.listener=E,h.addEventListener)F||(Y=ge),Y===void 0&&(Y=!1),h.addEventListener(_.toString(),R,Y);else if(h.attachEvent)h.attachEvent(Ie(_.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Qe(){function h(E){return _.call(h.src,h.listener,E)}const _=kt;return h}function it(h,_,E,R,Y){if(Array.isArray(_))for(var J=0;J<_.length;J++)it(h,_[J],E,R,Y);else R=f(R)?!!R.capture:!!R,E=Sn(E),h&&h[de]?(h=h.i,J=String(_).toString(),J in h.g&&(_=h.g[J],E=pe(_,E,R,Y),E>-1&&(he(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete h.g[J],h.h--)))):h&&(h=Wt(h))&&(_=h.g[_.toString()],h=-1,_&&(h=pe(_,E,R,Y)),(E=h>-1?_[h]:null)&&vt(E))}function vt(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[de])fe(_.i,h);else{var E=h.type,R=h.proxy;_.removeEventListener?_.removeEventListener(E,R,h.capture):_.detachEvent?_.detachEvent(Ie(E),R):_.addListener&&_.removeListener&&_.removeListener(R),(E=Wt(_))?(fe(E,h),E.h==0&&(E.src=null,_[me]=null)):he(h)}}}function Ie(h){return h in xe?xe[h]:xe[h]="on"+h}function kt(h,_){if(h.da)h=!0;else{_=new ke(_,this);const E=h.listener,R=h.ha||h.src;h.fa&&vt(h),h=E.call(R,_)}return h}function Wt(h){return h=h[me],h instanceof oe?h:null}var on="__closure_events_fn_"+(Math.random()*1e9>>>0);function Sn(h){return typeof h=="function"?h:(h[on]||(h[on]=function(_){return h.handleEvent(_)}),h[on])}function lt(){V.call(this),this.i=new oe(this),this.M=this,this.G=null}b(lt,V),lt.prototype[de]=!0,lt.prototype.removeEventListener=function(h,_,E,R){it(this,h,_,E,R)};function nt(h,_){var E,R=h.G;if(R)for(E=[];R;R=R.G)E.push(R);if(h=h.M,R=_.type||_,typeof _=="string")_=new L(_,h);else if(_ instanceof L)_.target=_.target||h;else{var Y=_;_=new L(R,h),te(_,Y)}Y=!0;let J,ge;if(E)for(ge=E.length-1;ge>=0;ge--)J=_.g=E[ge],Y=Br(J,R,!0,_)&&Y;if(J=_.g=h,Y=Br(J,R,!0,_)&&Y,Y=Br(J,R,!1,_)&&Y,E)for(ge=0;ge<E.length;ge++)J=_.g=E[ge],Y=Br(J,R,!1,_)&&Y}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const E=h.g[_];for(let R=0;R<E.length;R++)he(E[R]);delete h.g[_],h.h--}}this.G=null},lt.prototype.J=function(h,_,E,R){return this.i.add(String(h),_,!1,E,R)},lt.prototype.K=function(h,_,E,R){return this.i.add(String(h),_,!0,E,R)};function Br(h,_,E,R){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let Y=!0;for(let J=0;J<_.length;++J){const ge=_[J];if(ge&&!ge.da&&ge.capture==E){const Pe=ge.listener,Ot=ge.ha||ge.src;ge.fa&&fe(h.i,ge),Y=Pe.call(Ot,R)!==!1&&Y}}return Y&&!R.defaultPrevented}function Hl(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function uo(h){h.g=Hl(()=>{h.g=null,h.i&&(h.i=!1,uo(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class tn extends V{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:uo(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ai(h){V.call(this),this.h=h,this.g={}}b(Ai,V);var is=[];function la(h){be(h.g,function(_,E){this.g.hasOwnProperty(E)&&vt(_)},h),h.g={}}Ai.prototype.N=function(){Ai.Z.N.call(this),la(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zr=u.JSON.stringify,ho=u.JSON.parse,ca=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function ss(){}function fo(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){L.call(this,"d")}b(ln,L);function Zn(){L.call(this,"c")}b(Zn,L);var It={},Qu=null;function mo(){return Qu=Qu||new lt}It.Ia="serverreachability";function Yu(h){L.call(this,It.Ia,h)}b(Yu,L);function Fr(h){const _=mo();nt(_,new Yu(_))}It.STAT_EVENT="statevent";function ua(h,_){L.call(this,It.STAT_EVENT,h),this.stat=_}b(ua,L);function Ut(h){const _=mo();nt(_,new ua(_,h))}It.Ja="timingevent";function Hr(h,_){L.call(this,It.Ja,h),this.size=_}b(Hr,L);function qr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function xr(){this.g=!0}xr.prototype.ua=function(){this.g=!1};function cm(h,_,E,R,Y,J){h.info(function(){if(h.g)if(J){var ge="",Pe=J.split("&");for(let Je=0;Je<Pe.length;Je++){var Ot=Pe[Je].split("=");if(Ot.length>1){const _t=Ot[0];Ot=Ot[1];const nr=_t.split("_");ge=nr.length>=2&&nr[1]=="type"?ge+(_t+"="+Ot+"&"):ge+(_t+"=redacted&")}}}else ge=null;else ge=J;return"XMLHTTP REQ ("+R+") [attempt "+Y+"]: "+_+`
`+E+`
`+ge})}function Xu(h,_,E,R,Y,J,ge){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Y+"]: "+_+`
`+E+`
`+J+" "+ge})}function Gr(h,_,E,R){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+um(h,E)+(R?" "+R:"")})}function ha(h,_){h.info(function(){return"TIMEOUT: "+_})}xr.prototype.info=function(){};function um(h,_){if(!h.g)return _;if(!_)return null;try{const J=JSON.parse(_);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var E=J[h];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var Y=R[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ge=1;ge<R.length;ge++)R[ge]=""}}}}return zr(J)}catch{return _}}var fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ql={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gl;function da(){}b(da,ss),da.prototype.g=function(){return new XMLHttpRequest},Gl=new da;function Ci(h){return encodeURIComponent(String(h))}function Wu(h){var _=1;h=h.split(":");const E=[];for(;_>0&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function Er(h,_,E,R){this.j=h,this.i=_,this.l=E,this.S=R||1,this.V=new Ai(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wr}function wr(){this.i=null,this.g="",this.h=!1}var Bt={},nn={};function $r(h,_,E){h.M=1,h.A=ma(Ft(_)),h.u=E,h.R=!0,po(h,null)}function po(h,_){h.F=Date.now(),Kr(h),h.B=Ft(h.A);var E=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),_o(E.i,"t",R),h.C=0,E=h.j.L,h.h=new wr,h.g=fh(h.j,E?_:null,!h.u),h.P>0&&(h.O=new tn(p(h.Y,h,h.g),h.P)),_=h.V,E=h.g,R=h.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(is[0]=Y.toString()),Y=is);for(let J=0;J<Y.length;J++){const ge=Se(E,Y[J],R||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=h.J?w(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Fr(),cm(h.i,h.v,h.B,h.l,h.S,h.u)}Er.prototype.ba=function(h){h=h.target;const _=this.O;_&&Cr(h)==3?_.j():this.Y(h)},Er.prototype.Y=function(h){try{if(h==this.g)e:{const Pe=Cr(this.g),Ot=this.g.ya(),Je=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||Pe!=4||Ot==7||(Ot==8||Je<=0?Fr(3):Fr(2)),Qr(this);var _=this.g.ca();this.X=_;var E=hm(this);if(this.o=_==200,Xu(this.i,this.v,this.B,this.l,this.S,Pe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Y=this.g;if((R=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(R)){var J=R;break t}}J=null}if(h=J)Gr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yr(this,h);else{this.o=!1,this.m=3,Ut(12),zn(this),Jn(this);break e}}if(this.R){h=!0;let _t;for(;!this.K&&this.C<E.length;)if(_t=Ju(this,E),_t==nn){Pe==4&&(this.m=4,Ut(14),h=!1),Gr(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Bt){this.m=4,Ut(15),Gr(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Gr(this.i,this.l,_t,null),Yr(this,_t);if(Zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||E.length!=0||this.h.h||(this.m=1,Ut(16),h=!1),this.o=this.o&&h,!h)Gr(this.i,this.l,E,"[Invalid Chunked Response]"),zn(this),Jn(this);else if(E.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ac(ge),ge.P=!0,Ut(11))}}else Gr(this.i,this.l,E,null),Yr(this,E);Pe==4&&zn(this),this.o&&!this.K&&(Pe==4?lh(this.j,this):(this.o=!1,Kr(this)))}else Ni(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),zn(this),Jn(this)}}}catch{}finally{}};function hm(h){if(!Zu(h))return h.g.la();const _=cn(h.g);if(_==="")return"";let E="";const R=_.length,Y=Cr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return zn(h),Jn(h),"";h.h.i=new u.TextDecoder}for(let J=0;J<R;J++)h.h.h=!0,E+=h.h.i.decode(_[J],{stream:!(Y&&J==R-1)});return _.length=0,h.h.g+=E,h.C=0,h.h.g}function Zu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ju(h,_){var E=h.C,R=_.indexOf(`
`,E);return R==-1?nn:(E=Number(_.substring(E,R)),isNaN(E)?Bt:(R+=1,R+E>_.length?nn:(_=_.slice(R,R+E),h.C=R+E,_)))}Er.prototype.cancel=function(){this.K=!0,zn(this)};function Kr(h){h.T=Date.now()+h.H,go(h,h.H)}function go(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=qr(p(h.aa,h),_)}function Qr(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Er.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ha(this.i,this.B),this.M!=2&&(Fr(),Ut(17)),zn(this),this.m=2,Jn(this)):go(this,this.T-h)};function Jn(h){h.j.I==0||h.K||lh(h.j,h)}function zn(h){Qr(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,la(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Yr(h,_){try{var E=h.j;if(E.I!=0&&(E.g==h||Wr(E.h,h))){if(!h.L&&Wr(E.h,h)&&E.I==3){try{var R=E.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Y=R;if(Y[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)wo(E),ds(E);else break e;Ta(E),Ut(18)}}else E.xa=Y[1],0<E.xa-E.K&&Y[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=qr(p(E.Va,E),6e3));Xr(E.h)<=1&&E.ta&&(E.ta=void 0)}else ri(E,11)}else if((h.L||E.g==h)&&wo(E),!P(_))for(Y=E.Ba.g.parse(_),_=0;_<Y.length;_++){let Je=Y[_];const _t=Je[0];if(!(_t<=E.K))if(E.K=_t,Je=Je[1],E.I==2)if(Je[0]=="c"){E.M=Je[1],E.ba=Je[2];const nr=Je[3];nr!=null&&(E.ka=nr,E.j.info("VER="+E.ka));const ii=Je[4];ii!=null&&(E.za=ii,E.j.info("SVER="+E.za));const Rr=Je[5];Rr!=null&&typeof Rr=="number"&&Rr>0&&(R=1.5*Rr,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Nr=h.g;if(Nr){const xa=Nr.g?Nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xa){var J=R.h;J.g||xa.indexOf("spdy")==-1&&xa.indexOf("quic")==-1&&xa.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ql(J,J.h),J.h=null))}if(R.G){const So=Nr.g?Nr.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(R.wa=So,st(R.J,R.G,So))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var ge=h;if(R.na=hh(R,R.L?R.ba:null,R.W),ge.L){Yl(R.h,ge);var Pe=ge,Ot=R.O;Ot&&(Pe.H=Ot),Pe.D&&(Qr(Pe),Kr(Pe)),R.g=ge}else ah(R);E.i.length>0&&ni(E)}else Je[0]!="stop"&&Je[0]!="close"||ri(E,7);else E.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?ri(E,7):ic(E):Je[0]!="noop"&&E.l&&E.l.qa(Je),E.A=0)}}Fr(4)}catch{}}var zt=class{constructor(h,_){this.g=h,this.map=_}};function $l(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Xr(h){return h.h?1:h.g?h.g.size:0}function Wr(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Ql(h,_){h.g?h.g.add(_):h.h=_}function Yl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}$l.prototype.cancel=function(){if(this.i=Xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Xl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.G);return _}return S(h.i)}var eh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yo(h,_){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const R=h[E].indexOf("=");let Y,J=null;R>=0?(Y=h[E].substring(0,R),J=h[E].substring(R+1)):Y=h[E],_(Y,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Fn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Fn?(this.l=h.l,rn(this,h.j),this.o=h.o,this.g=h.g,as(this,h.u),this.h=h.h,Wl(this,ih(h.i)),this.m=h.m):h&&(_=String(h).match(eh))?(this.l=!1,rn(this,_[1]||"",!0),this.o=Zr(_[2]||""),this.g=Zr(_[3]||"",!0),as(this,_[4]),this.h=Zr(_[5]||"",!0),Wl(this,_[6]||"",!0),this.m=Zr(_[7]||"")):(this.l=!1,this.i=new ls(null,this.l))}Fn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(pa(_,vo,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(pa(_,vo,!0),"@"),h.push(Ci(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(pa(E,E.charAt(0)=="/"?Zl:th,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",pa(E,nh)),h.join("")},Fn.prototype.resolve=function(h){const _=Ft(this);let E=!!h.j;E?rn(_,h.j):E=!!h.o,E?_.o=h.o:E=!!h.g,E?_.g=h.g:E=h.u!=null;var R=h.h;if(E)as(_,h.u);else if(E=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Y=_.h.lastIndexOf("/");Y!=-1&&(R=_.h.slice(0,Y+1)+R)}if(Y=R,Y==".."||Y==".")R="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){R=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const J=[];for(let ge=0;ge<Y.length;){const Pe=Y[ge++];Pe=="."?R&&ge==Y.length&&J.push(""):Pe==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),R&&ge==Y.length&&J.push("")):(J.push(Pe),R=!0)}R=J.join("/")}else R=Y}return E?_.h=R:E=h.i.toString()!=="",E?Wl(_,ih(h.i)):E=!!h.m,E&&(_.m=h.m),_};function Ft(h){return new Fn(h)}function rn(h,_,E){h.j=E?Zr(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function as(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Wl(h,_,E){_ instanceof ls?(h.i=_,bo(h.i,h.l)):(E||(_=pa(_,os)),h.i=new ls(_,h.l))}function st(h,_,E){h.i.set(_,E)}function ma(h){return st(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Zr(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function pa(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,Dn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Dn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var vo=/[#\/\?@]/g,th=/[#\?:]/g,Zl=/[#\?]/g,os=/[#\?@]/g,nh=/#/g;function ls(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function In(h){h.g||(h.g=new Map,h.h=0,h.i&&yo(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=ls.prototype,t.add=function(h,_){In(this),this.i=null,h=cs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function rh(h,_){In(h),_=cs(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Jl(h,_){return In(h),_=cs(h,_),h.g.has(_)}t.forEach=function(h,_){In(this),this.g.forEach(function(E,R){E.forEach(function(Y){h.call(_,Y,R,this)},this)},this)};function ec(h,_){In(h);let E=[];if(typeof _=="string")Jl(h,_)&&(E=E.concat(h.g.get(cs(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)E=E.concat(h[_]);return E}t.set=function(h,_){return In(this),this.i=null,h=cs(this,h),Jl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=ec(this,h),h.length>0?String(h[0]):_):_};function _o(h,_,E){rh(h,_),E.length>0&&(h.i=null,h.g.set(cs(h,_),S(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var E=_[R];const Y=Ci(E);E=ec(this,E);for(let J=0;J<E.length;J++){let ge=Y;E[J]!==""&&(ge+="="+Ci(E[J])),h.push(ge)}}return this.i=h.join("&")};function ih(h){const _=new ls;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function cs(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function bo(h,_){_&&!h.j&&(In(h),h.i=null,h.g.forEach(function(E,R){const Y=R.toLowerCase();R!=Y&&(rh(this,R),_o(this,Y,E))},h)),h.j=_}function Sr(h,_){const E=new xr;if(u.Image){const R=new Image;R.onload=v(er,E,"TestLoadImage: loaded",!0,_,R),R.onerror=v(er,E,"TestLoadImage: error",!1,_,R),R.onabort=v(er,E,"TestLoadImage: abort",!1,_,R),R.ontimeout=v(er,E,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else _(!1)}function tc(h,_){const E=new xr,R=new AbortController,Y=setTimeout(()=>{R.abort(),er(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:R.signal}).then(J=>{clearTimeout(Y),J.ok?er(E,"TestPingServer: ok",!0,_):er(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),er(E,"TestPingServer: error",!1,_)})}function er(h,_,E,R,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),R(E)}catch{}}function us(){this.g=new ca}function Jr(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Jr,ss),Jr.prototype.g=function(){return new ga(this.i,this.h)};function ga(h,_){lt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ga,lt),t=ga.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Ar(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;To(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function To(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?hs(this):Ar(this),this.readyState==3&&To(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,hs(this))},t.Na=function(h){this.g&&(this.response=h,hs(this))},t.ga=function(){this.g&&hs(this)};function hs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ar(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function Ar(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ga.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function tr(h){let _="";return be(h,function(E,R){_+=R,_+=":",_+=E,_+=`\r
`}),_}function ya(h,_,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=tr(E),typeof h=="string"?E!=null&&Ci(E):st(h,_,E))}function ct(h){lt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ct,lt);var ei=/^https?$/i,nc=["POST","PUT"];t=ct.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gl.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(J){va(this,J);return}if(h=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Y in R)E.set(Y,R[Y]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())E.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),Y=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(nc,_,void 0)>=0)||R||Y||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ge]of E)this.g.setRequestHeader(J,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){va(this,J)}};function va(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,rc(h),Ri(h)}function rc(h){h.A||(h.A=!0,nt(h,"complete"),nt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,nt(this,"complete"),nt(this,"abort"),Ri(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?_a(this):this.Xa())},t.Xa=function(){_a(this)};function _a(h){if(h.h&&typeof l<"u"){if(h.v&&Cr(h)==4)setTimeout(h.Ca.bind(h),0);else if(nt(h,"readystatechange"),Cr(h)==4){h.h=!1;try{const J=h.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var R;if(R=J===0){let ge=String(h.D).match(eh)[1]||null;!ge&&u.self&&u.self.location&&(ge=u.self.location.protocol.slice(0,-1)),R=!ei.test(ge?ge.toLowerCase():"")}E=R}if(E)nt(h,"complete"),nt(h,"success");else{h.o=6;try{var Y=Cr(h)>2?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.ca()+"]",rc(h)}}finally{Ri(h)}}}}function Ri(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,_||nt(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Cr(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Cr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),ho(_)}};function cn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(h){const _={};h=(h.g&&Cr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(P(h[R]))continue;var E=Wu(h[R]);const Y=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=_[Y]||[];_[Y]=J,J.push(E)}q(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ti(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function fs(h){this.za=0,this.i=[],this.j=new xr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ti("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ti("baseRetryDelayMs",5e3,h),this.Za=ti("retryDelaySeedMs",1e4,h),this.Ta=ti("forwardChannelMaxRetries",2,h),this.va=ti("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new $l(h&&h.concurrentRequestLimit),this.Ba=new us,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=fs.prototype,t.ka=8,t.I=1,t.connect=function(h,_,E,R){Ut(0),this.W=h,this.H=_||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=hh(this,null,this.W),ni(this)};function ic(h){if(xo(h),h.I==3){var _=h.V++,E=Ft(h.J);if(st(E,"SID",h.M),st(E,"RID",_),st(E,"TYPE","terminate"),ba(h,E),_=new Er(h,h.j,_),_.M=2,_.A=ma(Ft(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=fh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Kr(_)}uh(h)}function ds(h){h.g&&(ac(h),h.g.cancel(),h.g=null)}function xo(h){ds(h),h.v&&(u.clearTimeout(h.v),h.v=null),wo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function ni(h){if(!Kl(h.h)&&!h.m){h.m=!0;var _=h.Ea;ue||A(),Q||(ue(),Q=!0),D.add(_,h),h.D=0}}function Eo(h,_){return Xr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=qr(p(h.Ea,h,_),ch(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Y=new Er(this,this.j,h);let J=this.o;if(this.U&&(J?(J=w(J),te(J,this.U)):J=this.U),this.u!==null||this.R||(Y.J=J,J=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=sh(this,Y,_),E=Ft(this.J),st(E,"RID",h),st(E,"CVER",22),this.G&&st(E,"X-HTTP-Session-Id",this.G),ba(this,E),J&&(this.R?_="headers="+Ci(tr(J))+"&"+_:this.u&&ya(E,this.u,J)),Ql(this.h,Y),this.Ra&&st(E,"TYPE","init"),this.S?(st(E,"$req",_),st(E,"SID","null"),Y.U=!0,$r(Y,E,null)):$r(Y,E,_),this.I=2}}else this.I==3&&(h?sc(this,h):this.i.length==0||Kl(this.h)||sc(this))};function sc(h,_){var E;_?E=_.l:E=h.V++;const R=Ft(h.J);st(R,"SID",h.M),st(R,"RID",E),st(R,"AID",h.K),ba(h,R),h.u&&h.o&&ya(R,h.u,h.o),E=new Er(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),_&&(h.i=_.G.concat(h.i)),_=sh(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ql(h.h,E),$r(E,R,_)}function ba(h,_){h.H&&be(h.H,function(E,R){st(_,R,E)}),h.l&&be({},function(E,R){st(_,R,E)})}function sh(h,_,E){E=Math.min(h.i.length,E);const R=h.l?p(h.l.Ka,h.l,h):null;e:{var Y=h.i;let Pe=-1;for(;;){const Ot=["count="+E];Pe==-1?E>0?(Pe=Y[0].g,Ot.push("ofs="+Pe)):Pe=0:Ot.push("ofs="+Pe);let Je=!0;for(let _t=0;_t<E;_t++){var J=Y[_t].g;const nr=Y[_t].map;if(J-=Pe,J<0)Pe=Math.max(0,Y[_t].g-100),Je=!1;else try{J="req"+J+"_"||"";try{var ge=nr instanceof Map?nr:Object.entries(nr);for(const[ii,Rr]of ge){let Nr=Rr;f(Rr)&&(Nr=zr(Rr)),Ot.push(J+ii+"="+encodeURIComponent(Nr))}}catch(ii){throw Ot.push(J+"type="+encodeURIComponent("_badmap")),ii}}catch{R&&R(nr)}}if(Je){ge=Ot.join("&");break e}}ge=void 0}return h=h.i.splice(0,E),_.G=h,ge}function ah(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ue||A(),Q||(ue(),Q=!0),D.add(_,h),h.A=0}}function Ta(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=qr(p(h.Da,h),ch(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,oh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=qr(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),ds(this),oh(this))};function ac(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function oh(h){h.g=new Er(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ft(h.na);st(_,"RID","rpc"),st(_,"SID",h.M),st(_,"AID",h.K),st(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&st(_,"TO",h.ia),st(_,"TYPE","xmlhttp"),ba(h,_),h.u&&h.o&&ya(_,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ma(Ft(_)),E.u=null,E.R=!0,po(E,h)}t.Va=function(){this.C!=null&&(this.C=null,ds(this),Ta(this),Ut(19))};function wo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function lh(h,_){var E=null;if(h.g==_){wo(h),ac(h),h.g=null;var R=2}else if(Wr(h.h,_))E=_.G,Yl(h.h,_),R=1;else return;if(h.I!=0){if(_.o)if(R==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var Y=h.D;R=mo(),nt(R,new Hr(R,E)),ni(h)}else ah(h);else if(Y=_.m,Y==3||Y==0&&_.X>0||!(R==1&&Eo(h,_)||R==2&&Ta(h)))switch(E&&E.length>0&&(_=h.h,_.i=_.i.concat(E)),Y){case 1:ri(h,5);break;case 4:ri(h,10);break;case 3:ri(h,6);break;default:ri(h,2)}}}function ch(h,_){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*_}function ri(h,_){if(h.j.info("Error code "+_),_==2){var E=p(h.bb,h),R=h.Ua;const Y=!R;R=new Fn(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||rn(R,"https"),ma(R),Y?Sr(R.toString(),E):tc(R.toString(),E)}else Ut(2);h.I=0,h.l&&h.l.pa(_),uh(h),xo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function uh(h){if(h.I=0,h.ja=[],h.l){const _=Xl(h.h);(_.length!=0||h.i.length!=0)&&(M(h.ja,_),M(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function hh(h,_,E){var R=E instanceof Fn?Ft(E):new Fn(E);if(R.g!="")_&&(R.g=_+"."+R.g),as(R,R.u);else{var Y=u.location;R=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;const J=new Fn(null);R&&rn(J,R),_&&(J.g=_),Y&&as(J,Y),E&&(J.h=E),R=J}return E=h.G,_=h.wa,E&&_&&st(R,E,_),st(R,"VER",h.ka),ba(h,R),R}function fh(h,_,E){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new ct(new Jr({ab:E})):new ct(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dh(){}t=dh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ms(){}ms.prototype.g=function(h,_){return new An(h,_)};function An(h,_){lt.call(this),this.g=new fs(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!P(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Di(this)}b(An,lt),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){ic(this.g)},An.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=zr(h),h=E);_.i.push(new zt(_.Ya++,h)),_.I==3&&ni(_)},An.prototype.N=function(){this.g.l=null,delete this.j,ic(this.g),delete this.g,An.Z.N.call(this)};function mh(h){ln.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const E in _){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(mh,ln);function ph(){Zn.call(this),this.status=1}b(ph,Zn);function Di(h){this.g=h}b(Di,dh),Di.prototype.ra=function(){nt(this.g,"a")},Di.prototype.qa=function(h){nt(this.g,new mh(h))},Di.prototype.pa=function(h){nt(this.g,new ph)},Di.prototype.oa=function(){nt(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,nS=function(){return new ms},tS=function(){return mo()},eS=It,sy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,Bf=fa,ql.COMPLETE="complete",Jw=ql,fo.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",lt.prototype.listen=lt.prototype.J,Qc=fo,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,Zw=ct}).apply(typeof xf<"u"?xf:typeof self<"u"?self:typeof window<"u"?window:{});const sx="@firebase/firestore",ax="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new a0("@firebase/firestore");function nl(){return eo.logLevel}function ve(t,...e){if(eo.logLevel<=He.DEBUG){const n=e.map(_0);eo.debug(`Firestore (${Pl}): ${t}`,...n)}}function es(t,...e){if(eo.logLevel<=He.ERROR){const n=e.map(_0);eo.error(`Firestore (${Pl}): ${t}`,...n)}}function Tl(t,...e){if(eo.logLevel<=He.WARN){const n=e.map(_0);eo.warn(`Firestore (${Pl}): ${t}`,...n)}}function _0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,rS(t,i,n)}function rS(t,e,n){let i=`FIRESTORE (${Pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw es(i),new Error(i)}function rt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||rS(e,a,i)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Tn.UNAUTHENTICATED)))}shutdown(){}}class WO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ZO{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let l=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Xi,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},f=d=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>f(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Xi)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(rt(typeof i.accessToken=="string",31837,{l:i}),new iS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class JO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eM{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new JO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ox{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const i=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ox(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ox(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=nM(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function qe(t,e){return t<e?-1:t>e?1:0}function ay(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return bg(a)===bg(l)?qe(a,l):bg(a)?1:-1}return qe(t.length,e.length)}const rM=55296,iM=57343;function bg(t){const e=t.charCodeAt(0);return e>=rM&&e<=iM}function xl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="__name__";class ci{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ce(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=ci.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return qe(e.length,n.length)}static compareSegments(e,n){const i=ci.isNumericId(e),a=ci.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?ci.extractNumericId(e).compare(ci.extractNumericId(n)):ay(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ks.fromString(e.substring(4,e.length-2))}}class mt extends ci{construct(e,n,i){return new mt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new mt(n)}static emptyPath(){return new mt([])}}const sM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends ci{construct(e,n,i){return new gn(e,n,i)}static isValidIdentifier(e){return sM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lx}static keyField(){return new gn([lx])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ye(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ye(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(i+=f,a++):(l(),a++)}if(l(),u)throw new ye(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(mt.fromString(e))}static fromName(e){return new we(mt.fromString(e).popFirst(5))}static empty(){return new we(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t,e,n){if(!n)throw new ye(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aM(t,e,n,i){if(e===!0&&i===!0)throw new ye(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cx(t){if(!we.isDocumentKey(t))throw new ye(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ux(t){if(we.isDocumentKey(t))throw new ye(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function aS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Md(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Md(t);throw new ye(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lu(t,e){if(!aS(t))throw new ye(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new ye(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=-62135596800,fx=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*fx);return new yt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hx)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fx}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lu(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Xt("string",yt._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new yt(0,0))}static max(){return new De(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function oM(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=De.fromTimestamp(i===1e9?new yt(n+1,0):new yt(n,i));return new Xs(a,we.empty(),e)}function lM(t){return new Xs(t.readTime,t.key,pu)}class Xs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Xs(De.min(),we.empty(),pu)}static max(){return new Xs(De.max(),we.empty(),pu)}}function cM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==uM)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,i)=>{n(e)}))}static reject(e){return new le(((n,i)=>{i(e)}))}static waitFor(e){return new le(((n,i)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(d=>i(d)))})),u=!0,l===a&&n()}))}static or(e){let n=le.resolve(!1);for(const i of e)n=n.next((a=>a?le.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new le(((i,a)=>{const l=e.length,u=new Array(l);let f=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next((v=>{u[p]=v,++f,f===l&&i(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new le(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function fM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=-1;function Vd(t){return t==null}function ad(t){return t===0&&1/t==-1/0}function dM(t){return typeof t=="number"&&Number.isInteger(t)&&!ad(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="";function mM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dx(e)),e=pM(t.get(n),e);return dx(e)}function pM(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case oS:n+="";break;default:n+=l}}return n}function dx(t){return t+oS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ef(this.root,e,this.comparator,!0)}}class Ef{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??pn.RED,this.left=a??pn.EMPTY,this.right=l??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new pn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return pn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new px(this.data.getIterator())}getIteratorFrom(e){return new px(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class px{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new Xn([])}unionWith(e){let n=new en(gn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new cS("Invalid base64 string: "+l):l}})(e);return new yn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const gM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(t){if(rt(!!t,39018),typeof t=="string"){let e=0;const n=gM.exec(t);if(rt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zs(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="server_timestamp",hS="__type__",fS="__previous_value__",dS="__local_write_time__";function x0(t){return(t?.mapValue?.fields||{})[hS]?.stringValue===uS}function jd(t){const e=t.mapValue.fields[fS];return x0(e)?jd(e):e}function gu(t){const e=Ws(t.mapValue.fields[dS].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n,i,a,l,u,f,d,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=v}}const od="(default)";class yu{constructor(e,n){this.projectId=e,this.database=n||od}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===od}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="__type__",vM="__max__",wf={mapValue:{}},pS="__vector__",ld="value";function Js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?x0(t)?4:bM(t)?9007199254740991:_M(t)?10:11:Ce(28295,{value:t})}function bi(t,e){if(t===e)return!0;const n=Js(t);if(n!==Js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gu(t).isEqual(gu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Ws(a.timestampValue),f=Ws(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Zs(a.bytesValue).isEqual(Zs(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return jt(a.geoPointValue.latitude)===jt(l.geoPointValue.latitude)&&jt(a.geoPointValue.longitude)===jt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return jt(a.integerValue)===jt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=jt(a.doubleValue),f=jt(l.doubleValue);return u===f?ad(u)===ad(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return xl(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(mx(u)!==mx(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!bi(u[d],f[d])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function vu(t,e){return(t.values||[]).find((n=>bi(n,e)))!==void 0}function El(t,e){if(t===e)return 0;const n=Js(t),i=Js(e);if(n!==i)return qe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=jt(l.integerValue||l.doubleValue),d=jt(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1})(t,e);case 3:return gx(t.timestampValue,e.timestampValue);case 4:return gx(gu(t),gu(e));case 5:return ay(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=Zs(l),d=Zs(u);return f.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),d=u.split("/");for(let p=0;p<f.length&&p<d.length;p++){const v=qe(f[p],d[p]);if(v!==0)return v}return qe(f.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=qe(jt(l.latitude),jt(u.latitude));return f!==0?f:qe(jt(l.longitude),jt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return yx(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},d=u.fields||{},p=f[ld]?.arrayValue,v=d[ld]?.arrayValue,b=qe(p?.values?.length||0,v?.values?.length||0);return b!==0?b:yx(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===wf.mapValue&&u===wf.mapValue)return 0;if(l===wf.mapValue)return 1;if(u===wf.mapValue)return-1;const f=l.fields||{},d=Object.keys(f),p=u.fields||{},v=Object.keys(p);d.sort(),v.sort();for(let b=0;b<d.length&&b<v.length;++b){const T=ay(d[b],v[b]);if(T!==0)return T;const S=El(f[d[b]],p[v[b]]);if(S!==0)return S}return qe(d.length,v.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function gx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Ws(t),i=Ws(e),a=qe(n.seconds,i.seconds);return a!==0?a:qe(n.nanos,i.nanos)}function yx(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=El(n[a],i[a]);if(l)return l}return qe(n.length,i.length)}function wl(t){return oy(t)}function oy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Ws(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Zs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return we.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=oy(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${oy(n.fields[u])}`;return a+"}"})(t.mapValue):Ce(61005,{value:t})}function zf(t){switch(Js(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jd(t);return e?16+zf(e):16;case 5:return 2*t.stringValue.length;case 6:return Zs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+zf(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return sa(i.fields,((l,u)=>{a+=l.length+zf(u)})),a})(t.mapValue);default:throw Ce(13486,{value:t})}}function vx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ly(t){return!!t&&"integerValue"in t}function E0(t){return!!t&&"arrayValue"in t}function _x(t){return!!t&&"nullValue"in t}function bx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ff(t){return!!t&&"mapValue"in t}function _M(t){return(t?.mapValue?.fields||{})[mS]?.stringValue===pS}function tu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return sa(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=tu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tu(t.arrayValue.values[n]);return e}return{...t}}function bM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===vM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ff(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(n)}setAll(e){let n=gn.emptyPath(),i={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const d=this.getFieldsMap(n);this.applyChanges(d,i,a),i={},a=[],n=f.popLast()}u?i[f.lastSegment()]=tu(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Ff(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){sa(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new kn(tu(this.value))}}function gS(t){const e=[];return sa(t.fields,((n,i)=>{const a=new gn([n]);if(Ff(i)){const l=gS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n,i,a,l,u,f){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new xn(e,0,De.min(),De.min(),De.min(),kn.empty(),0)}static newFoundDocument(e,n,i,a){return new xn(e,1,n,De.min(),i,a,0)}static newNoDocument(e,n){return new xn(e,2,n,De.min(),De.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,De.min(),De.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.position=e,this.inclusive=n}}function Tx(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=we.comparator(we.fromName(u.referenceValue),n.key):i=El(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function xx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n="asc"){this.field=e,this.dir=n}}function TM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{}class Yt extends yS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new EM(e,n,i):n==="array-contains"?new AM(e,i):n==="in"?new CM(e,i):n==="not-in"?new RM(e,i):n==="array-contains-any"?new NM(e,i):new Yt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new wM(e,i):new SM(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(El(n,this.value)):n!==null&&Js(this.value)===Js(n)&&this.matchesComparison(El(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends yS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new kr(e,n)}matches(e){return vS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vS(t){return t.op==="and"}function _S(t){return xM(t)&&vS(t)}function xM(t){for(const e of t.filters)if(e instanceof kr)return!1;return!0}function cy(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+wl(t.value);if(_S(t))return t.filters.map((e=>cy(e))).join(",");{const e=t.filters.map((n=>cy(n))).join(",");return`${t.op}(${e})`}}function bS(t,e){return t instanceof Yt?(function(i,a){return a instanceof Yt&&i.op===a.op&&i.field.isEqual(a.field)&&bi(i.value,a.value)})(t,e):t instanceof kr?(function(i,a){return a instanceof kr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,f)=>l&&bS(u,a.filters[f])),!0):!1})(t,e):void Ce(19439)}function TS(t){return t instanceof Yt?(function(n){return`${n.field.canonicalString()} ${n.op} ${wl(n.value)}`})(t):t instanceof kr?(function(n){return n.op.toString()+" {"+n.getFilters().map(TS).join(" ,")+"}"})(t):"Filter"}class EM extends Yt{constructor(e,n,i){super(e,n,i),this.key=we.fromName(i.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class wM extends Yt{constructor(e,n){super(e,"in",n),this.keys=xS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class SM extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=xS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function xS(t,e){return(e.arrayValue?.values||[]).map((n=>we.fromName(n.referenceValue)))}class AM extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return E0(n)&&vu(n.arrayValue,this.value)}}class CM extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vu(this.value.arrayValue,n)}}class RM extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vu(this.value.arrayValue,n)}}class NM extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!E0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>vu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n=null,i=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function Ex(t,e=null,n=[],i=[],a=null,l=null,u=null){return new DM(t,e,n,i,a,l,u)}function w0(t){const e=Me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>cy(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>wl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>wl(i))).join(",")),e.Te=n}return e.Te}function S0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xx(t.startAt,e.startAt)&&xx(t.endAt,e.endAt)}function uy(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n=null,i=[],a=[],l=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function IM(t,e,n,i,a,l,u,f){return new Ll(t,e,n,i,a,l,u,f)}function A0(t){return new Ll(t)}function wx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ES(t){return t.collectionGroup!==null}function nu(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new en(gn.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new _u(l,i))})),n.has(gn.keyField().canonicalString())||e.Ie.push(new _u(gn.keyField(),i))}return e.Ie}function di(t){const e=Me(t);return e.Ee||(e.Ee=OM(e,nu(t))),e.Ee}function OM(t,e){if(t.limitType==="F")return Ex(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new _u(a.field,l)}));const n=t.endAt?new cd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new cd(t.startAt.position,t.startAt.inclusive):null;return Ex(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function hy(t,e){const n=t.filters.concat([e]);return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fy(t,e,n){return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ld(t,e){return S0(di(t),di(e))&&t.limitType===e.limitType}function wS(t){return`${w0(di(t))}|lt:${t.limitType}`}function rl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>TS(a))).join(", ")}]`),Vd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>wl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>wl(a))).join(",")),`Target(${i})`})(di(t))}; limitType=${t.limitType})`}function kd(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):we.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of nu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,f,d){const p=Tx(u,f,d);return u.inclusive?p<=0:p<0})(i.startAt,nu(i),a)||i.endAt&&!(function(u,f,d){const p=Tx(u,f,d);return u.inclusive?p>=0:p>0})(i.endAt,nu(i),a))})(t,e)}function MM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SS(t){return(e,n)=>{let i=!1;for(const a of nu(t)){const l=PM(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function PM(t,e,n){const i=t.field.isKeyField()?we.comparator(e.key,n.key):(function(l,u,f){const d=u.data.field(l),p=f.data.field(l);return d!==null&&p!==null?El(d,p):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return lS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=new St(we.comparator);function ts(){return VM}const AS=new St(we.comparator);function Yc(...t){let e=AS;for(const n of t)e=e.insert(n.key,n);return e}function CS(t){let e=AS;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Fa(){return ru()}function RS(){return ru()}function ru(){return new ao((t=>t.toString()),((t,e)=>t.isEqual(e)))}const jM=new St(we.comparator),LM=new en(we.comparator);function Ge(...t){let e=LM;for(const n of t)e=e.add(n);return e}const kM=new en(qe);function UM(){return kM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ad(e)?"-0":e}}function NS(t){return{integerValue:""+t}}function BM(t,e){return dM(e)?NS(e):C0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this._=void 0}}function zM(t,e,n){return t instanceof bu?(function(a,l){const u={fields:{[hS]:{stringValue:uS},[dS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&x0(l)&&(l=jd(l)),l&&(u.fields[fS]=l),{mapValue:u}})(n,e):t instanceof Tu?IS(t,e):t instanceof xu?OS(t,e):(function(a,l){const u=DS(a,l),f=Sx(u)+Sx(a.Ae);return ly(u)&&ly(a.Ae)?NS(f):C0(a.serializer,f)})(t,e)}function FM(t,e,n){return t instanceof Tu?IS(t,e):t instanceof xu?OS(t,e):n}function DS(t,e){return t instanceof ud?(function(i){return ly(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class bu extends Ud{}class Tu extends Ud{constructor(e){super(),this.elements=e}}function IS(t,e){const n=MS(e);for(const i of t.elements)n.some((a=>bi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class xu extends Ud{constructor(e){super(),this.elements=e}}function OS(t,e){let n=MS(e);for(const i of t.elements)n=n.filter((a=>!bi(a,i)));return{arrayValue:{values:n}}}class ud extends Ud{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Sx(t){return jt(t.integerValue||t.doubleValue)}function MS(t){return E0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n){this.field=e,this.transform=n}}function qM(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Tu&&a instanceof Tu||i instanceof xu&&a instanceof xu?xl(i.elements,a.elements,bi):i instanceof ud&&a instanceof ud?bi(i.Ae,a.Ae):i instanceof bu&&a instanceof bu})(t.transform,e.transform)}class GM{constructor(e,n){this.version=e,this.transformResults=n}}class _r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bd{}function PS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new R0(t.key,_r.none()):new ku(t.key,t.data,_r.none());{const n=t.data,i=kn.empty();let a=new en(gn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new aa(t.key,i,new Xn(a.toArray()),_r.none())}}function $M(t,e,n){t instanceof ku?(function(a,l,u){const f=a.value.clone(),d=Cx(a.fieldTransforms,l,u.transformResults);f.setAll(d),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof aa?(function(a,l,u){if(!Hf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=Cx(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(VS(a)),d.setAll(f),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function iu(t,e,n,i){return t instanceof ku?(function(l,u,f,d){if(!Hf(l.precondition,u))return f;const p=l.value.clone(),v=Rx(l.fieldTransforms,d,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof aa?(function(l,u,f,d){if(!Hf(l.precondition,u))return f;const p=Rx(l.fieldTransforms,d,u),v=u.data;return v.setAll(VS(l)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,i):(function(l,u,f){return Hf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function KM(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=DS(i.transform,a||null);l!=null&&(n===null&&(n=kn.empty()),n.set(i.field,l))}return n||null}function Ax(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&xl(i,a,((l,u)=>qM(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ku extends Bd{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class aa extends Bd{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function VS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function Cx(t,e,n){const i=new Map;rt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);i.set(l.field,FM(u,f,n[a]))}return i}function Rx(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,zM(l,u,e))}return i}class R0 extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QM extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&$M(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=iu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=iu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=RS();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const d=PS(u,f);d!==null&&i.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(De.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,((n,i)=>Ax(n,i)))&&xl(this.baseMutations,e.baseMutations,((n,i)=>Ax(n,i)))}}class N0{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){rt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return jM})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new N0(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,Ke;function ZM(t){switch(t){case se.OK:return Ce(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function jS(t){if(t===void 0)return es("GRPC error has no .code"),se.UNKNOWN;switch(t){case Kt.OK:return se.OK;case Kt.CANCELLED:return se.CANCELLED;case Kt.UNKNOWN:return se.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return se.INTERNAL;case Kt.UNAVAILABLE:return se.UNAVAILABLE;case Kt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Kt.NOT_FOUND:return se.NOT_FOUND;case Kt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Kt.ABORTED:return se.ABORTED;case Kt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Kt.DATA_LOSS:return se.DATA_LOSS;default:return Ce(39323,{code:t})}}(Ke=Kt||(Kt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new Ks([4294967295,4294967295],0);function Nx(t){const e=JM().encode(t),n=new Ww;return n.update(e),new Uint8Array(n.digest())}function Dx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ks([n,i],0),new Ks([a,l],0)]}class D0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Xc(`Invalid padding: ${n}`);if(i<0)throw new Xc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Xc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Xc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ks.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Ks.fromNumber(i)));return a.compare(eP)===1&&(a=new Ks([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Nx(e),[i,a]=Dx(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new D0(l,a,n);return i.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=Nx(e),[i,a]=Dx(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new zd(De.min(),a,new St(qe),ts(),Ge())}}class Uu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Uu(i,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class LS{constructor(e,n){this.targetId=e,this.Ce=n}}class kS{constructor(e,n,i=yn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class Ix{constructor(){this.ve=0,this.Fe=Ox(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),i=Ge();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ce(38017,{changeType:l})}})),new Uu(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Ox()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tP{constructor(e){this.Ge=e,this.ze=new Map,this.je=ts(),this.Je=Sf(),this.He=Sf(),this.Ye=new St(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(uy(l))if(i===0){const u=new we(l.path);this.et(n,u,xn.newNoDocument(u,De.min()))}else rt(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const f=this.ut(e),d=f?this.ct(f,e,u):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=Zs(i).toUint8Array()}catch(d){if(d instanceof cS)return Tl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new D0(u,a,l)}catch(d){return Tl(d instanceof Xc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&uy(f.target)){const d=new we(f.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,xn.newNoDocument(d,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let i=Ge();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new zd(e,n,this.Ye,this.je,i);return this.je=ts(),this.Je=Sf(),this.He=Sf(),this.Ye=new St(qe),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ix,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new en(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new en(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ix),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sf(){return new St(we.comparator)}function Ox(){return new St(we.comparator)}const nP={asc:"ASCENDING",desc:"DESCENDING"},rP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iP={and:"AND",or:"OR"};class sP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dy(t,e){return t.useProto3Json||Vd(e)?e:{value:e}}function hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function US(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aP(t,e){return hd(t,e.toTimestamp())}function mi(t){return rt(!!t,49232),De.fromTimestamp((function(n){const i=Ws(n);return new yt(i.seconds,i.nanos)})(t))}function I0(t,e){return my(t,e).canonicalString()}function my(t,e){const n=(function(a){return new mt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function BS(t){const e=mt.fromString(t);return rt(GS(e),10190,{key:e.toString()}),e}function py(t,e){return I0(t.databaseId,e.path)}function Tg(t,e){const n=BS(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(FS(n))}function zS(t,e){return I0(t.databaseId,e)}function oP(t){const e=BS(t);return e.length===4?mt.emptyPath():FS(e)}function gy(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FS(t){return rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Mx(t,e,n){return{name:py(t,e),fields:n.value.mapValue.fields}}function lP(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(rt(v===void 0||typeof v=="string",58123),yn.fromBase64String(v||"")):(rt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),yn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(p){const v=p.code===void 0?se.UNKNOWN:jS(p.code);return new ye(v,p.message||"")})(u);n=new kS(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Tg(t,i.document.name),l=mi(i.document.updateTime),u=i.document.createTime?mi(i.document.createTime):De.min(),f=new kn({mapValue:{fields:i.document.fields}}),d=xn.newFoundDocument(a,l,u,f),p=i.targetIds||[],v=i.removedTargetIds||[];n=new qf(p,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Tg(t,i.document),l=i.readTime?mi(i.readTime):De.min(),u=xn.newNoDocument(a,l),f=i.removedTargetIds||[];n=new qf([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Tg(t,i.document),l=i.removedTargetIds||[];n=new qf([],l,a,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new WM(a,l),f=i.targetId;n=new LS(f,u)}}return n}function cP(t,e){let n;if(e instanceof ku)n={update:Mx(t,e.key,e.value)};else if(e instanceof R0)n={delete:py(t,e.key)};else if(e instanceof aa)n={update:Mx(t,e.key,e.data),updateMask:vP(e.fieldMask)};else{if(!(e instanceof QM))return Ce(16599,{Vt:e.type});n={verify:py(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const f=u.transform;if(f instanceof bu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Tu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof xu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ud)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Ce(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:aP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce(27497)})(t,e.precondition)),n}function uP(t,e){return t&&t.length>0?(rt(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?mi(a.updateTime):mi(l);return u.isEqual(De.min())&&(u=mi(l)),new GM(u,a.transformResults||[])})(n,e)))):[]}function hP(t,e){return{documents:[zS(t,e.path)]}}function fP(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=zS(t,a);const l=(function(p){if(p.length!==0)return qS(kr.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((v=>(function(T){return{field:il(T.field),direction:pP(T.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=dy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function dP(t){let e=oP(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){rt(i===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const T=HS(b);return T instanceof kr&&_S(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((T=>(function(M){return new _u(sl(M.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(T)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let T;return T=typeof b=="object"?b.value:b,Vd(T)?null:T})(n.limit));let d=null;n.startAt&&(d=(function(b){const T=!!b.before,S=b.values||[];return new cd(S,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const T=!b.before,S=b.values||[];return new cd(S,T)})(n.endAt)),IM(e,a,u,l,f,"F",d,p)}function mP(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=sl(n.unaryFilter.field);return Yt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=sl(n.unaryFilter.field);return Yt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=sl(n.unaryFilter.field);return Yt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=sl(n.unaryFilter.field);return Yt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Yt.create(sl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return kr.create(n.compositeFilter.filters.map((i=>HS(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function pP(t){return nP[t]}function gP(t){return rP[t]}function yP(t){return iP[t]}function il(t){return{fieldPath:t.canonicalString()}}function sl(t){return gn.fromServerFormat(t.fieldPath)}function qS(t){return t instanceof Yt?(function(n){if(n.op==="=="){if(bx(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NAN"}};if(_x(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bx(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NAN"}};if(_x(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(n.field),op:gP(n.op),value:n.value}}})(t):t instanceof kr?(function(n){const i=n.getFilters().map((a=>qS(a)));return i.length===1?i[0]:{compositeFilter:{op:yP(n.op),filters:i}}})(t):Ce(54877,{filter:t})}function vP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function GS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,i,a,l=De.min(),u=De.min(),f=yn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.yt=e}}function bP(t){const e=dP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.Cn=new xP}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Xs.min())}updateCollectionGroup(e,n,i){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class xP{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new en(mt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new en(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$S=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln($S,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sl(0)}static cr(){return new Sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="LruGarbageCollector",EP=1048576;function jx([t,e],[n,i]){const a=qe(t,n);return a===0?qe(e,i):a}class wP{constructor(e){this.Ir=e,this.buffer=new en(jx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();jx(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SP{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(Vx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jl(n)?ve(Vx,"Ignoring IndexedDB error during garbage collection: ",n):await Vl(n)}await this.Vr(3e5)}))}}class AP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Pd.ce);const i=new wP(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Px)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Px):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,l,u,f,d,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,f=Date.now(),this.removeTargets(e,i,n)))).next((b=>(l=b,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(p=Date.now(),nl()<=He.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(d-f)+`ms
	Removed ${b} documents in `+(p-d)+`ms
Total Duration: ${p-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function CP(t,e){return new AP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.changes=new ao((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?le.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&iu(i.mutation,a,Xn.empty(),yt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ge()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ge()){const a=Fa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let u=Yc();return l.forEach(((f,d)=>{u=u.insert(f,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=Fa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ge())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,i,a){let l=ts();const u=ru(),f=(function(){return ru()})();return n.forEach(((d,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof aa)?l=l.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),iu(v.mutation,p,v.mutation.getFieldMask(),yt.now())):u.set(p.key,Xn.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((p,v)=>u.set(p,v))),n.forEach(((p,v)=>f.set(p,new NP(v,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=ru();let a=new St(((u,f)=>u-f)),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let v=i.get(d)||Xn.empty();v=f.applyToLocalView(p,v),i.set(d,v);const b=(a.get(f.batchId)||Ge()).add(d);a=a.insert(f.batchId,b)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),p=d.key,v=d.value,b=RS();v.forEach((T=>{if(!l.has(T)){const S=PS(n.get(T),i.get(T));S!==null&&b.set(T,S),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return le.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ES(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):le.resolve(Fa());let f=pu,d=l;return u.next((p=>le.forEach(p,((v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{d=d.insert(v,T)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,d,p,Ge()))).next((v=>({batchId:f,changes:CS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next((i=>{let a=Yc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=Yc();return this.indexManager.getCollectionParents(e,l).next((f=>le.forEach(f,(d=>{const p=(function(b,T){return new Ll(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((v=>{v.forEach(((b,T)=>{u=u.insert(b,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((u=>{l.forEach(((d,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,xn.newInvalidDocument(v)))}));let f=Yc();return u.forEach(((d,p)=>{const v=l.get(d);v!==void 0&&iu(v.mutation,p,Xn.empty(),yt.now()),kd(n,p)&&(f=f.insert(d,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:mi(a.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:bP(a.bundledQuery),readTime:mi(a.readTime)}})(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this.overlays=new St(we.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Fa();return le.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.St(e,n,l)})),le.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),le.resolve()}getOverlaysForCollection(e,n,i){const a=Fa(),l=n.length+1,u=new we(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>i&&a.set(d.getKey(),d)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new St(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=Fa(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=Fa(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,v)=>f.set(p,v))),!(f.size()>=a)););return le.resolve(f)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new XM(n,i));let l=this.qr.get(n);l===void 0&&(l=Ge(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.Qr=new en(an.$r),this.Ur=new en(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new an(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new an(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new we(new mt([])),i=new an(n,e),a=new an(n,e+1),l=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new we(new mt([])),i=new an(n,e),a=new an(n,e+1);let l=Ge();return this.Ur.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new an(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class an{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return we.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new en(an.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new YM(l,n,i,a);this.mutationQueue.push(u);for(const f of a)this.Zr=this.Zr.add(new an(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?T0:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new an(n,0),a=new an(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(u=>{const f=this.Xr(u.Yr);l.push(f)})),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new en(qe);return n.forEach((a=>{const l=new an(a,0),u=new an(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{i=i.add(f.Yr)}))})),le.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;we.isDocumentKey(l)||(l=l.child(""));const u=new an(new we(l),0);let f=new en(qe);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(f=f.add(d.Yr)),!0)}),u),le.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){rt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return le.forEach(n.mutations,(a=>{const l=new an(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new an(n,0),a=this.Zr.firstAfterOrEqual(i);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.ri=e,this.docs=(function(){return new St(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return le.resolve(i?i.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let i=ts();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():xn.newInvalidDocument(a))})),le.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=ts();const u=n.path,f=new we(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:p,value:{document:v}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||cM(lM(v),i)<=0||(a.has(v.key)||kd(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ce(9500)}ii(e,n){return le.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new jP(this)}getSize(e){return le.resolve(this.size)}}class jP extends RP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.persistence=e,this.si=new ao((n=>w0(n)),S0),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new O0,this.targetCount=0,this.ai=Sl.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Sl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),le.waitFor(l).next((()=>a))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return le.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),le.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),le.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return le.resolve(i)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Pd(0),this.li=!1,this.li=!0,this.hi=new MP,this.referenceDelegate=e(this),this.Pi=new LP(this),this.indexManager=new TP,this.remoteDocumentCache=(function(a){return new VP(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new _P(n),this.Ii=new IP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new PP(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){ve("MemoryPersistence","Starting transaction:",e);const a=new kP(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return le.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class kP extends hM{constructor(e){super(),this.currentSequenceNumber=e}}class M0{constructor(e){this.persistence=e,this.Ri=new O0,this.Vi=null}static mi(e){return new M0(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),le.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(i=>{const a=we.fromPath(i);return this.gi(e,a).next((l=>{l||n.removeEntry(a,De.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class fd{constructor(e,n){this.persistence=e,this.pi=new ao((i=>mM(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=CP(this,n)}static mi(e,n){return new fd(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?le.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((f=>{f||(i++,l.removeEntry(u,De.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zf(e.data.value)),n}br(e,n,i){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return le.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=Ge(),a=Ge();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new P0(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return N6()?8:fM(wn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new UP;return this.Ss(e,n,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>l.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(nl()<=He.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(nl()<=He.DEBUG&&ve("QueryEngine","Query:",rl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(nl()<=He.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(n))):le.resolve())}ys(e,n){if(wx(n))return le.resolve(null);let i=di(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=fy(n,null,"F"),i=di(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=Ge(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,i).next((d=>{const p=this.Ds(n,f);return this.Cs(n,p,u,d.readTime)?this.ys(e,fy(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,i,a){return wx(n)||a.isEqual(De.min())?le.resolve(null):this.ps.getDocuments(e,i).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,i,a)?le.resolve(null):(nl()<=He.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),rl(n)),this.vs(e,u,n,oM(a,pu)).next((f=>f)))}))}Ds(e,n){let i=new en(SS(e));return n.forEach(((a,l)=>{kd(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return nl()<=He.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",rl(n)),this.ps.getDocumentsMatchingQuery(e,n,Xs.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="LocalStore",zP=3e8;class FP{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new St(qe),this.xs=new ao((l=>w0(l)),S0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function HP(t,e,n,i){return new FP(t,e,n,i)}async function QS(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],f=[];let d=Ge();for(const p of a){u.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}return n.localDocuments.getDocuments(i,d).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function qP(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,d,p,v){const b=p.batch,T=b.keys();let S=le.resolve();return T.forEach((M=>{S=S.next((()=>v.getEntry(d,M))).next((j=>{const O=p.docVersions.get(M);rt(O!==null,48541),j.version.compareTo(O)<0&&(b.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),v.addEntry(j)))}))})),S.next((()=>f.mutationQueue.removeMutationBatch(d,b)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let d=Ge();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(d=d.add(f.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function YS(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function GP(t,e){const n=Me(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((v,b)=>{const T=a.get(b);if(!T)return;f.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,b))));let S=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(yn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,i)),a=a.insert(b,S),(function(j,O,B){return j.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=zP?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(T,S,v)&&f.push(n.Pi.updateTargetData(l,S))}));let d=ts(),p=Ge();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push($P(l,u,e.documentUpdates).next((v=>{d=v.ks,p=v.qs}))),!i.isEqual(De.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((b=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(v)}return le.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(n.Ms=a,l)))}function $P(t,e,n){let i=Ge(),a=Ge();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=ts();return n.forEach(((f,d)=>{const p=l.get(f);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),d.isNoDocument()&&d.version.isEqual(De.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):ve(V0,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)})),{ks:u,qs:a}}))}function KP(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=T0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function QP(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((l=>l?(a=l,le.resolve(a)):n.Pi.allocateTargetId(i).next((u=>(a=new qs(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function yy(t,e,n){const i=Me(t),a=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!jl(u))throw u;ve(V0,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function Lx(t,e,n){const i=Me(t);let a=De.min(),l=Ge();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,v){const b=Me(d),T=b.xs.get(v);return T!==void 0?le.resolve(b.Ms.get(T)):b.Pi.getTargetData(p,v)})(i,u,di(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,f.targetId).next((d=>{l=d}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?a:De.min(),n?l:Ge()))).next((f=>(YP(i,MM(e),f),{documents:f,Qs:l})))))}function YP(t,e,n){let i=t.Os.get(e)||De.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class kx{constructor(){this.activeTargetIds=UM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XP{constructor(){this.Mo=new kx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new kx,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="ConnectivityMonitor";class Bx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(Ux,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(Ux,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af=null;function vy(){return Af===null?Af=(function(){return 268435456+Math.round(2147483648*Math.random())})():Af++,"0x"+Af.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="RestConnection",ZP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===od?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,l){const u=vy(),f=this.zo(e,n.toUriEncodedString());ve(xg,`Sending RPC '${e}' ${u}:`,f,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,l);const{host:p}=new URL(f),v=ia(p);return this.Jo(e,f,d,i,v).then((b=>(ve(xg,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Tl(xg,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",i),b}))}Ho(e,n,i,a,l,u){return this.Go(e,n,i,a,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const i=ZP[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class t5 extends JP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const u=vy();return new Promise(((f,d)=>{const p=new Zw;p.setWithCredentials(!0),p.listenOnce(Jw.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Bf.NO_ERROR:const b=p.getResponseJson();ve(_n,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case Bf.TIMEOUT:ve(_n,`RPC '${e}' ${u} timed out`),d(new ye(se.DEADLINE_EXCEEDED,"Request time out"));break;case Bf.HTTP_ERROR:const T=p.getStatus();if(ve(_n,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const M=S?.error;if(M&&M.status&&M.message){const j=(function(B){const k=B.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(k)>=0?k:se.UNKNOWN})(M.status);d(new ye(j,M.message))}else d(new ye(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ye(se.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ve(_n,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);ve(_n,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",v,i,15)}))}T_(e,n,i){const a=vy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=nS(),f=tS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const v=l.join("");ve(_n,`Creating RPC '${e}' stream ${a}: ${v}`,d);const b=u.createWebChannel(v,d);this.I_(b);let T=!1,S=!1;const M=new e5({Yo:O=>{S?ve(_n,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(T||(ve(_n,`Opening RPC '${e}' stream ${a} transport.`),b.open(),T=!0),ve(_n,`RPC '${e}' stream ${a} sending:`,O),b.send(O))},Zo:()=>b.close()}),j=(O,B,k)=>{O.listen(B,(G=>{try{k(G)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return j(b,Qc.EventType.OPEN,(()=>{S||(ve(_n,`RPC '${e}' stream ${a} transport opened.`),M.o_())})),j(b,Qc.EventType.CLOSE,(()=>{S||(S=!0,ve(_n,`RPC '${e}' stream ${a} transport closed`),M.a_(),this.E_(b))})),j(b,Qc.EventType.ERROR,(O=>{S||(S=!0,Tl(_n,`RPC '${e}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),M.a_(new ye(se.UNAVAILABLE,"The operation could not be completed")))})),j(b,Qc.EventType.MESSAGE,(O=>{if(!S){const B=O.data[0];rt(!!B,16349);const k=B,G=k?.error||k[0]?.error;if(G){ve(_n,`RPC '${e}' stream ${a} received error:`,G);const ce=G.status;let ue=(function(A){const N=Kt[A];if(N!==void 0)return jS(N)})(ce),Q=G.message;ue===void 0&&(ue=se.INTERNAL,Q="Unknown error status: "+ce+" with message "+G.message),S=!0,M.a_(new ye(ue,Q)),b.close()}else ve(_n,`RPC '${e}' stream ${a} received:`,B),M.u_(B)}})),j(f,eS.STAT_EVENT,(O=>{O.stat===sy.PROXY?ve(_n,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===sy.NOPROXY&&ve(_n,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Eg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t){return new sP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="PersistentStream";class WS{constructor(e,n,i,a,l,u,f,d){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(es(n.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new ye(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(zx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ve(zx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class n5 extends WS{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=lP(this.serializer,e),i=(function(l){if(!("targetChange"in l))return De.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?De.min():u.readTime?mi(u.readTime):De.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=gy(this.serializer),n.addTarget=(function(l,u){let f;const d=u.target;if(f=uy(d)?{documents:hP(l,d)}:{query:fP(l,d).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=US(l,u.resumeToken);const p=dy(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(De.min())>0){f.readTime=hd(l,u.snapshotVersion.toTimestamp());const p=dy(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const i=mP(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=gy(this.serializer),n.removeTarget=e,this.q_(n)}}class r5 extends WS{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uP(e.writeResults,e.commitTime),i=mi(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=gy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>cP(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{}class s5 extends i5{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,my(n,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(se.UNKNOWN,l.toString())}))}Ho(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,my(n,i),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class a5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="RemoteStore";class o5{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{oo(this)&&(ve(to,"Restarting streams for network reachability change."),await(async function(d){const p=Me(d);p.Ea.add(4),await Bu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Hd(p)})(this))}))})),this.Ra=new a5(i,a)}}async function Hd(t){if(oo(t))for(const e of t.da)await e(!0)}async function Bu(t){for(const e of t.da)await e(!1)}function ZS(t,e){const n=Me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),U0(n)?k0(n):kl(n).O_()&&L0(n,e))}function j0(t,e){const n=Me(t),i=kl(n);n.Ia.delete(e),i.O_()&&JS(n,e),n.Ia.size===0&&(i.O_()?i.L_():oo(n)&&n.Ra.set("Unknown"))}function L0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(t).Y_(e)}function JS(t,e){t.Va.Ue(e),kl(t).Z_(e)}function k0(t){t.Va=new tP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),kl(t).start(),t.Ra.ua()}function U0(t){return oo(t)&&!kl(t).x_()&&t.Ia.size>0}function oo(t){return Me(t).Ea.size===0}function eA(t){t.Va=void 0}async function l5(t){t.Ra.set("Online")}async function c5(t){t.Ia.forEach(((e,n)=>{L0(t,e)}))}async function u5(t,e){eA(t),U0(t)?(t.Ra.ha(e),k0(t)):t.Ra.set("Unknown")}async function h5(t,e,n){if(t.Ra.set("Online"),e instanceof kS&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(i){ve(to,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await dd(t,i)}else if(e instanceof qf?t.Va.Ze(e):e instanceof LS?t.Va.st(e):t.Va.tt(e),!n.isEqual(De.min()))try{const i=await YS(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(d.resumeToken,u))}})),f.targetMismatches.forEach(((d,p)=>{const v=l.Ia.get(d);if(!v)return;l.Ia.set(d,v.withResumeToken(yn.EMPTY_BYTE_STRING,v.snapshotVersion)),JS(l,d);const b=new qs(v.target,d,p,v.sequenceNumber);L0(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){ve(to,"Failed to raise snapshot:",i),await dd(t,i)}}async function dd(t,e,n){if(!jl(e))throw e;t.Ea.add(1),await Bu(t),t.Ra.set("Offline"),n||(n=()=>YS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(to,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Hd(t)}))}function tA(t,e){return e().catch((n=>dd(t,n,e)))}async function qd(t){const e=Me(t),n=ea(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:T0;for(;f5(e);)try{const a=await KP(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,d5(e,a)}catch(a){await dd(e,a)}nA(e)&&rA(e)}function f5(t){return oo(t)&&t.Ta.length<10}function d5(t,e){t.Ta.push(e);const n=ea(t);n.O_()&&n.X_&&n.ea(e.mutations)}function nA(t){return oo(t)&&!ea(t).x_()&&t.Ta.length>0}function rA(t){ea(t).start()}async function m5(t){ea(t).ra()}async function p5(t){const e=ea(t);for(const n of t.Ta)e.ea(n.mutations)}async function g5(t,e,n){const i=t.Ta.shift(),a=N0.from(i,e,n);await tA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await qd(t)}async function y5(t,e){e&&ea(t).X_&&await(async function(i,a){if((function(u){return ZM(u)&&u!==se.ABORTED})(a.code)){const l=i.Ta.shift();ea(i).B_(),await tA(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await qd(i)}})(t,e),nA(t)&&rA(t)}async function Fx(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),ve(to,"RemoteStore received new credentials");const i=oo(n);n.Ea.add(3),await Bu(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Hd(n)}async function v5(t,e){const n=Me(t);e?(n.Ea.delete(2),await Hd(n)):e||(n.Ea.add(2),await Bu(n),n.Ra.set("Unknown"))}function kl(t){return t.ma||(t.ma=(function(n,i,a){const l=Me(n);return l.sa(),new n5(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:l5.bind(null,t),t_:c5.bind(null,t),r_:u5.bind(null,t),H_:h5.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),U0(t)?k0(t):t.Ra.set("Unknown")):(await t.ma.stop(),eA(t))}))),t.ma}function ea(t){return t.fa||(t.fa=(function(n,i,a){const l=Me(n);return l.sa(),new r5(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:m5.bind(null,t),r_:y5.bind(null,t),ta:p5.bind(null,t),na:g5.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await qd(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(to,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,f=new B0(e,n,u,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function z0(t,e){if(es("AsyncQueue",`${e}: ${t}`),jl(t))return new ye(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{static emptySet(e){return new pl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||we.comparator(n.key,i.key):(n,i)=>we.comparator(n.key,i.key),this.keyedMap=Yc(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new pl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.ga=new St(we.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Al{constructor(e,n,i,a,l,u,f,d,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Al(e,n,pl.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class b5{constructor(){this.queries=qx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Me(n),l=a.queries;a.queries=qx(),l.forEach(((u,f)=>{for(const d of f.Sa)d.onError(i)}))})(this,new ye(se.ABORTED,"Firestore shutting down"))}}function qx(){return new ao((t=>wS(t)),Ld)}async function iA(t,e){const n=Me(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new _5,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=z0(u,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&F0(n)}async function sA(t,e){const n=Me(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function T5(t,e){const n=Me(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.Sa)f.Fa(a)&&(i=!0);u.wa=a}}i&&F0(n)}function x5(t,e,n){const i=Me(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function F0(t){t.Ca.forEach((e=>{e.next()}))}var _y,Gx;(Gx=_y||(_y={})).Ma="default",Gx.Cache="cache";class aA{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Al(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_y.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.key=e}}class lA{constructor(e){this.key=e}}class E5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=SS(e),this.tu=new pl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Hx,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const T=a.get(v),S=kd(this.query,b)?b:null,M=!!T&&this.mutatedKeys.has(T.key),j=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let O=!1;T&&S?T.data.isEqual(S.data)?M!==j&&(i.track({type:3,doc:S}),O=!0):this.su(T,S)||(i.track({type:2,doc:S}),O=!0,(d&&this.eu(S,d)>0||p&&this.eu(S,p)<0)&&(f=!0)):!T&&S?(i.track({type:0,doc:S}),O=!0):T&&!S&&(i.track({type:1,doc:T}),O=!0,(d||p)&&(f=!0)),O&&(S?(u=u.add(S),l=j?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:u,iu:i,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,b)=>(function(S,M){const j=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:O})}};return j(S)-j(M)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(i),a=a??!1;const f=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,u.length!==0||p?{snapshot:new Al(this.query,e.tu,l,u,e.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new lA(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new oA(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const H0="SyncEngine";class w5{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class S5{constructor(e){this.key=e,this.hu=!1}}class A5{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ao((f=>wS(f)),Ld),this.Iu=new Map,this.Eu=new Set,this.du=new St(we.comparator),this.Au=new Map,this.Ru=new O0,this.Vu={},this.mu=new Map,this.fu=Sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function C5(t,e,n=!0){const i=mA(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await cA(i,e,n,!0),a}async function R5(t,e){const n=mA(t);await cA(n,e,!0,!1)}async function cA(t,e,n,i){const a=await QP(t.localStore,di(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await N5(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&ZS(t.remoteStore,a),f}async function N5(t,e,n,i,a){t.pu=(b,T,S)=>(async function(j,O,B,k){let G=O.view.ru(B);G.Cs&&(G=await Lx(j.localStore,O.query,!1).then((({documents:D})=>O.view.ru(D,G))));const ce=k&&k.targetChanges.get(O.targetId),ue=k&&k.targetMismatches.get(O.targetId)!=null,Q=O.view.applyChanges(G,j.isPrimaryClient,ce,ue);return Kx(j,O.targetId,Q.au),Q.snapshot})(t,b,T,S);const l=await Lx(t.localStore,e,!0),u=new E5(e,l.Qs),f=u.ru(l.documents),d=Uu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=u.applyChanges(f,t.isPrimaryClient,d);Kx(t,n,p.au);const v=new w5(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function D5(t,e,n){const i=Me(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!Ld(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await yy(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&j0(i.remoteStore,a.targetId),by(i,a.targetId)})).catch(Vl)):(by(i,a.targetId),await yy(i.localStore,a.targetId,!0))}async function I5(t,e){const n=Me(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),j0(n.remoteStore,i.targetId))}async function O5(t,e,n){const i=U5(t);try{const a=await(function(u,f){const d=Me(u),p=yt.now(),v=f.reduce(((S,M)=>S.add(M.key)),Ge());let b,T;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let M=ts(),j=Ge();return d.Ns.getEntries(S,v).next((O=>{M=O,M.forEach(((B,k)=>{k.isValidDocument()||(j=j.add(B))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,M))).next((O=>{b=O;const B=[];for(const k of f){const G=KM(k,b.get(k.key).overlayedDocument);G!=null&&B.push(new aa(k.key,G,gS(G.value.mapValue),_r.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,B,f)})).next((O=>{T=O;const B=O.applyToLocalDocumentSet(b,j);return d.documentOverlayCache.saveOverlays(S,O.batchId,B)}))})).then((()=>({batchId:T.batchId,changes:CS(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,f,d){let p=u.Vu[u.currentUser.toKey()];p||(p=new St(qe)),p=p.insert(f,d),u.Vu[u.currentUser.toKey()]=p})(i,a.batchId,n),await zu(i,a.changes),await qd(i.remoteStore)}catch(a){const l=z0(a,"Failed to persist write");n.reject(l)}}async function uA(t,e){const n=Me(t);try{const i=await GP(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(rt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?rt(u.hu,14607):a.removedDocuments.size>0&&(rt(u.hu,42227),u.hu=!1))})),await zu(n,i,e)}catch(i){await Vl(i)}}function $x(t,e,n){const i=Me(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const d=Me(u);d.onlineState=f;let p=!1;d.queries.forEach(((v,b)=>{for(const T of b.Sa)T.va(f)&&(p=!0)})),p&&F0(d)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function M5(t,e,n){const i=Me(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new St(we.comparator);u=u.insert(l,xn.newNoDocument(l,De.min()));const f=Ge().add(l),d=new zd(De.min(),new Map,new St(qe),u,f);await uA(i,d),i.du=i.du.remove(l),i.Au.delete(e),q0(i)}else await yy(i.localStore,e,!1).then((()=>by(i,e,n))).catch(Vl)}async function P5(t,e){const n=Me(t),i=e.batch.batchId;try{const a=await qP(n.localStore,e);fA(n,i,null),hA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await zu(n,a)}catch(a){await Vl(a)}}async function V5(t,e,n){const i=Me(t);try{const a=await(function(u,f){const d=Me(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return d.mutationQueue.lookupMutationBatch(p,f).next((b=>(rt(b!==null,37113),v=b.keys(),d.mutationQueue.removeMutationBatch(p,b)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,v,f))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>d.localDocuments.getDocuments(p,v)))}))})(i.localStore,e);fA(i,e,n),hA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await zu(i,a)}catch(a){await Vl(a)}}function hA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function fA(t,e,n){const i=Me(t);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function by(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||dA(t,i)}))}function dA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(j0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),q0(t))}function Kx(t,e,n){for(const i of n)i instanceof oA?(t.Ru.addReference(i.key,e),j5(t,i)):i instanceof lA?(ve(H0,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||dA(t,i.key)):Ce(19791,{wu:i})}function j5(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(ve(H0,"New document in limbo: "+n),t.Eu.add(i),q0(t))}function q0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new we(mt.fromString(e)),i=t.fu.next();t.Au.set(i,new S5(n)),t.du=t.du.insert(n,i),ZS(t.remoteStore,new qs(di(A0(n.path)),i,"TargetPurposeLimboResolution",Pd.ce))}}async function zu(t,e,n){const i=Me(t),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,d)=>{u.push(i.pu(d,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){a.push(p);const v=P0.As(d.targetId,p);l.push(v)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(d,p){const v=Me(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>le.forEach(p,(T=>le.forEach(T.Es,(S=>v.persistence.referenceDelegate.addReference(b,T.targetId,S))).next((()=>le.forEach(T.ds,(S=>v.persistence.referenceDelegate.removeReference(b,T.targetId,S)))))))))}catch(b){if(!jl(b))throw b;ve(V0,"Failed to update sequence numbers: "+b)}for(const b of p){const T=b.targetId;if(!b.fromCache){const S=v.Ms.get(T),M=S.snapshotVersion,j=S.withLastLimboFreeSnapshotVersion(M);v.Ms=v.Ms.insert(T,j)}}})(i.localStore,l))}async function L5(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){ve(H0,"User change. New user:",e.toKey());const i=await QS(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((d=>{d.reject(new ye(se.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await zu(n,i.Ls)}}function k5(t,e){const n=Me(t),i=n.Au.get(e);if(i&&i.hu)return Ge().add(i.key);{let a=Ge();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function mA(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M5.bind(null,e),e.Pu.H_=T5.bind(null,e.eventManager),e.Pu.yu=x5.bind(null,e.eventManager),e}function U5(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V5.bind(null,e),e}class md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return HP(this.persistence,new BP,e.initialUser,this.serializer)}Cu(e){return new KS(M0.mi,this.serializer)}Du(e){return new XP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}md.provider={build:()=>new md};class B5 extends md{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){rt(this.persistence.referenceDelegate instanceof fd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new SP(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new KS((i=>fd.mi(i,n)),this.serializer)}}class Ty{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$x(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=L5.bind(null,this.syncEngine),await v5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new b5})()}createDatastore(e){const n=Fd(e.databaseInfo.databaseId),i=(function(l){return new t5(l)})(e.databaseInfo);return(function(l,u,f,d){return new s5(l,u,f,d)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,u,f){return new o5(i,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>$x(this.syncEngine,n,0)),(function(){return Bx.v()?new Bx:new WP})())}createSyncEngine(e,n){return(function(a,l,u,f,d,p,v){const b=new A5(a,l,u,f,d,p);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Me(n);ve(to,"RemoteStore shutting down."),i.Ea.add(5),await Bu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ty.provider={build:()=>new Ty};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="FirestoreClient";class z5{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Tn.UNAUTHENTICATED,this.clientId=b0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{ve(ta,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ve(ta,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=z0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function wg(t,e){t.asyncQueue.verifyOperationInProgress(),ve(ta,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await QS(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Qx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await F5(t);ve(ta,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>Fx(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>Fx(e.remoteStore,a))),t._onlineComponents=e}async function F5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(ta,"Using user provided OfflineComponentProvider");try{await wg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Tl("Error using user provided cache. Falling back to memory cache: "+n),await wg(t,new md)}}else ve(ta,"Using default OfflineComponentProvider"),await wg(t,new B5(void 0));return t._offlineComponents}async function gA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(ta,"Using user provided OnlineComponentProvider"),await Qx(t,t._uninitializedComponentsProvider._online)):(ve(ta,"Using default OnlineComponentProvider"),await Qx(t,new Ty))),t._onlineComponents}function H5(t){return gA(t).then((e=>e.syncEngine))}async function yA(t){const e=await gA(t),n=e.eventManager;return n.onListen=C5.bind(null,e.syncEngine),n.onUnlisten=D5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=R5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=I5.bind(null,e.syncEngine),n}function q5(t,e,n={}){const i=new Xi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,d,p){const v=new pA({next:T=>{v.Nu(),u.enqueueAndForget((()=>sA(l,b)));const S=T.docs.has(f);!S&&T.fromCache?p.reject(new ye(se.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&d&&d.source==="server"?p.reject(new ye(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),b=new aA(A0(f.path),v,{includeMetadataChanges:!0,qa:!0});return iA(l,b)})(await yA(t),t.asyncQueue,e,n,i))),i.promise}function G5(t,e,n={}){const i=new Xi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,d,p){const v=new pA({next:T=>{v.Nu(),u.enqueueAndForget((()=>sA(l,b))),T.fromCache&&d.source==="server"?p.reject(new ye(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),b=new aA(f,v,{includeMetadataChanges:!0,qa:!0});return iA(l,b)})(await yA(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="firestore.googleapis.com",Xx=!0;class Wx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_A,this.ssl=Xx}else this.host=e.host,this.ssl=e.ssl??Xx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$S;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EP)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gd{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new XO;switch(i.type){case"firstParty":return new eM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Yx.get(n);i&&(ve("ComponentProvider","Removing Datastore"),Yx.delete(n),i.terminate())})(this),Promise.resolve()}}function $5(t,e,n,i={}){t=Lr(t,Gd);const a=ia(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(i0(`https://${f}`),s0("Firestore",!0)),l.host!==_A&&l.host!==f&&Tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:f,ssl:a,emulatorOptions:i};if(!Wa(d,u)&&(t._setSettings(d),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=Tn.MOCK_USER;else{p=mw(i.mockUserToken,t._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new ye(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Tn(b)}t._authCredentials=new WO(new iS(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class Lt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Lu(n,Lt._jsonSchema))return new Lt(e,i||null,new we(mt.fromString(n.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Xt("string",Lt._jsonSchemaVersion),referencePath:Xt("string")};class Qs extends lo{constructor(e,n,i){super(e,n,A0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new we(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function Sg(t,e,...n){if(t=wt(t),sS("collection","path",e),t instanceof Gd){const i=mt.fromString(e,...n);return ux(i),new Qs(t,null,i)}{if(!(t instanceof Lt||t instanceof Qs))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(mt.fromString(e,...n));return ux(i),new Qs(t.firestore,null,i)}}function gl(t,e,...n){if(t=wt(t),arguments.length===1&&(e=b0.newId()),sS("doc","path",e),t instanceof Gd){const i=mt.fromString(e,...n);return cx(i),new Lt(t,null,new we(i))}{if(!(t instanceof Lt||t instanceof Qs))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(mt.fromString(e,...n));return cx(i),new Lt(t.firestore,t instanceof Qs?t.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="AsyncQueue";class Jx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XS(this,"async_queue_retry"),this._c=()=>{const i=Eg();i&&ve(Zx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Eg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Eg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jl(e))throw e;ve(Zx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",eE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=B0.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ce(47125,{Pc:eE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function eE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class co extends Gd{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new Jx,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jx(e),this._firestoreClient=void 0,await e}}}function K5(t,e){const n=typeof t=="object"?t:l0(),i=typeof t=="string"?t:od,a=Nd(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=hw("firestore");l&&$5(a,...l)}return a}function G0(t){if(t._terminated)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Q5(t),t._firestoreClient}function Q5(t){const e=t._freezeSettings(),n=(function(a,l,u,f){return new yM(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,vA(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new z5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gr(yn.fromBase64String(e))}catch(n){throw new ye(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gr(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lu(e,gr._jsonSchema))return gr.fromBase64String(e.bytes)}}gr._jsonSchemaVersion="firestore/bytes/1.0",gr._jsonSchema={type:Xt("string",gr._jsonSchemaVersion),bytes:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pi._jsonSchemaVersion}}static fromJSON(e){if(Lu(e,pi._jsonSchema))return new pi(e.latitude,e.longitude)}}pi._jsonSchemaVersion="firestore/geoPoint/1.0",pi._jsonSchema={type:Xt("string",pi._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lu(e,gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gi(e.vectorValues);throw new ye(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:Xt("string",gi._jsonSchemaVersion),vectorValues:Xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=/^__.*__$/;class X5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new aa(e,this.data,this.fieldMask,n,this.fieldTransforms):new ku(e,this.data,n,this.fieldTransforms)}}class bA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new aa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class $0{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TA(this.Ac)&&Y5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class W5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Fd(e)}Cc(e,n,i,a=!1){return new $0({Ac:e,methodName:n,Dc:i,path:gn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qd(t){const e=t._freezeSettings(),n=Fd(t._databaseId);return new W5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xA(t,e,n,i,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);Q0("Data must be an object, but it was:",u,i);const f=EA(i,u);let d,p;if(l.merge)d=new Xn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const T=xy(e,b,n);if(!u.contains(T))throw new ye(se.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);SA(v,T)||v.push(T)}d=new Xn(v),p=u.fieldTransforms.filter((b=>d.covers(b.field)))}else d=null,p=u.fieldTransforms;return new X5(new kn(f),d,p)}class Yd extends Kd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yd}}class K0 extends Kd{_toFieldTransform(e){return new HM(e.path,new bu)}isEqual(e){return e instanceof K0}}function Z5(t,e,n,i){const a=t.Cc(1,e,n);Q0("Data must be an object, but it was:",a,i);const l=[],u=kn.empty();sa(i,((d,p)=>{const v=Y0(e,d,n);p=wt(p);const b=a.yc(v);if(p instanceof Yd)l.push(v);else{const T=Fu(p,b);T!=null&&(l.push(v),u.set(v,T))}}));const f=new Xn(l);return new bA(u,f,a.fieldTransforms)}function J5(t,e,n,i,a,l){const u=t.Cc(1,e,n),f=[xy(e,i,n)],d=[a];if(l.length%2!=0)throw new ye(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(xy(e,l[T])),d.push(l[T+1]);const p=[],v=kn.empty();for(let T=f.length-1;T>=0;--T)if(!SA(p,f[T])){const S=f[T];let M=d[T];M=wt(M);const j=u.yc(S);if(M instanceof Yd)p.push(S);else{const O=Fu(M,j);O!=null&&(p.push(S),v.set(S,O))}}const b=new Xn(p);return new bA(v,b,u.fieldTransforms)}function eV(t,e,n,i=!1){return Fu(n,t.Cc(i?4:3,e))}function Fu(t,e){if(wA(t=wt(t)))return Q0("Unsupported field value:",e,t),EA(t,e);if(t instanceof Kd)return(function(i,a){if(!TA(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const f of i){let d=Fu(f,a.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=wt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return BM(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=yt.fromDate(i);return{timestampValue:hd(a.serializer,l)}}if(i instanceof yt){const l=new yt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hd(a.serializer,l)}}if(i instanceof pi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof gr)return{bytesValue:US(a.serializer,i._byteString)};if(i instanceof Lt){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:I0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof gi)return(function(u,f){return{mapValue:{fields:{[mS]:{stringValue:pS},[ld]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return C0(f.serializer,p)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Md(i)}`)})(t,e)}function EA(t,e){const n={};return lS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(t,((i,a)=>{const l=Fu(a,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function wA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof pi||t instanceof gr||t instanceof Lt||t instanceof Kd||t instanceof gi)}function Q0(t,e,n){if(!wA(n)||!aS(n)){const i=Md(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function xy(t,e,n){if((e=wt(e))instanceof $d)return e._internalPath;if(typeof e=="string")return Y0(t,e);throw pd("Field path arguments must be of type string or ",t,!1,void 0,n)}const tV=new RegExp("[~\\*/\\[\\]]");function Y0(t,e,n){if(e.search(tV)>=0)throw pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $d(...e.split("."))._internalPath}catch{throw pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pd(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${i}`),u&&(d+=` in document ${a}`),d+=")"),new ye(se.INVALID_ARGUMENT,f+t+d)}function SA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nV extends AA{data(){return super.data()}}function Xd(t,e){return typeof e=="string"?Y0(t,e):e instanceof $d?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X0{}class CA extends X0{}function tE(t,e,...n){let i=[];e instanceof X0&&i.push(e),i=i.concat(n),(function(l){const u=l.filter((d=>d instanceof W0)).length,f=l.filter((d=>d instanceof Wd)).length;if(u>1||u>0&&f>0)throw new ye(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Wd extends CA{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Wd(e,n,i)}_apply(e){const n=this._parse(e);return RA(e._query,n),new lo(e.firestore,e.converter,hy(e._query,n))}_parse(e){const n=Qd(e.firestore);return(function(l,u,f,d,p,v,b){let T;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ye(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){rE(b,v);const M=[];for(const j of b)M.push(nE(d,l,j));T={arrayValue:{values:M}}}else T=nE(d,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||rE(b,v),T=eV(f,u,b,v==="in"||v==="not-in");return Yt.create(p,v,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function iV(t,e,n){const i=e,a=Xd("where",t);return Wd._create(a,i,n)}class W0 extends X0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new W0(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const d of f)RA(u,d),u=hy(u,d)})(e._query,n),new lo(e.firestore,e.converter,hy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Z0 extends CA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Z0(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new ye(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ye(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _u(l,u)})(e._query,this._field,this._direction);return new lo(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new Ll(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function sV(t,e="asc"){const n=e,i=Xd("orderBy",t);return Z0._create(i,n)}function nE(t,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new ye(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ES(e)&&n.indexOf("/")!==-1)throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(mt.fromString(n));if(!we.isDocumentKey(i))throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return vx(t,new we(i))}if(n instanceof Lt)return vx(t,n._key);throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Md(n)}.`)}function rE(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RA(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aV{convertValue(e,n="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return sa(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[ld].arrayValue?.values?.map((i=>jt(i.doubleValue)));return new gi(n)}convertGeoPoint(e){return new pi(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=jd(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const n=Ws(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=mt.fromString(e);rt(GS(i),9688,{name:e});const a=new yu(i.get(1),i.get(3)),l=new we(i.popFirst(5));return a.isEqual(n)||es(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class Wc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ka extends AA{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Xd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ka._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ka._jsonSchema={type:Xt("string",Ka._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Gf extends Ka{data(e={}){return super.data(e)}}class yl{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Wc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Gf(this._firestore,this._userDataWriter,i.key,i,new Wc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const d=new Gf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Wc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const d=new Gf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Wc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:oV(f.type),doc:d,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=b0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t){t=Lr(t,Lt);const e=Lr(t.firestore,co);return q5(G0(e),t._key).then((n=>hV(e,t,n)))}yl._jsonSchemaVersion="firestore/querySnapshot/1.0",yl._jsonSchema={type:Xt("string",yl._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class IA extends aV{constructor(e){super(),this.firestore=e}convertBytes(e){return new gr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function iE(t){t=Lr(t,lo);const e=Lr(t.firestore,co),n=G0(e),i=new IA(e);return rV(t._query),G5(n,t._query).then((a=>new yl(e,i,t,a)))}function sE(t,e,n){t=Lr(t,Lt);const i=Lr(t.firestore,co),a=NA(t.converter,e,n);return Zd(i,[xA(Qd(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,_r.none())])}function lV(t,e,n,...i){t=Lr(t,Lt);const a=Lr(t.firestore,co),l=Qd(a);let u;return u=typeof(e=wt(e))=="string"||e instanceof $d?J5(l,"updateDoc",t._key,e,n,i):Z5(l,"updateDoc",t._key,e),Zd(a,[u.toMutation(t._key,_r.exists(!0))])}function cV(t){return Zd(Lr(t.firestore,co),[new R0(t._key,_r.none())])}function uV(t,e){const n=Lr(t.firestore,co),i=gl(t),a=NA(t.converter,e);return Zd(n,[xA(Qd(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,_r.exists(!1))]).then((()=>i))}function Zd(t,e){return(function(i,a){const l=new Xi;return i.asyncQueue.enqueueAndForget((async()=>O5(await H5(i),a,l))),l.promise})(G0(t),e)}function hV(t,e,n){const i=n.docs.get(e._key),a=new IA(t);return new Ka(t,a,e._key,i,new Wc(n.hasPendingWrites,n.fromCache),e.converter)}function fV(){return new K0("serverTimestamp")}(function(e,n=!0){(function(a){Pl=a})(so),Za(new Ys("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new co(new ZO(i.getProvider("auth-internal")),new tM(u,i.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(p.options.projectId,v)})(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),hi(sx,ax,e),hi(sx,ax,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firebasestorage.googleapis.com",MA="storageBucket",dV=120*1e3,mV=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt extends wi{constructor(e,n,i=0){super(Ag(e),`Firebase Storage: ${n} (${Ag(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ag(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nt||(Nt={}));function Ag(t){return"storage/"+t}function J0(){const t="An unknown error occurred, please check the error payload for server response.";return new Dt(Nt.UNKNOWN,t)}function pV(t){return new Dt(Nt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function gV(t){return new Dt(Nt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yV(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Dt(Nt.UNAUTHENTICATED,t)}function vV(){return new Dt(Nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function _V(t){return new Dt(Nt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function bV(){return new Dt(Nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TV(){return new Dt(Nt.CANCELED,"User canceled the upload/download.")}function xV(t){return new Dt(Nt.INVALID_URL,"Invalid URL '"+t+"'.")}function EV(t){return new Dt(Nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function wV(){return new Dt(Nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+MA+"' property when initializing the app?")}function SV(){return new Dt(Nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function AV(){return new Dt(Nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function CV(t){return new Dt(Nt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ey(t){return new Dt(Nt.INVALID_ARGUMENT,t)}function PA(){return new Dt(Nt.APP_DELETED,"The Firebase app was deleted.")}function RV(t){return new Dt(Nt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function su(t,e){return new Dt(Nt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function $c(t){throw new Dt(Nt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Wn.makeFromUrl(e,n)}catch{return new Wn(e,"")}if(i.path==="")return i;throw EV(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(ce){ce.path.charAt(ce.path.length-1)==="/"&&(ce.path_=ce.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),d={bucket:1,path:3};function p(ce){ce.path_=decodeURIComponent(ce.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",S=new RegExp(`^https?://${b}/${v}/b/${a}/o${T}`,"i"),M={bucket:1,path:3},j=n===OA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",B=new RegExp(`^https?://${j}/${a}/${O}`,"i"),G=[{regex:f,indices:d,postModify:l},{regex:S,indices:M,postModify:p},{regex:B,indices:{bucket:1,path:2},postModify:p}];for(let ce=0;ce<G.length;ce++){const ue=G[ce],Q=ue.regex.exec(e);if(Q){const D=Q[ue.indices.bucket];let A=Q[ue.indices.path];A||(A=""),i=new Wn(D,A),ue.postModify(i);break}}if(i==null)throw xV(e);return i}}class NV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t,e,n){let i=1,a=null,l=null,u=!1,f=0;function d(){return f===2}let p=!1;function v(...O){p||(p=!0,e.apply(null,O))}function b(O){a=setTimeout(()=>{a=null,t(S,d())},O)}function T(){l&&clearTimeout(l)}function S(O,...B){if(p){T();return}if(O){T(),v.call(null,O,...B);return}if(d()||u){T(),v.call(null,O,...B);return}i<64&&(i*=2);let G;f===1?(f=2,G=0):G=(i+Math.random())*1e3,b(G)}let M=!1;function j(O){M||(M=!0,T(),!p&&(a!==null?(O||(f=2),clearTimeout(a),b(0)):O||(f=1)))}return b(0),l=setTimeout(()=>{u=!0,j(!0)},n),j}function IV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(t){return t!==void 0}function MV(t){return typeof t=="object"&&!Array.isArray(t)}function ev(t){return typeof t=="string"||t instanceof String}function aE(t){return tv()&&t instanceof Blob}function tv(){return typeof Blob<"u"}function oE(t,e,n,i){if(i<e)throw Ey(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Ey(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function VA(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Qa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Qa||(Qa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n,i,a,l,u,f,d,p,v,b,T=!0,S=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=b,this.retry=T,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,j)=>{this.resolve_=M,this.reject_=j,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Cf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const d=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===Qa.NO_ERROR,d=l.getStatus();if(!f||PV(d,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Qa.ABORT;i(!1,new Cf(!1,null,v));return}const p=this.successCodes_.indexOf(d)!==-1;i(!0,new Cf(p,l))})},n=(i,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(f,f.getResponse());OV(d)?l(d):l()}catch(d){u(d)}else if(f!==null){const d=J0();d.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,d)):u(d)}else if(a.canceled){const d=this.appDelete_?PA():TV();u(d)}else{const d=bV();u(d)}};this.canceled_?n(!1,new Cf(!1,null,!0)):this.backoffId_=DV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cf{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function jV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function LV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function kV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function UV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function BV(t,e,n,i,a,l,u=!0,f=!1){const d=VA(t.urlParams),p=t.url+d,v=Object.assign({},t.headers);return kV(v,e),jV(v,n),LV(v,l),UV(v,i),new VV(p,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function FV(...t){const e=zV();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(tv())return new Blob(t);throw new Dt(Nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function HV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t){if(typeof atob>"u")throw CV("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cg{constructor(e,n){this.data=e,this.contentType=n||null}}function GV(t,e){switch(t){case ui.RAW:return new Cg(jA(e));case ui.BASE64:case ui.BASE64URL:return new Cg(LA(t,e));case ui.DATA_URL:return new Cg(KV(e),QV(e))}throw J0()}function jA(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=i,u=t.charCodeAt(++n);i=65536|(l&1023)<<10|u&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function $V(t){let e;try{e=decodeURIComponent(t)}catch{throw su(ui.DATA_URL,"Malformed data URL.")}return jA(e)}function LA(t,e){switch(t){case ui.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw su(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case ui.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw su(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=qV(e)}catch(a){throw a.message.includes("polyfill")?a:su(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}class kA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw su(ui.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=YV(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function KV(t){const e=new kA(t);return e.base64?LA(ui.BASE64,e.rest):$V(e.rest)}function QV(t){return new kA(t).contentType}function YV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){let i=0,a="";aE(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(aE(this.data_)){const i=this.data_,a=HV(i,e,n);return a===null?null:new Hs(a)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Hs(i,!0)}}static getBlob(...e){if(tv()){const n=e.map(i=>i instanceof Hs?i.data_:i);return new Hs(FV.apply(null,n))}else{const n=e.map(u=>ev(u)?GV(ui.RAW,u).data:u.data_);let i=0;n.forEach(u=>{i+=u.byteLength});const a=new Uint8Array(i);let l=0;return n.forEach(u=>{for(let f=0;f<u.length;f++)a[l++]=u[f]}),new Hs(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t){let e;try{e=JSON.parse(t)}catch{return null}return MV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function WV(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function BA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t,e){return e}class Rn{constructor(e,n,i,a){this.server=e,this.local=n||e,this.writable=!!i,this.xform=a||ZV}}let Rf=null;function JV(t){return!ev(t)||t.length<2?t:BA(t)}function zA(){if(Rf)return Rf;const t=[];t.push(new Rn("bucket")),t.push(new Rn("generation")),t.push(new Rn("metageneration")),t.push(new Rn("name","fullPath",!0));function e(l,u){return JV(u)}const n=new Rn("name");n.xform=e,t.push(n);function i(l,u){return u!==void 0?Number(u):u}const a=new Rn("size");return a.xform=i,t.push(a),t.push(new Rn("timeCreated")),t.push(new Rn("updated")),t.push(new Rn("md5Hash",null,!0)),t.push(new Rn("cacheControl",null,!0)),t.push(new Rn("contentDisposition",null,!0)),t.push(new Rn("contentEncoding",null,!0)),t.push(new Rn("contentLanguage",null,!0)),t.push(new Rn("contentType",null,!0)),t.push(new Rn("metadata","customMetadata",!0)),Rf=t,Rf}function ej(t,e){function n(){const i=t.bucket,a=t.fullPath,l=new Wn(i,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function tj(t,e,n){const i={};i.type="file";const a=n.length;for(let l=0;l<a;l++){const u=n[l];i[u.local]=u.xform(i,e[u.server])}return ej(i,t),i}function FA(t,e,n){const i=UA(e);return i===null?null:tj(t,i,n)}function nj(t,e,n,i){const a=UA(e);if(a===null||!ev(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(p=>{const v=t.bucket,b=t.fullPath,T="/b/"+u(v)+"/o/"+u(b),S=Jd(T,n,i),M=VA({alt:"media",token:p});return S+M})[0]}function rj(t,e){const n={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class nv{constructor(e,n,i,a){this.url=e,this.method=n,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t){if(!t)throw J0()}function ij(t,e){function n(i,a){const l=FA(t,a,e);return HA(l!==null),l}return n}function sj(t,e){function n(i,a){const l=FA(t,a,e);return HA(l!==null),nj(l,a,t.host,t._protocol)}return n}function qA(t){function e(n,i){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=vV():a=yV():n.getStatus()===402?a=gV(t.bucket):n.getStatus()===403?a=_V(t.path):a=i,a.status=n.getStatus(),a.serverResponse=i.serverResponse,a}return e}function GA(t){const e=qA(t);function n(i,a){let l=e(i,a);return i.getStatus()===404&&(l=pV(t.path)),l.serverResponse=a.serverResponse,l}return n}function aj(t,e,n){const i=e.fullServerUrl(),a=Jd(i,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,f=new nv(a,l,sj(t,n),u);return f.errorHandler=GA(e),f}function oj(t,e){const n=e.fullServerUrl(),i=Jd(n,t.host,t._protocol),a="DELETE",l=t.maxOperationRetryTime;function u(d,p){}const f=new nv(i,a,u,l);return f.successCodes=[200,204],f.errorHandler=GA(e),f}function lj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function cj(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=lj(null,e)),i}function uj(t,e,n,i,a){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let G="";for(let ce=0;ce<2;ce++)G=G+Math.random().toString().slice(2);return G}const d=f();u["Content-Type"]="multipart/related; boundary="+d;const p=cj(e,i,a),v=rj(p,n),b="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+d+`\r
Content-Type: `+p.contentType+`\r
\r
`,T=`\r
--`+d+"--",S=Hs.getBlob(b,i,T);if(S===null)throw SV();const M={name:p.fullPath},j=Jd(l,t.host,t._protocol),O="POST",B=t.maxUploadRetryTime,k=new nv(j,O,ij(t,n),B);return k.urlParams=M,k.headers=u,k.body=S.uploadData(),k.errorHandler=qA(e),k}class hj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,a,l){if(this.sent_)throw $c("cannot .send() more than once");if(ia(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $c("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $c("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $c("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $c("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class fj extends hj{initXhr(){this.xhr_.responseType="text"}}function rv(){return new fj}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n){this._service=e,n instanceof Wn?this._location=n:this._location=Wn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new no(e,n)}get root(){const e=new Wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BA(this._location.path)}get storage(){return this._service}get parent(){const e=XV(this._location.path);if(e===null)return null;const n=new Wn(this._location.bucket,e);return new no(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw RV(e)}}function dj(t,e,n){t._throwIfRoot("uploadBytes");const i=uj(t.storage,t._location,zA(),new Hs(e,!0),n);return t.storage.makeRequestWithTokens(i,rv).then(a=>({metadata:a,ref:t}))}function mj(t){t._throwIfRoot("getDownloadURL");const e=aj(t.storage,t._location,zA());return t.storage.makeRequestWithTokens(e,rv).then(n=>{if(n===null)throw AV();return n})}function pj(t){t._throwIfRoot("deleteObject");const e=oj(t.storage,t._location);return t.storage.makeRequestWithTokens(e,rv)}function gj(t,e){const n=WV(t._location.path,e),i=new Wn(t._location.bucket,n);return new no(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t){return/^[A-Za-z]+:\/\//.test(t)}function vj(t,e){return new no(t,e)}function $A(t,e){if(t instanceof iv){const n=t;if(n._bucket==null)throw wV();const i=new no(n,n._bucket);return e!=null?$A(i,e):i}else return e!==void 0?gj(t,e):t}function _j(t,e){if(e&&yj(e)){if(t instanceof iv)return vj(t,e);throw Ey("To use ref(service, url), the first argument must be a Storage instance.")}else return $A(t,e)}function lE(t,e){const n=e?.[MA];return n==null?null:Wn.makeFromBucketSpec(n,t)}function bj(t,e,n,i={}){t.host=`${e}:${n}`;const a=ia(e);a&&(i0(`https://${t.host}/b`),s0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:mw(l,t.app.options.projectId))}class iv{constructor(e,n,i,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=OA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dV,this._maxUploadRetryTime=mV,this._requests=new Set,a!=null?this._bucket=Wn.makeFromBucketSpec(a,this._host):this._bucket=lE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wn.makeFromBucketSpec(this._url,e):this._bucket=lE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new no(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new NV(PA());{const u=BV(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const cE="@firebase/storage",uE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="storage";function Tj(t,e,n){return t=wt(t),dj(t,e,n)}function xj(t){return t=wt(t),mj(t)}function Ej(t){return t=wt(t),pj(t)}function hE(t,e){return t=wt(t),_j(t,e)}function wj(t=l0(),e){t=wt(t);const i=Nd(t,KA).getImmediate({identifier:e}),a=hw("storage");return a&&Sj(i,...a),i}function Sj(t,e,n,i={}){bj(t,e,n,i)}function Aj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new iv(n,i,a,e,so)}function Cj(){Za(new Ys(KA,Aj,"PUBLIC").setMultipleInstances(!0)),hi(cE,uE,""),hi(cE,uE,"esm2020")}Cj();const Rj={apiKey:"AIzaSyChJs8Aq94DTlDTDtvJ9J1GMKfOdWAUi9o",authDomain:"learning-4a908.firebaseapp.com",projectId:"learning-4a908",storageBucket:"learning-4a908.firebasestorage.app",messagingSenderId:"271123284801",appId:"1:271123284801:web:bac86cbf92453d0eb617c0"},sv=yw(Rj),gd=QO(sv),Us=K5(sv),fE=wj(sv),Nj=new $i,Dj=async()=>{try{await rO(gd,Nj)}catch(t){throw console.error("Error initiating Google sign-in redirect:",t),t}},Ij=async()=>{try{await k3(gd)}catch(t){throw console.error("Error signing out:",t),t}},We={async create(t,e){try{return(await uV(Sg(Us,t),{...e,createdAt:fV()})).id}catch(n){throw console.error(`Error creating document in ${t}:`,n),n}},async getAll(t,e="createdAt",n="desc"){try{const i=tE(Sg(Us,t),sV(e,n));return(await iE(i)).docs.map(l=>({id:l.id,...l.data()}))}catch(i){throw console.error(`Error getting documents from ${t}:`,i),i}},async getOne(t,e){try{const n=gl(Us,t,e),i=await DA(n);return i.exists()?{id:i.id,...i.data()}:null}catch(n){throw console.error(`Error getting document ${e} from ${t}:`,n),n}},async getWhere(t,e,n,i){try{const a=tE(Sg(Us,t),iV(e,n,i));return(await iE(a)).docs.map(u=>({id:u.id,...u.data()}))}catch(a){throw console.error(`Error querying ${t}:`,a),a}},async update(t,e,n){try{const i=gl(Us,t,e);await lV(i,n)}catch(i){throw console.error(`Error updating document ${e} in ${t}:`,i),i}},async delete(t,e){try{await cV(gl(Us,t,e))}catch(n){throw console.error(`Error deleting document ${e} from ${t}:`,n),n}}},Oj={async uploadImage(t,e="questions"){try{const n=Date.now(),i=`${e}/${n}_${t.name}`,a=hE(fE,i);return await Tj(a,t),await xj(a)}catch(n){throw console.error("Error uploading image:",n),n}},async deleteImage(t){try{const e=hE(fE,t);await Ej(e)}catch(e){throw console.error("Error deleting image:",e),e}}},QA=I.createContext(),Si=()=>{const t=I.useContext(QA);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},Mj=({children:t})=>{const[e,n]=I.useState(null),[i,a]=I.useState(null),[l,u]=I.useState(!0);I.useEffect(()=>{const b=L3(gd,async T=>{if(T&&T.uid){n(T);const S=gl(Us,"users",T.uid),M=await DA(S);if(M.exists())a(M.data()||{});else{const j={uid:T.uid,email:T.email,displayName:T.displayName,photoURL:T.photoURL,role:"student",points:0,level:1,badges:[],streak:0,createdAt:new Date};await sE(S,j),a(j||{})}}else n(null),a(null),u(!1)});return P3(gd,zw),b},[]);const v={currentUser:e,userProfile:i,signIn:async()=>{try{await Dj()}catch(b){throw console.error("Sign in error:",b),b}},signOut:async()=>{try{await Ij()}catch(b){throw console.error("Sign out error:",b),b}},updateUserProfile:async b=>{if(e&&e.uid){const T=gl(Us,"users",e.uid);await sE(T,b,{merge:!0}),a(S=>({...S,...b}))}},loading:l,isAdmin:i?.role==="admin",isStudent:i?.role==="student"};return y.jsx(QA.Provider,{value:v,children:!l&&t})};var YA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dE=Ga.createContext&&Ga.createContext(YA),Pj=["attr","size","title"];function Vj(t,e){if(t==null)return{};var n=jj(t,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function jj(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function yd(){return yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},yd.apply(this,arguments)}function mE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function vd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mE(Object(n),!0).forEach(function(i){Lj(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Lj(t,e,n){return e=kj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kj(t){var e=Uj(t,"string");return typeof e=="symbol"?e:e+""}function Uj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XA(t){return t&&t.map((e,n)=>Ga.createElement(e.tag,vd({key:n},e.attr),XA(e.child)))}function Ze(t){return e=>Ga.createElement(Bj,yd({attr:vd({},t.attr)},e),XA(t.child))}function Bj(t){var e=n=>{var{attr:i,size:a,title:l}=t,u=Vj(t,Pj),f=a||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Ga.createElement("svg",yd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:d,style:vd(vd({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Ga.createElement("title",null,l),t.children)};return dE!==void 0?Ga.createElement(dE.Consumer,null,n=>e(n)):e(YA)}function zj(t){return Ze({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}function Fj(t){return Ze({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function Hj(t){return Ze({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function WA(t){return Ze({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function qj(t){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function ZA(t){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function _d(t){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function Ti(t){return Ze({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function av(t){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function Gj(t){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function ov(t){return Ze({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function $j(t){return Ze({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(t)}function Kj(t){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M16 288c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h112v-64zm489-183L407.1 7c-4.5-4.5-10.6-7-17-7H384v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H152c-13.3 0-24 10.7-24 24v264h128v-65.2c0-14.3 17.3-21.4 27.4-11.3L379 308c6.6 6.7 6.6 17.4 0 24l-95.7 96.4c-10.1 10.1-27.4 3-27.4-11.3V352H128v136c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H376c-13.2 0-24-10.8-24-24z"},child:[]}]})(t)}function Qj(t){return Ze({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function Yj(t){return Ze({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(t)}function Xj(t){return Ze({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(t)}function JA(t){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"},child:[]}]})(t)}function pE(t){return Ze({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(t)}function eC(t){return Ze({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function ro(t){return Ze({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function tC(t){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(t)}function Wj(t){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function nC(t){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function rC(t){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function bd(t){return Ze({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function Eu(t){return Ze({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Zj(t){return Ze({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"},child:[]}]})(t)}function Jj(t){return Ze({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"},child:[]}]})(t)}function vl(t){return Ze({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function xi(t){return Ze({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(t)}function e8(t){return Ze({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function iC(t){return Ze({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}const lv=I.createContext({});function cv(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const uv=typeof window<"u",sC=uv?I.useLayoutEffect:I.useEffect,em=I.createContext(null);function hv(t,e){t.indexOf(e)===-1&&t.push(e)}function fv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ns=(t,e,n)=>n>e?e:n<t?t:n;let dv=()=>{};const rs={},aC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function oC(t){return typeof t=="object"&&t!==null}const lC=t=>/^0[^.\s]+$/u.test(t);function mv(t){let e;return()=>(e===void 0&&(e=t()),e)}const br=t=>t,t8=(t,e)=>n=>e(t(n)),Hu=(...t)=>t.reduce(t8),wu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class pv{constructor(){this.subscriptions=[]}add(e){return hv(this.subscriptions,e),()=>fv(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yi=t=>t*1e3,vr=t=>t/1e3;function cC(t,e){return e?t*(1e3/e):0}const uC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,n8=1e-7,r8=12;function i8(t,e,n,i,a){let l,u,f=0;do u=e+(n-e)/2,l=uC(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>n8&&++f<r8);return u}function qu(t,e,n,i){if(t===e&&n===i)return br;const a=l=>i8(l,0,1,t,n);return l=>l===0||l===1?l:uC(a(l),e,i)}const hC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fC=t=>e=>1-t(1-e),dC=qu(.33,1.53,.69,.99),gv=fC(dC),mC=hC(gv),pC=t=>(t*=2)<1?.5*gv(t):.5*(2-Math.pow(2,-10*(t-1))),yv=t=>1-Math.sin(Math.acos(t)),gC=fC(yv),yC=hC(yv),s8=qu(.42,0,1,1),a8=qu(0,0,.58,1),vC=qu(.42,0,.58,1),o8=t=>Array.isArray(t)&&typeof t[0]!="number",_C=t=>Array.isArray(t)&&typeof t[0]=="number",l8={linear:br,easeIn:s8,easeInOut:vC,easeOut:a8,circIn:yv,circInOut:yC,circOut:gC,backIn:gv,backInOut:mC,backOut:dC,anticipate:pC},c8=t=>typeof t=="string",gE=t=>{if(_C(t)){dv(t.length===4);const[e,n,i,a]=t;return qu(e,n,i,a)}else if(c8(t))return l8[t];return t},Nf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function u8(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function d(v){u.has(v)&&(p.schedule(v),t()),v(f)}const p={schedule:(v,b=!1,T=!1)=>{const M=T&&a?n:i;return b&&u.add(v),M.has(v)||M.add(v),v},cancel:v=>{i.delete(v),u.delete(v)},process:v=>{if(f=v,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const h8=40;function bC(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Nf.reduce((G,ce)=>(G[ce]=u8(l),G),{}),{setup:f,read:d,resolveKeyframes:p,preUpdate:v,update:b,preRender:T,render:S,postRender:M}=u,j=()=>{const G=rs.useManualTiming?a.timestamp:performance.now();n=!1,rs.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(G-a.timestamp,h8),1)),a.timestamp=G,a.isProcessing=!0,f.process(a),d.process(a),p.process(a),v.process(a),b.process(a),T.process(a),S.process(a),M.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(j))},O=()=>{n=!0,i=!0,a.isProcessing||t(j)};return{schedule:Nf.reduce((G,ce)=>{const ue=u[ce];return G[ce]=(Q,D=!1,A=!1)=>(n||O(),ue.schedule(Q,D,A)),G},{}),cancel:G=>{for(let ce=0;ce<Nf.length;ce++)u[Nf[ce]].cancel(G)},state:a,steps:u}}const{schedule:Tt,cancel:na,state:mn,steps:Rg}=bC(typeof requestAnimationFrame<"u"?requestAnimationFrame:br,!0);let $f;function f8(){$f=void 0}const Un={now:()=>($f===void 0&&Un.set(mn.isProcessing||rs.useManualTiming?mn.timestamp:performance.now()),$f),set:t=>{$f=t,queueMicrotask(f8)}},TC=t=>e=>typeof e=="string"&&e.startsWith(t),vv=TC("--"),d8=TC("var(--"),_v=t=>d8(t)?m8.test(t.split("/*")[0].trim()):!1,m8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ul={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Su={...Ul,transform:t=>ns(0,1,t)},Df={...Ul,default:1},au=t=>Math.round(t*1e5)/1e5,bv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function p8(t){return t==null}const g8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Tv=(t,e)=>n=>!!(typeof n=="string"&&g8.test(n)&&n.startsWith(t)||e&&!p8(n)&&Object.prototype.hasOwnProperty.call(n,e)),xC=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,f]=i.match(bv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},y8=t=>ns(0,255,t),Ng={...Ul,transform:t=>Math.round(y8(t))},Ha={test:Tv("rgb","red"),parse:xC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Ng.transform(t)+", "+Ng.transform(e)+", "+Ng.transform(n)+", "+au(Su.transform(i))+")"};function v8(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const wy={test:Tv("#"),parse:v8,transform:Ha.transform},Gu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ks=Gu("deg"),vi=Gu("%"),Re=Gu("px"),_8=Gu("vh"),b8=Gu("vw"),yE={...vi,parse:t=>vi.parse(t)/100,transform:t=>vi.transform(t*100)},al={test:Tv("hsl","hue"),parse:xC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+vi.transform(au(e))+", "+vi.transform(au(n))+", "+au(Su.transform(i))+")"},Qt={test:t=>Ha.test(t)||wy.test(t)||al.test(t),parse:t=>Ha.test(t)?Ha.parse(t):al.test(t)?al.parse(t):wy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ha.transform(t):al.transform(t),getAnimatableNone:t=>{const e=Qt.parse(t);return e.alpha=0,Qt.transform(e)}},T8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function x8(t){return isNaN(t)&&typeof t=="string"&&(t.match(bv)?.length||0)+(t.match(T8)?.length||0)>0}const EC="number",wC="color",E8="var",w8="var(",vE="${}",S8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Au(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(S8,d=>(Qt.test(d)?(i.color.push(l),a.push(wC),n.push(Qt.parse(d))):d.startsWith(w8)?(i.var.push(l),a.push(E8),n.push(d)):(i.number.push(l),a.push(EC),n.push(parseFloat(d))),++l,vE)).split(vE);return{values:n,split:f,indexes:i,types:a}}function SC(t){return Au(t).values}function AC(t){const{split:e,types:n}=Au(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===EC?l+=au(a[u]):f===wC?l+=Qt.transform(a[u]):l+=a[u]}return l}}const A8=t=>typeof t=="number"?0:Qt.test(t)?Qt.getAnimatableNone(t):t;function C8(t){const e=SC(t);return AC(t)(e.map(A8))}const ra={test:x8,parse:SC,createTransformer:AC,getAnimatableNone:C8};function Dg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function R8({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,d=2*n-f;a=Dg(d,f,t+1/3),l=Dg(d,f,t),u=Dg(d,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Td(t,e){return n=>n>0?e:t}const Et=(t,e,n)=>t+(e-t)*n,Ig=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},N8=[wy,Ha,al],D8=t=>N8.find(e=>e.test(t));function _E(t){const e=D8(t);if(!e)return!1;let n=e.parse(t);return e===al&&(n=R8(n)),n}const bE=(t,e)=>{const n=_E(t),i=_E(e);if(!n||!i)return Td(t,e);const a={...n};return l=>(a.red=Ig(n.red,i.red,l),a.green=Ig(n.green,i.green,l),a.blue=Ig(n.blue,i.blue,l),a.alpha=Et(n.alpha,i.alpha,l),Ha.transform(a))},Sy=new Set(["none","hidden"]);function I8(t,e){return Sy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function O8(t,e){return n=>Et(t,e,n)}function xv(t){return typeof t=="number"?O8:typeof t=="string"?_v(t)?Td:Qt.test(t)?bE:V8:Array.isArray(t)?CC:typeof t=="object"?Qt.test(t)?bE:M8:Td}function CC(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>xv(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function M8(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=xv(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function P8(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][i[l]],f=t.values[u]??0;n[a]=f,i[l]++}return n}const V8=(t,e)=>{const n=ra.createTransformer(e),i=Au(t),a=Au(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Sy.has(t)&&!a.values.length||Sy.has(e)&&!i.values.length?I8(t,e):Hu(CC(P8(i,a),a.values),n):Td(t,e)};function RC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Et(t,e,n):xv(t)(t,e)}const j8=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Tt.update(e,n),stop:()=>na(e),now:()=>mn.isProcessing?mn.timestamp:Un.now()}},NC=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},xd=2e4;function Ev(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<xd;)e+=n,i=t.next(e);return e>=xd?1/0:e}function L8(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Ev(i),xd);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:vr(a)}}const k8=5;function DC(t,e,n){const i=Math.max(e-k8,0);return cC(n-t(i),e-i)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Og=.001;function U8({duration:t=Rt.duration,bounce:e=Rt.bounce,velocity:n=Rt.velocity,mass:i=Rt.mass}){let a,l,u=1-e;u=ns(Rt.minDamping,Rt.maxDamping,u),t=ns(Rt.minDuration,Rt.maxDuration,vr(t)),u<1?(a=p=>{const v=p*u,b=v*t,T=v-n,S=Ay(p,u),M=Math.exp(-b);return Og-T/S*M},l=p=>{const b=p*u*t,T=b*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,M=Math.exp(-b),j=Ay(Math.pow(p,2),u);return(-a(p)+Og>0?-1:1)*((T-S)*M)/j}):(a=p=>{const v=Math.exp(-p*t),b=(p-n)*t+1;return-Og+v*b},l=p=>{const v=Math.exp(-p*t),b=(n-p)*(t*t);return v*b});const f=5/t,d=z8(a,l,f);if(t=yi(t),isNaN(d))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:t};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const B8=12;function z8(t,e,n){let i=n;for(let a=1;a<B8;a++)i=i-t(i)/e(i);return i}function Ay(t,e){return t*Math.sqrt(1-e*e)}const F8=["duration","bounce"],H8=["stiffness","damping","mass"];function TE(t,e){return e.some(n=>t[n]!==void 0)}function q8(t){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...t};if(!TE(t,H8)&&TE(t,F8))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*ns(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Rt.mass,stiffness:a,damping:l}}else{const n=U8(t);e={...e,...n,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function Ed(t=Rt.visualDuration,e=Rt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:d,damping:p,mass:v,duration:b,velocity:T,isResolvedFromDuration:S}=q8({...n,velocity:-vr(n.velocity||0)}),M=T||0,j=p/(2*Math.sqrt(d*v)),O=u-l,B=vr(Math.sqrt(d/v)),k=Math.abs(O)<5;i||(i=k?Rt.restSpeed.granular:Rt.restSpeed.default),a||(a=k?Rt.restDelta.granular:Rt.restDelta.default);let G;if(j<1){const ue=Ay(B,j);G=Q=>{const D=Math.exp(-j*B*Q);return u-D*((M+j*B*O)/ue*Math.sin(ue*Q)+O*Math.cos(ue*Q))}}else if(j===1)G=ue=>u-Math.exp(-B*ue)*(O+(M+B*O)*ue);else{const ue=B*Math.sqrt(j*j-1);G=Q=>{const D=Math.exp(-j*B*Q),A=Math.min(ue*Q,300);return u-D*((M+j*B*O)*Math.sinh(A)+ue*O*Math.cosh(A))/ue}}const ce={calculatedDuration:S&&b||null,next:ue=>{const Q=G(ue);if(S)f.done=ue>=b;else{let D=ue===0?M:0;j<1&&(D=ue===0?yi(M):DC(G,ue,Q));const A=Math.abs(D)<=i,N=Math.abs(u-Q)<=a;f.done=A&&N}return f.value=f.done?u:Q,f},toString:()=>{const ue=Math.min(Ev(ce),xd),Q=NC(D=>ce.next(ue*D).value,ue,30);return ue+"ms "+Q},toTransition:()=>{}};return ce}Ed.applyToOptions=t=>{const e=L8(t,100,Ed);return t.ease=e.ease,t.duration=yi(e.duration),t.type="keyframes",t};function Cy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:d,restDelta:p=.5,restSpeed:v}){const b=t[0],T={done:!1,value:b},S=A=>f!==void 0&&A<f||d!==void 0&&A>d,M=A=>f===void 0?d:d===void 0||Math.abs(f-A)<Math.abs(d-A)?f:d;let j=n*e;const O=b+j,B=u===void 0?O:u(O);B!==O&&(j=B-b);const k=A=>-j*Math.exp(-A/i),G=A=>B+k(A),ce=A=>{const N=k(A),V=G(A);T.done=Math.abs(N)<=p,T.value=T.done?B:V};let ue,Q;const D=A=>{S(T.value)&&(ue=A,Q=Ed({keyframes:[T.value,M(T.value)],velocity:DC(G,A,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return D(0),{calculatedDuration:null,next:A=>{let N=!1;return!Q&&ue===void 0&&(N=!0,ce(A),D(A)),ue!==void 0&&A>=ue?Q.next(A-ue):(!N&&ce(A),T)}}}function G8(t,e,n){const i=[],a=n||rs.mix||RC,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||br:e;f=Hu(d,f)}i.push(f)}return i}function $8(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(dv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=G8(e,i,a),d=f.length,p=v=>{if(u&&v<t[0])return e[0];let b=0;if(d>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const T=wu(t[b],t[b+1],v);return f[b](T)};return n?v=>p(ns(t[0],t[l-1],v)):p}function K8(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=wu(0,e,i);t.push(Et(n,1,a))}}function Q8(t){const e=[0];return K8(e,t.length-1),e}function Y8(t,e){return t.map(n=>n*e)}function X8(t,e){return t.map(()=>e||vC).splice(0,t.length-1)}function ou({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=o8(i)?i.map(gE):gE(i),l={done:!1,value:e[0]},u=Y8(n&&n.length===e.length?n:Q8(e),t),f=$8(u,e,{ease:Array.isArray(a)?a:X8(e,a)});return{calculatedDuration:t,next:d=>(l.value=f(d),l.done=d>=t,l)}}const W8=t=>t!==null;function wv(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(W8),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const Z8={decay:Cy,inertia:Cy,tween:ou,keyframes:ou,spring:Ed};function IC(t){typeof t.type=="string"&&(t.type=Z8[t.type])}class Sv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const J8=t=>t/100;class Av extends Sv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Un.now()&&this.tick(Un.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;IC(e);const{type:n=ou,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const d=n||ou;d!==ou&&typeof f[0]!="number"&&(this.mixKeyframes=Hu(J8,RC(f[0],f[1])),f=[0,100]);const p=d({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Ev(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:v,repeat:b,repeatType:T,repeatDelay:S,type:M,onUpdate:j,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let G=this.currentTime,ce=i;if(b){const A=Math.min(this.currentTime,a)/f;let N=Math.floor(A),V=A%1;!V&&A>=1&&(V=1),V===1&&N--,N=Math.min(N,b+1),!!(N%2)&&(T==="reverse"?(V=1-V,S&&(V-=S/f)):T==="mirror"&&(ce=u)),G=ns(0,1,V)*f}const ue=k?{done:!1,value:v[0]}:ce.next(G);l&&(ue.value=l(ue.value));let{done:Q}=ue;!k&&d!==null&&(Q=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return D&&M!==Cy&&(ue.value=wv(v,this.options,O,this.speed)),j&&j(ue.value),D&&this.finish(),ue}then(e,n){return this.finished.then(e,n)}get duration(){return vr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+vr(e)}get time(){return vr(this.currentTime)}set time(e){e=yi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Un.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=vr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=j8,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Un.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function eL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const qa=t=>t*180/Math.PI,Ry=t=>{const e=qa(Math.atan2(t[1],t[0]));return Ny(e)},tL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ry,rotateZ:Ry,skewX:t=>qa(Math.atan(t[1])),skewY:t=>qa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ny=t=>(t=t%360,t<0&&(t+=360),t),xE=Ry,EE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),wE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),nL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:EE,scaleY:wE,scale:t=>(EE(t)+wE(t))/2,rotateX:t=>Ny(qa(Math.atan2(t[6],t[5]))),rotateY:t=>Ny(qa(Math.atan2(-t[2],t[0]))),rotateZ:xE,rotate:xE,skewX:t=>qa(Math.atan(t[4])),skewY:t=>qa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Dy(t){return t.includes("scale")?1:0}function Iy(t,e){if(!t||t==="none")return Dy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=nL,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=tL,a=f}if(!a)return Dy(e);const l=i[e],u=a[1].split(",").map(iL);return typeof l=="function"?l(u):u[l]}const rL=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Iy(n,e)};function iL(t){return parseFloat(t.trim())}const Bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zl=new Set(Bl),SE=t=>t===Ul||t===Re,sL=new Set(["x","y","z"]),aL=Bl.filter(t=>!sL.has(t));function oL(t){const e=[];return aL.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ya={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Iy(e,"x"),y:(t,{transform:e})=>Iy(e,"y")};Ya.translateX=Ya.x;Ya.translateY=Ya.y;const Xa=new Set;let Oy=!1,My=!1,Py=!1;function OC(){if(My){const t=Array.from(Xa).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=oL(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}My=!1,Oy=!1,Xa.forEach(t=>t.complete(Py)),Xa.clear()}function MC(){Xa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(My=!0)})}function lL(){Py=!0,MC(),OC(),Py=!1}class Cv{constructor(e,n,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Xa.add(this),Oy||(Oy=!0,Tt.read(MC),Tt.resolveKeyframes(OC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const f=i.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}eL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xa.delete(this)}cancel(){this.state==="scheduled"&&(Xa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cL=t=>t.startsWith("--");function uL(t,e,n){cL(e)?t.style.setProperty(e,n):t.style[e]=n}const hL=mv(()=>window.ScrollTimeline!==void 0),fL={};function dL(t,e){const n=mv(t);return()=>fL[e]??n()}const PC=dL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,AE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zc([0,.65,.55,1]),circOut:Zc([.55,0,1,.45]),backIn:Zc([.31,.01,.66,-.59]),backOut:Zc([.33,1.53,.69,.99])};function VC(t,e){if(t)return typeof t=="function"?PC()?NC(t,e):"ease-out":_C(t)?Zc(t):Array.isArray(t)?t.map(n=>VC(n,e)||AE.easeOut):AE[t]}function mL(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:d}={},p=void 0){const v={[e]:n};d&&(v.offset=d);const b=VC(f,a);Array.isArray(b)&&(v.easing=b);const T={delay:i,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),t.animate(v,T)}function jC(t){return typeof t=="function"&&"applyToOptions"in t}function pL({type:t,...e}){return jC(t)&&PC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class gL extends Sv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,dv(typeof e.type!="string");const p=pL(e);this.animation=mL(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=wv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):uL(n,i,v),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return vr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+vr(e)}get time(){return vr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=yi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&hL()?(this.animation.timeline=e,br):n(this)}}const LC={anticipate:pC,backInOut:mC,circInOut:yC};function yL(t){return t in LC}function vL(t){typeof t.ease=="string"&&yL(t.ease)&&(t.ease=LC[t.ease])}const CE=10;class _L extends gL{constructor(e){vL(e),IC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new Av({...u,autoplay:!1}),d=yi(this.finishedTime??this.time);n.setWithVelocity(f.sample(d-CE).value,f.sample(d).value,CE),f.stop()}}const RE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ra.test(t)||t==="0")&&!t.startsWith("url("));function bL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function TL(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=RE(a,e),f=RE(l,e);return!u||!f?!1:bL(t)||(n==="spring"||jC(n))&&i}function Vy(t){t.duration=0,t.type="keyframes"}const xL=new Set(["opacity","clipPath","filter","transform"]),EL=mv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wL(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return EL()&&n&&xL.has(n)&&(n!=="transform"||!p)&&!d&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const SL=40;class AL extends Sv{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:d,motionValue:p,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Un.now();const T={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:p,element:v,...b},S=v?.KeyframeResolver||Cv;this.keyframeResolver=new S(f,(M,j,O)=>this.onKeyframesResolved(M,j,T,!O),d,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:d,isHandoff:p,onUpdate:v}=i;this.resolvedAt=Un.now(),TL(e,l,u,f)||((rs.instantAnimations||!d)&&v?.(wv(e,i,n)),e[0]=e[e.length-1],Vy(i),i.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>SL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},S=!p&&wL(T)?new _L({...T,element:T.motionValue.owner.current}):new Av(T);S.finished.then(()=>this.notifyFinished()).catch(br),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),lL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const CL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RL(t){const e=CL.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function kC(t,e,n=1){const[i,a]=RL(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return aC(u)?parseFloat(u):u}return _v(a)?kC(a,e,n+1):a}function Rv(t,e){return t?.[e]??t?.default??t}const UC=new Set(["width","height","top","left","right","bottom",...Bl]),NL={test:t=>t==="auto",parse:t=>t},BC=t=>e=>e.test(t),zC=[Ul,Re,vi,ks,b8,_8,NL],NE=t=>zC.find(BC(t));function DL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lC(t):!0}const IL=new Set(["brightness","contrast","saturate","opacity"]);function OL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(bv)||[];if(!i)return t;const a=n.replace(i,"");let l=IL.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const ML=/\b([a-z-]*)\(.*?\)/gu,jy={...ra,getAnimatableNone:t=>{const e=t.match(ML);return e?e.map(OL).join(" "):t}},DE={...Ul,transform:Math.round},PL={rotate:ks,rotateX:ks,rotateY:ks,rotateZ:ks,scale:Df,scaleX:Df,scaleY:Df,scaleZ:Df,skew:ks,skewX:ks,skewY:ks,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:Su,originX:yE,originY:yE,originZ:Re},Nv={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...PL,zIndex:DE,fillOpacity:Su,strokeOpacity:Su,numOctaves:DE},VL={...Nv,color:Qt,backgroundColor:Qt,outlineColor:Qt,fill:Qt,stroke:Qt,borderColor:Qt,borderTopColor:Qt,borderRightColor:Qt,borderBottomColor:Qt,borderLeftColor:Qt,filter:jy,WebkitFilter:jy},FC=t=>VL[t];function HC(t,e){let n=FC(t);return n!==jy&&(n=ra),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const jL=new Set(["auto","none","0"]);function LL(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!jL.has(l)&&Au(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=HC(n,a)}class kL extends Cv{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),_v(p))){const v=kC(p,n.current);v!==void 0&&(e[d]=v),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!UC.has(i)||e.length!==2)return;const[a,l]=e,u=NE(a),f=NE(l);if(u!==f)if(SE(u)&&SE(f))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else Ya[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||DL(e[a]))&&i.push(a);i.length&&LL(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ya[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Ya[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,d])=>{e.getValue(f).set(d)}),this.resolveNoneKeyframes()}}function UL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const qC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function GC(t){return oC(t)&&"offsetHeight"in t}const IE=30,BL=t=>!isNaN(parseFloat(t));class zL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Un.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Un.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=BL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new pv);const i=this.events[e].add(n);return e==="change"?()=>{i(),Tt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Un.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>IE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,IE);return cC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cl(t,e){return new zL(t,e)}const{schedule:Dv}=bC(queueMicrotask,!1),Mr={x:!1,y:!1};function $C(){return Mr.x||Mr.y}function FL(t){return t==="x"||t==="y"?Mr[t]?null:(Mr[t]=!0,()=>{Mr[t]=!1}):Mr.x||Mr.y?null:(Mr.x=Mr.y=!0,()=>{Mr.x=Mr.y=!1})}function KC(t,e){const n=UL(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function OE(t){return!(t.pointerType==="touch"||$C())}function HL(t,e,n={}){const[i,a,l]=KC(t,n),u=f=>{if(!OE(f))return;const{target:d}=f,p=e(d,f);if(typeof p!="function"||!d)return;const v=b=>{OE(b)&&(p(b),d.removeEventListener("pointerleave",v))};d.addEventListener("pointerleave",v,a)};return i.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const QC=(t,e)=>e?t===e?!0:QC(t,e.parentElement):!1,Iv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,qL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GL(t){return qL.has(t.tagName)||t.tabIndex!==-1}const Kf=new WeakSet;function ME(t){return e=>{e.key==="Enter"&&t(e)}}function Mg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $L=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=ME(()=>{if(Kf.has(n))return;Mg(n,"down");const a=ME(()=>{Mg(n,"up")}),l=()=>Mg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function PE(t){return Iv(t)&&!$C()}function KL(t,e,n={}){const[i,a,l]=KC(t,n),u=f=>{const d=f.currentTarget;if(!PE(f))return;Kf.add(d);const p=e(d,f),v=(S,M)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",T),Kf.has(d)&&Kf.delete(d),PE(S)&&typeof p=="function"&&p(S,{success:M})},b=S=>{v(S,d===window||d===document||n.useGlobalTarget||QC(d,S.target))},T=S=>{v(S,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",T,a)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),GC(f)&&(f.addEventListener("focus",p=>$L(p,a)),!GL(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function YC(t){return oC(t)&&"ownerSVGElement"in t}function QL(t){return YC(t)&&t.tagName==="svg"}const En=t=>!!(t&&t.getVelocity),YL=[...zC,Qt,ra],XL=t=>YL.find(BC(t)),Ov=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function VE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function WL(...t){return e=>{let n=!1;const i=t.map(a=>{const l=VE(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():VE(t[a],null)}}}}function ZL(...t){return I.useCallback(WL(...t),t)}class JL extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=GC(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function e9({children:t,isPresent:e,anchorX:n,root:i}){const a=I.useId(),l=I.useRef(null),u=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=I.useContext(Ov),d=ZL(l,t?.ref);return I.useInsertionEffect(()=>{const{width:p,height:v,top:b,left:T,right:S}=u.current;if(e||!l.current||!p||!v)return;const M=n==="left"?`left: ${T}`:`right: ${S}`;l.current.dataset.motionPopId=a;const j=document.createElement("style");f&&(j.nonce=f);const O=i??document.head;return O.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${v}px !important;
            ${M}px !important;
            top: ${b}px !important;
          }
        `),()=>{O.contains(j)&&O.removeChild(j)}},[e]),y.jsx(JL,{isPresent:e,childRef:l,sizeRef:u,children:I.cloneElement(t,{ref:d})})}const t9=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,root:d})=>{const p=cv(n9),v=I.useId();let b=!0,T=I.useMemo(()=>(b=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:S=>{p.set(S,!0);for(const M of p.values())if(!M)return;i&&i()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[n,p,i]);return l&&b&&(T={...T}),I.useMemo(()=>{p.forEach((S,M)=>p.set(M,!1))},[n]),I.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),u==="popLayout"&&(t=y.jsx(e9,{isPresent:n,anchorX:f,root:d,children:t})),y.jsx(em.Provider,{value:T,children:t})};function n9(){return new Map}function XC(t=!0){const e=I.useContext(em);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=I.useId();I.useEffect(()=>{if(t)return a(l)},[t]);const u=I.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const If=t=>t.key||"";function jE(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const Mv=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",root:d})=>{const[p,v]=XC(u),b=I.useMemo(()=>jE(t),[t]),T=u&&!p?[]:b.map(If),S=I.useRef(!0),M=I.useRef(b),j=cv(()=>new Map),[O,B]=I.useState(b),[k,G]=I.useState(b);sC(()=>{S.current=!1,M.current=b;for(let Q=0;Q<k.length;Q++){const D=If(k[Q]);T.includes(D)?j.delete(D):j.get(D)!==!0&&j.set(D,!1)}},[k,T.length,T.join("-")]);const ce=[];if(b!==O){let Q=[...b];for(let D=0;D<k.length;D++){const A=k[D],N=If(A);T.includes(N)||(Q.splice(D,0,A),ce.push(A))}return l==="wait"&&ce.length&&(Q=ce),G(jE(Q)),B(b),null}const{forceRender:ue}=I.useContext(lv);return y.jsx(y.Fragment,{children:k.map(Q=>{const D=If(Q),A=u&&!p?!1:b===k||T.includes(D),N=()=>{if(j.has(D))j.set(D,!0);else return;let V=!0;j.forEach(L=>{L||(V=!1)}),V&&(ue?.(),G(M.current),u&&v?.(),i&&i())};return y.jsx(t9,{isPresent:A,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:A?void 0:N,anchorX:f,children:Q},D)})})},WC=I.createContext({strict:!1}),LE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rl={};for(const t in LE)Rl[t]={isEnabled:e=>LE[t].some(n=>!!e[n])};function r9(t){for(const e in t)Rl[e]={...Rl[e],...t[e]}}const i9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||i9.has(t)}let ZC=t=>!wd(t);function s9(t){typeof t=="function"&&(ZC=e=>e.startsWith("on")?!wd(e):t(e))}try{s9(require("@emotion/is-prop-valid").default)}catch{}function a9(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(ZC(a)||n===!0&&wd(a)||!e&&!wd(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const tm=I.createContext({});function nm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Cu(t){return typeof t=="string"||Array.isArray(t)}const Pv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vv=["initial",...Pv];function rm(t){return nm(t.animate)||Vv.some(e=>Cu(t[e]))}function JC(t){return!!(rm(t)||t.variants)}function o9(t,e){if(rm(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Cu(n)?n:void 0,animate:Cu(i)?i:void 0}}return t.inherit!==!1?e:{}}function l9(t){const{initial:e,animate:n}=o9(t,I.useContext(tm));return I.useMemo(()=>({initial:e,animate:n}),[kE(e),kE(n)])}function kE(t){return Array.isArray(t)?t.join(" "):t}const Ru={};function c9(t){for(const e in t)Ru[e]=t[e],vv(e)&&(Ru[e].isCSSVariable=!0)}function e4(t,{layout:e,layoutId:n}){return zl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ru[t]||t==="opacity")}const u9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},h9=Bl.length;function f9(t,e,n){let i="",a=!0;for(let l=0;l<h9;l++){const u=Bl[l],f=t[u];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(u.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||n){const p=qC(f,Nv[u]);if(!d){a=!1;const v=u9[u]||u;i+=`${v}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function jv(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const d in e){const p=e[d];if(zl.has(d)){u=!0;continue}else if(vv(d)){a[d]=p;continue}else{const v=qC(p,Nv[d]);d.startsWith("origin")?(f=!0,l[d]=v):i[d]=v}}if(e.transform||(u||n?i.transform=f9(e,t.transform,n):i.transform&&(i.transform="none")),f){const{originX:d="50%",originY:p="50%",originZ:v=0}=l;i.transformOrigin=`${d} ${p} ${v}`}}const Lv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function t4(t,e,n){for(const i in e)!En(e[i])&&!e4(i,n)&&(t[i]=e[i])}function d9({transformTemplate:t},e){return I.useMemo(()=>{const n=Lv();return jv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function m9(t,e){const n=t.style||{},i={};return t4(i,n,t),Object.assign(i,d9(t,e)),i}function p9(t,e){const n={},i=m9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const g9={offset:"stroke-dashoffset",array:"stroke-dasharray"},y9={offset:"strokeDashoffset",array:"strokeDasharray"};function v9(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?g9:y9;t[l.offset]=Re.transform(-i);const u=Re.transform(e),f=Re.transform(n);t[l.array]=`${u} ${f}`}function n4(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},d,p,v){if(jv(t,f,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:T}=t;b.transform&&(T.transform=b.transform,delete b.transform),(T.transform||b.transformOrigin)&&(T.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),T.transform&&(T.transformBox=v?.transformBox??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),i!==void 0&&(b.scale=i),a!==void 0&&v9(b,a,l,u,!1)}const r4=()=>({...Lv(),attrs:{}}),i4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _9(t,e,n,i){const a=I.useMemo(()=>{const l=r4();return n4(l,e,i4(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};t4(l,t.style,t),a.style={...l,...a.style}}return a}const b9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kv(t){return typeof t!="string"||t.includes("-")?!1:!!(b9.indexOf(t)>-1||/[A-Z]/u.test(t))}function T9(t,e,n,{latestValues:i},a,l=!1){const f=(kv(t)?_9:p9)(e,i,a,t),d=a9(e,typeof t=="string",l),p=t!==I.Fragment?{...d,...f,ref:n}:{},{children:v}=e,b=I.useMemo(()=>En(v)?v.get():v,[v]);return I.createElement(t,{...p,children:b})}function UE(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Uv(t,e,n,i){if(typeof e=="function"){const[a,l]=UE(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=UE(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function Qf(t){return En(t)?t.get():t}function x9({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:E9(n,i,a,t),renderState:e()}}function E9(t,e,n,i){const a={},l=i(t,{});for(const T in l)a[T]=Qf(l[T]);let{initial:u,animate:f}=t;const d=rm(t),p=JC(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const b=v?f:u;if(b&&typeof b!="boolean"&&!nm(b)){const T=Array.isArray(b)?b:[b];for(let S=0;S<T.length;S++){const M=Uv(t,T[S]);if(M){const{transitionEnd:j,transition:O,...B}=M;for(const k in B){let G=B[k];if(Array.isArray(G)){const ce=v?G.length-1:0;G=G[ce]}G!==null&&(a[k]=G)}for(const k in j)a[k]=j[k]}}}return a}const s4=t=>(e,n)=>{const i=I.useContext(tm),a=I.useContext(em),l=()=>x9(t,e,i,a);return n?l():cv(l)};function Bv(t,e,n){const{style:i}=t,a={};for(const l in i)(En(i[l])||e.style&&En(e.style[l])||e4(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const w9=s4({scrapeMotionValuesFromProps:Bv,createRenderState:Lv});function a4(t,e,n){const i=Bv(t,e,n);for(const a in t)if(En(t[a])||En(e[a])){const l=Bl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const S9=s4({scrapeMotionValuesFromProps:a4,createRenderState:r4}),A9=Symbol.for("motionComponentSymbol");function ol(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function C9(t,e,n){return I.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):ol(n)&&(n.current=i))},[e])}const zv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),R9="framerAppearId",o4="data-"+zv(R9),l4=I.createContext({});function N9(t,e,n,i,a){const{visualElement:l}=I.useContext(tm),u=I.useContext(WC),f=I.useContext(em),d=I.useContext(Ov).reducedMotion,p=I.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:d}));const v=p.current,b=I.useContext(l4);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&D9(p.current,n,a,b);const T=I.useRef(!1);I.useInsertionEffect(()=>{v&&T.current&&v.update(n,f)});const S=n[o4],M=I.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return sC(()=>{v&&(T.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),M.current&&v.animationState&&v.animationState.animateChanges())}),I.useEffect(()=>{v&&(!M.current&&v.animationState&&v.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),M.current=!1),v.enteringChildren=void 0)}),v}function D9(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:c4(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&ol(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:d,layoutRoot:p})}function c4(t){if(t)return t.options.allowProjection!==!1?t.projection:c4(t.parent)}function Pg(t,{forwardMotionProps:e=!1}={},n,i){n&&r9(n);const a=kv(t)?S9:w9;function l(f,d){let p;const v={...I.useContext(Ov),...f,layoutId:I9(f)},{isStatic:b}=v,T=l9(f),S=a(f,b);if(!b&&uv){O9();const M=M9(v);p=M.MeasureLayout,T.visualElement=N9(t,S,v,i,M.ProjectionNode)}return y.jsxs(tm.Provider,{value:T,children:[p&&T.visualElement?y.jsx(p,{visualElement:T.visualElement,...v}):null,T9(t,f,C9(S,T.visualElement,d),S,b,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=I.forwardRef(l);return u[A9]=t,u}function I9({layoutId:t}){const e=I.useContext(lv).id;return e&&t!==void 0?e+"-"+t:t}function O9(t,e){I.useContext(WC).strict}function M9(t){const{drag:e,layout:n}=Rl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function P9(t,e){if(typeof Proxy>"u")return Pg;const n=new Map,i=(l,u)=>Pg(l,u,t,e),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,Pg(u,void 0,t,e)),n.get(u))})}function u4({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function V9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function j9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Vg(t){return t===void 0||t===1}function Ly({scale:t,scaleX:e,scaleY:n}){return!Vg(t)||!Vg(e)||!Vg(n)}function Ba(t){return Ly(t)||h4(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function h4(t){return BE(t.x)||BE(t.y)}function BE(t){return t&&t!=="0%"}function Sd(t,e,n){const i=t-n,a=e*i;return n+a}function zE(t,e,n,i,a){return a!==void 0&&(t=Sd(t,a,i)),Sd(t,n,i)+e}function ky(t,e=0,n=1,i,a){t.min=zE(t.min,e,n,i,a),t.max=zE(t.max,e,n,i,a)}function f4(t,{x:e,y:n}){ky(t.x,e.translate,e.scale,e.originPoint),ky(t.y,n.translate,n.scale,n.originPoint)}const FE=.999999999999,HE=1.0000000000001;function L9(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&cl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,f4(t,u)),i&&Ba(l.latestValues)&&cl(t,l.latestValues))}e.x<HE&&e.x>FE&&(e.x=1),e.y<HE&&e.y>FE&&(e.y=1)}function ll(t,e){t.min=t.min+e,t.max=t.max+e}function qE(t,e,n,i,a=.5){const l=Et(t.min,t.max,a);ky(t,e,n,l,i)}function cl(t,e){qE(t.x,e.x,e.scaleX,e.scale,e.originX),qE(t.y,e.y,e.scaleY,e.scale,e.originY)}function d4(t,e){return u4(j9(t.getBoundingClientRect(),e))}function k9(t,e,n){const i=d4(t,n),{scroll:a}=e;return a&&(ll(i.x,a.offset.x),ll(i.y,a.offset.y)),i}const GE=()=>({translate:0,scale:1,origin:0,originPoint:0}),ul=()=>({x:GE(),y:GE()}),$E=()=>({min:0,max:0}),Vt=()=>({x:$E(),y:$E()}),Uy={current:null},m4={current:!1};function U9(){if(m4.current=!0,!!uv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Uy.current=t.matches;t.addEventListener("change",e),e()}else Uy.current=!1}const B9=new WeakMap;function z9(t,e,n){for(const i in e){const a=e[i],l=n[i];if(En(a))t.addValue(i,a);else if(En(l))t.addValue(i,Cl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,Cl(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const KE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class F9{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Un.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,Tt.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=rm(n),this.isVariantNode=JC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in b){const S=b[T];d[T]!==void 0&&En(S)&&S.set(d[T])}}mount(e){this.current=e,B9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),m4.current||U9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Uy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),na(this.notifyUpdate),na(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=zl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Tt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rl){const n=Rl[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<KE.length;i++){const a=KE[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=z9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Cl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(aC(i)||lC(i))?i=parseFloat(i):!XL(i)&&ra.test(n)&&(i=HC(e,n)),this.setBaseTarget(e,En(i)?i.get():i)),En(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Uv(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!En(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new pv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Dv.render(this.render)}}class p4 extends F9{constructor(){super(...arguments),this.KeyframeResolver=kL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;En(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function g4(t,{style:e,vars:n},i,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function H9(t){return window.getComputedStyle(t)}class q9 extends p4{constructor(){super(...arguments),this.type="html",this.renderInstance=g4}readValueFromInstance(e,n){if(zl.has(n))return this.projection?.isProjecting?Dy(n):rL(e,n);{const i=H9(e),a=(vv(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return d4(e,n)}build(e,n,i){jv(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Bv(e,n,i)}}const y4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function G9(t,e,n,i){g4(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(y4.has(a)?a:zv(a),e.attrs[a])}class $9 extends p4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(zl.has(n)){const i=FC(n);return i&&i.default||0}return n=y4.has(n)?n:zv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return a4(e,n,i)}build(e,n,i){n4(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){G9(e,n,i,a)}mount(e){this.isSVGTag=i4(e.tagName),super.mount(e)}}const K9=(t,e)=>kv(t)?new $9(e):new q9(e,{allowProjection:t!==I.Fragment});function _l(t,e,n){const i=t.getProps();return Uv(i,e,n!==void 0?n:i.custom,t)}const By=t=>Array.isArray(t);function Q9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Cl(n))}function Y9(t){return By(t)?t[t.length-1]||0:t}function X9(t,e){const n=_l(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const f=Y9(l[u]);Q9(t,u,f)}}function W9(t){return!!(En(t)&&t.add)}function zy(t,e){const n=t.getValue("willChange");if(W9(n))return n.add(e);if(!n&&rs.WillChange){const i=new rs.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function v4(t){return t.props[o4]}const Z9=t=>t!==null;function J9(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(Z9),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const ek={type:"spring",stiffness:500,damping:25,restSpeed:10},tk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nk={type:"keyframes",duration:.8},rk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ik=(t,{keyframes:e})=>e.length>2?nk:zl.has(t)?t.startsWith("scale")?tk(e[1]):ek:rk;function sk({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:d,elapsed:p,...v}){return!!Object.keys(v).length}const Fv=(t,e,n,i={},a,l)=>u=>{const f=Rv(i,t)||{},d=f.delay||i.delay||0;let{elapsed:p=0}=i;p=p-yi(d);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:T=>{e.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};sk(f)||Object.assign(v,ik(t,v)),v.duration&&(v.duration=yi(v.duration)),v.repeatDelay&&(v.repeatDelay=yi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Vy(v),v.delay===0&&(b=!0)),(rs.instantAnimations||rs.skipAnimations)&&(b=!0,Vy(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,b&&!l&&e.get()!==void 0){const T=J9(v.keyframes,f);if(T!==void 0){Tt.update(()=>{v.onUpdate(T),v.onComplete()});return}}return f.isSync?new Av(v):new AL(v)};function ak({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function _4(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;i&&(l=i);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const v in f){const b=t.getValue(v,t.latestValues[v]??null),T=f[v];if(T===void 0||p&&ak(p,v))continue;const S={delay:n,...Rv(l||{},v)},M=b.get();if(M!==void 0&&!b.isAnimating&&!Array.isArray(T)&&T===M&&!S.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const B=v4(t);if(B){const k=window.MotionHandoffAnimation(B,v,Tt);k!==null&&(S.startTime=k,j=!0)}}zy(t,v),b.start(Fv(v,b,T,t.shouldReduceMotion&&UC.has(v)?{type:!1}:S,t,j));const O=b.animation;O&&d.push(O)}return u&&Promise.all(d).then(()=>{Tt.update(()=>{u&&X9(t,u)})}),d}function b4(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),u=t.size,f=(u-1)*i;return typeof n=="function"?n(l,u):a===1?l*i:f-l*i}function Fy(t,e,n={}){const i=_l(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(_4(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:b}=a;return ok(t,e,d,p,v,b,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[d,p]=f==="beforeChildren"?[l,u]:[u,l];return d().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function ok(t,e,n=0,i=0,a=0,l=1,u){const f=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),f.push(Fy(d,e,{...u,delay:n+(typeof i=="function"?0:i)+b4(t.variantChildren,d,i,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(f)}function lk(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Fy(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=Fy(t,e,n);else{const a=typeof e=="function"?_l(t,e,n.custom):e;i=Promise.all(_4(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function T4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const ck=Vv.length;function x4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?x4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ck;n++){const i=Vv[n],a=t.props[i];(Cu(a)||a===!1)&&(e[i]=a)}return e}const uk=[...Pv].reverse(),hk=Pv.length;function fk(t){return e=>Promise.all(e.map(({animation:n,options:i})=>lk(t,n,i)))}function dk(t){let e=fk(t),n=QE(),i=!0;const a=d=>(p,v)=>{const b=_l(t,v,d==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:T,transitionEnd:S,...M}=b;p={...p,...M,...S}}return p};function l(d){e=d(t)}function u(d){const{props:p}=t,v=x4(t.parent)||{},b=[],T=new Set;let S={},M=1/0;for(let O=0;O<hk;O++){const B=uk[O],k=n[B],G=p[B]!==void 0?p[B]:v[B],ce=Cu(G),ue=B===d?k.isActive:null;ue===!1&&(M=O);let Q=G===v[B]&&G!==p[B]&&ce;if(Q&&i&&t.manuallyAnimateOnMount&&(Q=!1),k.protectedKeys={...S},!k.isActive&&ue===null||!G&&!k.prevProp||nm(G)||typeof G=="boolean")continue;const D=mk(k.prevProp,G);let A=D||B===d&&k.isActive&&!Q&&ce||O>M&&ce,N=!1;const V=Array.isArray(G)?G:[G];let L=V.reduce(a(B),{});ue===!1&&(L={});const{prevResolvedValues:F={}}=k,P={...F,...L},ke=ne=>{A=!0,T.has(ne)&&(N=!0,T.delete(ne)),k.needsAnimating[ne]=!0;const he=t.getValue(ne);he&&(he.liveStyle=!1)};for(const ne in P){const he=L[ne],be=F[ne];if(S.hasOwnProperty(ne))continue;let q=!1;By(he)&&By(be)?q=!T4(he,be):q=he!==be,q?he!=null?ke(ne):T.add(ne):he!==void 0&&T.has(ne)?ke(ne):k.protectedKeys[ne]=!0}k.prevProp=G,k.prevResolvedValues=L,k.isActive&&(S={...S,...L}),i&&t.blockInitialAnimation&&(A=!1);const de=Q&&D;A&&(!de||N)&&b.push(...V.map(ne=>{const he={type:B};if(typeof ne=="string"&&i&&!de&&t.manuallyAnimateOnMount&&t.parent){const{parent:be}=t,q=_l(be,ne);if(be.enteringChildren&&q){const{delayChildren:w}=q.transition||{};he.delay=b4(be.enteringChildren,t,w)}}return{animation:ne,options:he}}))}if(T.size){const O={};if(typeof p.initial!="boolean"){const B=_l(t,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(O.transition=B.transition)}T.forEach(B=>{const k=t.getBaseTarget(B),G=t.getValue(B);G&&(G.liveStyle=!0),O[B]=k??null}),b.push({animation:O})}let j=!!b.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(j=!1),i=!1,j?e(b):Promise.resolve()}function f(d,p){if(n[d].isActive===p)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(d,p)),n[d].isActive=p;const v=u(d);for(const b in n)n[b].protectedKeys={};return v}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=QE(),i=!0}}}function mk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!T4(e,t):!1}function ka(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function QE(){return{animate:ka(!0),whileInView:ka(),whileHover:ka(),whileTap:ka(),whileDrag:ka(),whileFocus:ka(),exit:ka()}}class oa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class pk extends oa{constructor(e){super(e),e.animationState||(e.animationState=dk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let gk=0;class yk extends oa{constructor(){super(...arguments),this.id=gk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const vk={animation:{Feature:pk},exit:{Feature:yk}};function Nu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function $u(t){return{point:{x:t.pageX,y:t.pageY}}}const _k=t=>e=>Iv(e)&&t(e,$u(e));function lu(t,e,n,i){return Nu(t,e,_k(n),i)}const E4=1e-4,bk=1-E4,Tk=1+E4,w4=.01,xk=0-w4,Ek=0+w4;function Nn(t){return t.max-t.min}function wk(t,e,n){return Math.abs(t-e)<=n}function YE(t,e,n,i=.5){t.origin=i,t.originPoint=Et(e.min,e.max,t.origin),t.scale=Nn(n)/Nn(e),t.translate=Et(n.min,n.max,t.origin)-t.originPoint,(t.scale>=bk&&t.scale<=Tk||isNaN(t.scale))&&(t.scale=1),(t.translate>=xk&&t.translate<=Ek||isNaN(t.translate))&&(t.translate=0)}function cu(t,e,n,i){YE(t.x,e.x,n.x,i?i.originX:void 0),YE(t.y,e.y,n.y,i?i.originY:void 0)}function XE(t,e,n){t.min=n.min+e.min,t.max=t.min+Nn(e)}function Sk(t,e,n){XE(t.x,e.x,n.x),XE(t.y,e.y,n.y)}function WE(t,e,n){t.min=e.min-n.min,t.max=t.min+Nn(e)}function uu(t,e,n){WE(t.x,e.x,n.x),WE(t.y,e.y,n.y)}function dr(t){return[t("x"),t("y")]}const S4=({current:t})=>t?t.ownerDocument.defaultView:null,ZE=(t,e)=>Math.abs(t-e);function Ak(t,e){const n=ZE(t.x,e.x),i=ZE(t.y,e.y);return Math.sqrt(n**2+i**2)}class A4{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Lg(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,M=Ak(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!M)return;const{point:j}=T,{timestamp:O}=mn;this.history.push({...j,timestamp:O});const{onStart:B,onMove:k}=this.handlers;S||(B&&B(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,T)},this.handlePointerMove=(T,S)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=jg(S,this.transformPagePoint),Tt.update(this.updatePoint,!0)},this.handlePointerUp=(T,S)=>{this.end();const{onEnd:M,onSessionEnd:j,resumeAnimation:O}=this.handlers;if(this.dragSnapToOrigin&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=Lg(T.type==="pointercancel"?this.lastMoveEventInfo:jg(S,this.transformPagePoint),this.history);this.startEvent&&M&&M(T,B),j&&j(T,B)},!Iv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const f=$u(e),d=jg(f,this.transformPagePoint),{point:p}=d,{timestamp:v}=mn;this.history=[{...p,timestamp:v}];const{onSessionStart:b}=n;b&&b(e,Lg(d,this.history)),this.removeListeners=Hu(lu(this.contextWindow,"pointermove",this.handlePointerMove),lu(this.contextWindow,"pointerup",this.handlePointerUp),lu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),na(this.updatePoint)}}function jg(t,e){return e?{point:e(t.point)}:t}function JE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lg({point:t},e){return{point:t,delta:JE(t,C4(e)),offset:JE(t,Ck(e)),velocity:Rk(e,.1)}}function Ck(t){return t[0]}function C4(t){return t[t.length-1]}function Rk(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=C4(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>yi(e)));)n--;if(!i)return{x:0,y:0};const l=vr(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Nk(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Et(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Et(n,t,i.max):Math.min(t,n)),t}function e2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Dk(t,{top:e,left:n,bottom:i,right:a}){return{x:e2(t.x,n,a),y:e2(t.y,e,i)}}function t2(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Ik(t,e){return{x:t2(t.x,e.x),y:t2(t.y,e.y)}}function Ok(t,e){let n=.5;const i=Nn(t),a=Nn(e);return a>i?n=wu(e.min,e.max-i,t.min):i>a&&(n=wu(t.min,t.max-a,e.min)),ns(0,1,n)}function Mk(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Hy=.35;function Pk(t=Hy){return t===!1?t=0:t===!0&&(t=Hy),{x:n2(t,"left","right"),y:n2(t,"top","bottom")}}function n2(t,e,n){return{min:r2(t,e),max:r2(t,n)}}function r2(t,e){return typeof t=="number"?t:t[e]||0}const Vk=new WeakMap;class jk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($u(b).point)},u=(b,T)=>{const{drag:S,dragPropagation:M,onDragStart:j}=this.getProps();if(S&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=FL(S),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dr(B=>{let k=this.getAxisMotionValue(B).get()||0;if(vi.test(k)){const{projection:G}=this.visualElement;if(G&&G.layout){const ce=G.layout.layoutBox[B];ce&&(k=Nn(ce)*(parseFloat(k)/100))}}this.originPoint[B]=k}),j&&Tt.postRender(()=>j(b,T)),zy(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},f=(b,T)=>{this.latestPointerEvent=b,this.latestPanInfo=T;const{dragPropagation:S,dragDirectionLock:M,onDirectionLock:j,onDrag:O}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:B}=T;if(M&&this.currentDirection===null){this.currentDirection=Lk(B),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",T.point,B),this.updateAxis("y",T.point,B),this.visualElement.render(),O&&O(b,T)},d=(b,T)=>{this.latestPointerEvent=b,this.latestPanInfo=T,this.stop(b,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>dr(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new A4(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:S4(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&Tt.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Of(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=Nk(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&ol(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Dk(i.layoutBox,e):this.constraints=!1,this.elastic=Pk(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&dr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Mk(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ol(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=k9(i,a.root,this.visualElement.getTransformPagePoint());let u=Ik(a.layout.layoutBox,l);if(n){const f=n(V9(u));this.hasMutatedConstraints=!!f,f&&(u=u4(f))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},p=dr(v=>{if(!Of(v,n,this.currentDirection))return;let b=d&&d[v]||{};u&&(b={min:0,max:0});const T=a?200:1e6,S=a?40:1e7,M={type:"inertia",velocity:i?e[v]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,M)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return zy(this.visualElement,e),i.start(Fv(e,i,0,n,this.visualElement,!1))}stopAnimation(){dr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){dr(n=>{const{drag:i}=this.getProps();if(!Of(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n];l.set(e[n]-Et(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!ol(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};dr(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const d=f.get();a[u]=Ok({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),dr(u=>{if(!Of(u,e,null))return;const f=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];f.set(Et(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;Vk.set(this.visualElement,this);const e=this.visualElement.current,n=lu(e,"pointerdown",d=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();ol(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Tt.read(i);const u=Nu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(dr(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=d[v].translate,b.set(b.get()+d[v].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Hy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function Of(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Lk(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kk extends oa{constructor(e){super(e),this.removeGroupControls=br,this.removeListeners=br,this.controls=new jk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||br}unmount(){this.removeGroupControls(),this.removeListeners()}}const i2=t=>(e,n)=>{t&&Tt.postRender(()=>t(e,n))};class Uk extends oa{constructor(){super(...arguments),this.removePointerDownListener=br}onPointerDown(e){this.session=new A4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:S4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:i2(e),onStart:i2(n),onMove:i,onEnd:(l,u)=>{delete this.session,a&&Tt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=lu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function s2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Kc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=s2(t,e.target.x),i=s2(t,e.target.y);return`${n}% ${i}%`}},Bk={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=ra.parse(t);if(a.length>5)return i;const l=ra.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=d;const p=Et(f,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};let kg=!1;class zk extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;c9(Fk),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),kg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Yf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,kg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Tt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Dv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;kg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function R4(t){const[e,n]=XC(),i=I.useContext(lv);return y.jsx(zk,{...t,layoutGroup:i,switchLayoutGroup:I.useContext(l4),isPresent:e,safeToRemove:n})}const Fk={borderRadius:{...Kc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kc,borderTopRightRadius:Kc,borderBottomLeftRadius:Kc,borderBottomRightRadius:Kc,boxShadow:Bk};function Hk(t,e,n){const i=En(t)?t:Cl(t);return i.start(Fv("",i,e,n)),i.animation}const qk=(t,e)=>t.depth-e.depth;class Gk{constructor(){this.children=[],this.isDirty=!1}add(e){hv(this.children,e),this.isDirty=!0}remove(e){fv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qk),this.isDirty=!1,this.children.forEach(e)}}function $k(t,e){const n=Un.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(na(i),t(l-e))};return Tt.setup(i,!0),()=>na(i)}const N4=["TopLeft","TopRight","BottomLeft","BottomRight"],Kk=N4.length,a2=t=>typeof t=="string"?parseFloat(t):t,o2=t=>typeof t=="number"||Re.test(t);function Qk(t,e,n,i,a,l){a?(t.opacity=Et(0,n.opacity??1,Yk(i)),t.opacityExit=Et(e.opacity??1,0,Xk(i))):l&&(t.opacity=Et(e.opacity??1,n.opacity??1,i));for(let u=0;u<Kk;u++){const f=`border${N4[u]}Radius`;let d=l2(e,f),p=l2(n,f);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||o2(d)===o2(p)?(t[f]=Math.max(Et(a2(d),a2(p),i),0),(vi.test(p)||vi.test(d))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=Et(e.rotate||0,n.rotate||0,i))}function l2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Yk=D4(0,.5,gC),Xk=D4(.5,.95,br);function D4(t,e,n){return i=>i<t?0:i>e?1:n(wu(t,e,i))}function c2(t,e){t.min=e.min,t.max=e.max}function hr(t,e){c2(t.x,e.x),c2(t.y,e.y)}function u2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function h2(t,e,n,i,a){return t-=e,t=Sd(t,1/n,i),a!==void 0&&(t=Sd(t,1/a,i)),t}function Wk(t,e=0,n=1,i=.5,a,l=t,u=t){if(vi.test(e)&&(e=parseFloat(e),e=Et(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Et(l.min,l.max,i);t===l&&(f-=e),t.min=h2(t.min,e,n,f,a),t.max=h2(t.max,e,n,f,a)}function f2(t,e,[n,i,a],l,u){Wk(t,e[n],e[i],e[a],e.scale,l,u)}const Zk=["x","scaleX","originX"],Jk=["y","scaleY","originY"];function d2(t,e,n,i){f2(t.x,e,Zk,n?n.x:void 0,i?i.x:void 0),f2(t.y,e,Jk,n?n.y:void 0,i?i.y:void 0)}function m2(t){return t.translate===0&&t.scale===1}function I4(t){return m2(t.x)&&m2(t.y)}function p2(t,e){return t.min===e.min&&t.max===e.max}function e7(t,e){return p2(t.x,e.x)&&p2(t.y,e.y)}function g2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function O4(t,e){return g2(t.x,e.x)&&g2(t.y,e.y)}function y2(t){return Nn(t.x)/Nn(t.y)}function v2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class t7{constructor(){this.members=[]}add(e){hv(this.members,e),e.scheduleRender()}remove(e){if(fv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function n7(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:b,rotateY:T,skewX:S,skewY:M}=n;p&&(i=`perspective(${p}px) ${i}`),v&&(i+=`rotate(${v}deg) `),b&&(i+=`rotateX(${b}deg) `),T&&(i+=`rotateY(${T}deg) `),S&&(i+=`skewX(${S}deg) `),M&&(i+=`skewY(${M}deg) `)}const f=t.x.scale*e.x,d=t.y.scale*e.y;return(f!==1||d!==1)&&(i+=`scale(${f}, ${d})`),i||"none"}const Ug=["","X","Y","Z"],r7=1e3;let i7=0;function Bg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function M4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=v4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Tt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&M4(i)}function P4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=i7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(o7),this.nodes.forEach(h7),this.nodes.forEach(f7),this.nodes.forEach(l7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gk)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new pv),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const d=this.eventHandlers.get(u);d&&d.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=YC(u)&&!QL(u),this.instance=u;const{layoutId:f,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||f)&&(this.isLayoutDirty=!0),t){let v,b=0;const T=()=>this.root.updateBlockedByResize=!1;Tt.read(()=>{b=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==b&&(b=S,this.root.updateBlockedByResize=!0,v&&v(),v=$k(T,250),Yf.hasAnimatedSinceResize&&(Yf.hasAnimatedSinceResize=!1,this.nodes.forEach(T2)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||d)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||y7,{onLayoutAnimationStart:j,onLayoutAnimationComplete:O}=p.getProps(),B=!this.targetLayout||!O4(this.targetLayout,S),k=!b&&T;if(this.options.layoutRoot||this.resumeFrom||k||b&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const G={...Rv(M,"layout"),onPlay:j,onComplete:O};(p.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G),this.setAnimationOrigin(v,k)}else b||T2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),na(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(d7),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&M4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(b2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(u7),this.nodes.forEach(s7),this.nodes.forEach(a7)):this.nodes.forEach(b2),this.clearAllSnapshots();const f=Un.now();mn.delta=ns(0,1e3/60,f-mn.timestamp),mn.timestamp=f,mn.isProcessing=!0,Rg.update.process(mn),Rg.preRender.process(mn),Rg.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Dv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(c7),this.sharedNodes.forEach(m7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nn(this.snapshot.measuredBox.x)&&!Nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!I4(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||Ba(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return u&&(d=this.removeTransform(d)),v7(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Vt();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(_7))){const{scroll:p}=this.root;p&&(ll(f.x,p.offset.x),ll(f.y,p.offset.y))}return f}removeElementScroll(u){const f=Vt();if(hr(f,u),this.scroll?.wasRoot)return f;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:v,options:b}=p;p!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&hr(f,u),ll(f.x,v.offset.x),ll(f.y,v.offset.y))}return f}applyTransform(u,f=!1){const d=Vt();hr(d,u);for(let p=0;p<this.path.length;p++){const v=this.path[p];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&cl(d,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ba(v.latestValues)&&cl(d,v.latestValues)}return Ba(this.latestValues)&&cl(d,this.latestValues),d}removeTransform(u){const f=Vt();hr(f,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ba(p.latestValues))continue;Ly(p.latestValues)&&p.updateSnapshot();const v=Vt(),b=p.measurePageBox();hr(v,b),d2(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Ba(this.latestValues)&&d2(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!(!this.layout||!(v||b))){if(this.resolvedRelativeTargetAt=mn.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),uu(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Vt(),this.targetWithTransforms=Vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Sk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hr(this.target,this.layout.layoutBox),f4(this.target,this.targetDelta)):hr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),uu(this.relativeTargetOrigin,this.target,T.target),hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ly(this.parent.latestValues)||h4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(d=!1),d)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;hr(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,T=this.treeScale.y;L9(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Vt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(u2(this.prevProjectionDelta.x,this.projectionDelta.x),u2(this.prevProjectionDelta.y,this.projectionDelta.y)),cu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==T||!v2(this.projectionDelta.x,this.prevProjectionDelta.x)||!v2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ul(),this.projectionDelta=ul(),this.projectionDeltaWithTransform=ul()}setAnimationOrigin(u,f=!1){const d=this.snapshot,p=d?d.latestValues:{},v={...this.latestValues},b=ul();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=Vt(),S=d?d.source:void 0,M=this.layout?this.layout.source:void 0,j=S!==M,O=this.getStack(),B=!O||O.members.length<=1,k=!!(j&&!B&&this.options.crossfade===!0&&!this.path.some(g7));this.animationProgress=0;let G;this.mixTargetDelta=ce=>{const ue=ce/1e3;x2(b.x,u.x,ue),x2(b.y,u.y,ue),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uu(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p7(this.relativeTarget,this.relativeTargetOrigin,T,ue),G&&e7(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=Vt()),hr(G,this.relativeTarget)),j&&(this.animationValues=v,Qk(v,p,this.latestValues,ue,k,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ue},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(na(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tt.update(()=>{Yf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Cl(0)),this.currentAnimation=Hk(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(r7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:d,layout:p,latestValues:v}=u;if(!(!f||!d||!p)){if(this!==u&&this.layout&&p&&V4(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Vt();const b=Nn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+b;const T=Nn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+T}hr(f,d),cl(f,v),cu(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new t7),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const p={};d.z&&Bg("z",u,p,this.animationValues);for(let v=0;v<Ug.length;v++)Bg(`rotate${Ug[v]}`,u,p,this.animationValues),Bg(`skew${Ug[v]}`,u,p,this.animationValues);u.render();for(const v in p)u.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Qf(f?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Qf(f?.pointerEvents)||""),this.hasProjected&&!Ba(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=n7(this.projectionDeltaWithTransform,this.treeScale,v);d&&(b=d(v,b)),u.transform=b;const{x:T,y:S}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const M in Ru){if(v[M]===void 0)continue;const{correct:j,applyTo:O,isCSSVariable:B}=Ru[M],k=b==="none"?v[M]:j(v[M],p);if(O){const G=O.length;for(let ce=0;ce<G;ce++)u[O[ce]]=k}else B?this.options.visualElement.renderState.vars[M]=k:u[M]=k}this.options.layoutId&&(u.pointerEvents=p===this?Qf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(_2),this.root.sharedNodes.clear()}}}function s7(t){t.updateLayout()}function a7(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?dr(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],T=Nn(b);b.min=n[v].min,b.max=b.min+T}):V4(a,e.layoutBox,n)&&dr(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],T=Nn(n[v]);b.max=b.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+T)});const u=ul();cu(u,n,e.layoutBox);const f=ul();l?cu(f,t.applyTransform(i,!0),e.measuredBox):cu(f,n,e.layoutBox);const d=!I4(u);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:T}=v;if(b&&T){const S=Vt();uu(S,e.layoutBox,b.layoutBox);const M=Vt();uu(M,n,T.layoutBox),O4(S,M)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=S,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function o7(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function l7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function c7(t){t.clearSnapshot()}function _2(t){t.clearMeasurements()}function b2(t){t.isLayoutDirty=!1}function u7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function T2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function h7(t){t.resolveTargetDelta()}function f7(t){t.calcProjection()}function d7(t){t.resetSkewAndRotation()}function m7(t){t.removeLeadSnapshot()}function x2(t,e,n){t.translate=Et(e.translate,0,n),t.scale=Et(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function E2(t,e,n,i){t.min=Et(e.min,n.min,i),t.max=Et(e.max,n.max,i)}function p7(t,e,n,i){E2(t.x,e.x,n.x,i),E2(t.y,e.y,n.y,i)}function g7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const y7={duration:.45,ease:[.4,0,.1,1]},w2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),S2=w2("applewebkit/")&&!w2("chrome/")?Math.round:br;function A2(t){t.min=S2(t.min),t.max=S2(t.max)}function v7(t){A2(t.x),A2(t.y)}function V4(t,e,n){return t==="position"||t==="preserve-aspect"&&!wk(y2(e),y2(n),.2)}function _7(t){return t!==t.root&&t.scroll?.wasRoot}const b7=P4({attachResizeListener:(t,e)=>Nu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zg={current:void 0},j4=P4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zg.current){const t=new b7({});t.mount(window),t.setOptions({layoutScroll:!0}),zg.current=t}return zg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),T7={pan:{Feature:Uk},drag:{Feature:kk,ProjectionNode:j4,MeasureLayout:R4}};function C2(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&Tt.postRender(()=>l(e,$u(e)))}class x7 extends oa{mount(){const{current:e}=this.node;e&&(this.unmount=HL(e,(n,i)=>(C2(this.node,i,"Start"),a=>C2(this.node,a,"End"))))}unmount(){}}class E7 extends oa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hu(Nu(this.node.current,"focus",()=>this.onFocus()),Nu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function R2(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&Tt.postRender(()=>l(e,$u(e)))}class w7 extends oa{mount(){const{current:e}=this.node;e&&(this.unmount=KL(e,(n,i)=>(R2(this.node,i,"Start"),(a,{success:l})=>R2(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qy=new WeakMap,Fg=new WeakMap,S7=t=>{const e=qy.get(t.target);e&&e(t)},A7=t=>{t.forEach(S7)};function C7({root:t,...e}){const n=t||document;Fg.has(n)||Fg.set(n,{});const i=Fg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(A7,{root:t,...e})),i[a]}function R7(t,e,n){const i=C7(e);return qy.set(t,n),i.observe(t),()=>{qy.delete(t),i.unobserve(t)}}const N7={some:0,all:1};class D7 extends oa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:N7[a]},f=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),T=p?v:b;T&&T(d)};return R7(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(I7(e,n))&&this.startObserver()}unmount(){}}function I7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const O7={inView:{Feature:D7},tap:{Feature:w7},focus:{Feature:E7},hover:{Feature:x7}},M7={layout:{ProjectionNode:j4,MeasureLayout:R4}},P7={...vk,...O7,...T7,...M7},Jt=P9(P7,K9),V7=()=>{const[t,e]=I.useState(!1),[n,i]=I.useState(""),{signIn:a}=Si(),l=Ol(),u=async()=>{try{i(""),e(!0),await a(),l("/dashboard")}catch(d){i("Failed to sign in with Google. Please try again."),console.error(d)}finally{e(!1)}},f=[{icon:pE,text:"Interactive Exams",color:"text-blue-500"},{icon:xi,text:"Earn Rewards",color:"text-yellow-500"},{icon:bd,text:"Track Progress",color:"text-purple-500"},{icon:Wj,text:"Level Up",color:"text-green-500"}];return y.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",children:[y.jsxs("div",{className:"max-w-6xl w-full grid md:grid-cols-2 gap-8 items-center",children:[y.jsxs(Jt.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6},className:"text-center md:text-left",children:[y.jsx(Jt.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"inline-block mb-6",children:y.jsx(pE,{className:"text-8xl text-blue-600"})}),y.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4",children:"ExamQuest"}),y.jsx("p",{className:"text-2xl text-gray-600 mb-8",children:"Turn Learning into an Adventure! 🚀"}),y.jsx("div",{className:"grid grid-cols-2 gap-4",children:f.map((d,p)=>y.jsxs(Jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1+.3},className:"flex items-center gap-3 bg-white p-4 rounded-xl shadow-md",children:[y.jsx(d.icon,{className:`text-3xl ${d.color}`}),y.jsx("span",{className:"font-semibold text-gray-700",children:d.text})]},p))})]}),y.jsxs(Jt.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.6},className:"card max-w-md mx-auto w-full",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Welcome Back!"}),y.jsx("p",{className:"text-gray-600",children:"Sign in to continue your learning journey"})]}),n&&y.jsx(Jt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl mb-4",children:n}),y.jsxs("button",{onClick:u,disabled:t,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 hover:border-blue-500 text-gray-700 font-semibold py-4 px-6 rounded-xl shadow-md hover:shadow-xl transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[y.jsx(zj,{className:"text-2xl"}),t?"Signing in...":"Sign in with Google"]}),y.jsxs("div",{className:"mt-8 text-center text-sm text-gray-500",children:[y.jsx("p",{children:"By signing in, you agree to our"}),y.jsxs("p",{className:"mt-1",children:[y.jsx("span",{className:"text-blue-600 hover:underline cursor-pointer",children:"Terms of Service"})," & ",y.jsx("span",{className:"text-blue-600 hover:underline cursor-pointer",children:"Privacy Policy"})]})]}),y.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl",children:y.jsxs("p",{className:"text-sm text-gray-700 text-center",children:[y.jsx("span",{className:"font-semibold",children:"New here?"})," Your account will be created automatically on first sign-in!"]})})]})]}),y.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden -z-10",children:[...Array(20)].map((d,p)=>y.jsx(Jt.div,{className:"absolute w-2 h-2 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full opacity-20",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-30,0],x:[0,Math.random()*20-10,0],scale:[1,1.5,1]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*2}},p))})]})},j7=()=>{const[t,e]=I.useState(!0),{signOut:n,userProfile:i}=Si(),a=Ol(),l=Ei(),u=async()=>{try{await n(),a("/")}catch(p){console.error("Error signing out:",p)}},f=[{path:"/admin",icon:eC,label:"Dashboard",exact:!0},{path:"/admin/questions",icon:tC,label:"Questions"},{path:"/admin/categories",icon:Xj,label:"Categories"},{path:"/admin/exams",icon:Ti,label:"Exams"},{path:"/admin/students",icon:iC,label:"Students"},{path:"/admin/analytics",icon:qj,label:"Analytics"},{path:"/admin/settings",icon:Gj,label:"Settings"}],d=(p,v=!1)=>v?l.pathname===p:l.pathname.startsWith(p);return y.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[y.jsx(Mv,{children:t&&y.jsx(Jt.aside,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",stiffness:300,damping:30},className:"fixed lg:static inset-y-0 left-0 z-50 w-64 bg-gradient-to-b from-blue-600 to-purple-700 text-white shadow-2xl",children:y.jsxs("div",{className:"flex flex-col h-full",children:[y.jsxs("div",{className:"p-6 border-b border-white/20",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold",children:"ExamQuest"}),y.jsx("button",{onClick:()=>e(!1),className:"lg:hidden text-white hover:bg-white/20 p-2 rounded-lg",children:y.jsx(Eu,{})})]}),y.jsx("p",{className:"text-sm text-white/80 mt-2",children:"Admin Panel"})]}),y.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:f.map(p=>y.jsxs(yr,{to:p.path,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${d(p.path,p.exact)?"bg-white text-blue-600 shadow-lg":"text-white hover:bg-white/20"}`,children:[y.jsx(p.icon,{className:"text-xl"}),y.jsx("span",{className:"font-medium",children:p.label})]},p.path))}),y.jsxs("div",{className:"p-4 border-t border-white/20",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("img",{src:i?.photoURL||"https://via.placeholder.com/40",alt:"Profile",className:"w-10 h-10 rounded-full border-2 border-white"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"font-semibold truncate",children:i?.displayName}),y.jsx("p",{className:"text-xs text-white/80 truncate",children:i?.email})]})]}),y.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:[y.jsx(rC,{}),y.jsx("span",{children:"Sign Out"})]})]})]})})}),y.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[y.jsx("header",{className:"bg-white shadow-md px-6 py-4 sticky top-0 z-40",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("button",{onClick:()=>e(!t),className:"text-gray-600 hover:text-gray-900 p-2 rounded-lg hover:bg-gray-100",children:y.jsx(WA,{className:"text-xl"})}),y.jsx("div",{className:"flex items-center gap-4",children:y.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-gradient-to-r from-yellow-400 to-orange-400 text-white px-4 py-2 rounded-full font-semibold shadow-lg",children:[y.jsx("span",{children:"👑"}),y.jsx("span",{children:"Admin"})]})})]})}),y.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:y.jsx(tw,{})})]}),t&&y.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>e(!1)})]})},L7=()=>{const[t,e]=I.useState({totalStudents:0,totalQuestions:0,totalExams:0,totalCategories:0,activeExams:0,totalSubmissions:0}),[n,i]=I.useState([]),[a,l]=I.useState(!0);I.useEffect(()=>{u()},[]);const u=async()=>{try{l(!0);const[d,p,v,b,T]=await Promise.all([We.getAll("users"),We.getAll("questions"),We.getAll("exams"),We.getAll("categories"),We.getAll("examResults")]),S=d.filter(O=>O.role==="student"),M=v.filter(O=>O.isActive!==!1);e({totalStudents:S.length,totalQuestions:p.length,totalExams:v.length,totalCategories:b.length,activeExams:M.length,totalSubmissions:T.length});const j=T.sort((O,B)=>(B.completedAt?.seconds||0)-(O.completedAt?.seconds||0)).slice(0,10).map(O=>({...O,studentName:d.find(B=>B.uid===O.studentId)?.displayName||"Unknown",examName:v.find(B=>B.id===O.examId)?.title||"Unknown Exam"}));i(j)}catch(d){console.error("Error loading dashboard:",d)}finally{l(!1)}},f=[{title:"Total Students",value:t.totalStudents,icon:iC,color:"from-blue-500 to-blue-600"},{title:"Total Questions",value:t.totalQuestions,icon:tC,color:"from-purple-500 to-purple-600"},{title:"Total Exams",value:t.totalExams,icon:Ti,color:"from-green-500 to-green-600"},{title:"Active Exams",value:t.activeExams,icon:xi,color:"from-yellow-500 to-yellow-600"},{title:"Categories",value:t.totalCategories,icon:JA,color:"from-pink-500 to-pink-600"},{title:"Submissions",value:t.totalSubmissions,icon:ZA,color:"from-indigo-500 to-indigo-600"}];return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Dashboard"}),y.jsx("p",{className:"text-gray-600 mt-1",children:"Overview of your exam platform"})]}),a?y.jsx("div",{className:"text-center py-12",children:y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map((d,p)=>y.jsx("div",{className:`card bg-gradient-to-br ${d.color} text-white`,children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-white/80 text-sm font-medium",children:d.title}),y.jsx("p",{className:"text-4xl font-bold mt-2",children:d.value})]}),y.jsx(d.icon,{className:"text-5xl text-white/30"})]})},p))}),y.jsxs("div",{className:"card",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Recent Submissions"}),n.length===0?y.jsx("p",{className:"text-center py-8 text-gray-500",children:"No submissions yet"}):y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"border-b",children:[y.jsx("th",{className:"text-left py-3 px-4",children:"Student"}),y.jsx("th",{className:"text-left py-3 px-4",children:"Exam"}),y.jsx("th",{className:"text-center py-3 px-4",children:"Score"}),y.jsx("th",{className:"text-center py-3 px-4",children:"%"}),y.jsx("th",{className:"text-left py-3 px-4",children:"Date"})]})}),y.jsx("tbody",{children:n.map((d,p)=>y.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[y.jsx("td",{className:"py-3 px-4",children:d.studentName}),y.jsx("td",{className:"py-3 px-4",children:d.examName}),y.jsxs("td",{className:"py-3 px-4 text-center",children:[d.score,"/",d.totalPoints]}),y.jsx("td",{className:"py-3 px-4 text-center",children:y.jsxs("span",{className:`px-2 py-1 rounded text-sm ${d.percentage>=60?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[d.percentage,"%"]})}),y.jsx("td",{className:"py-3 px-4 text-sm",children:d.completedAt&&new Date(d.completedAt.seconds*1e3).toLocaleDateString()})]},p))})]})})]})]})]})},k7=({question:t,categories:e,onClose:n,onSave:i})=>{const{currentUser:a}=Si(),[l,u]=I.useState({type:"mcq",category:"",question:"",passage:"",imageUrl:"",options:["","","",""],correctAnswer:"",points:10,difficulty:"medium",explanation:"",dragDropPairs:[{item:"",match:""}]}),[f,d]=I.useState(!1),[p,v]=I.useState(""),[b,T]=I.useState(null),[S,M]=I.useState("");I.useEffect(()=>{t&&(u({type:t.type||"mcq",category:t.category||"",question:t.question||"",passage:t.passage||"",imageUrl:t.imageUrl||"",options:t.options||["","","",""],correctAnswer:t.correctAnswer||"",points:t.points||10,difficulty:t.difficulty||"medium",explanation:t.explanation||"",dragDropPairs:t.correctAnswer&&Array.isArray(t.correctAnswer)?t.correctAnswer:[{item:"",match:""}]}),t.imageUrl&&M(t.imageUrl))},[t]);const j=async A=>{A.preventDefault(),v(""),d(!0);try{if(!a){v("You must be signed in to save questions."),d(!1);return}if(!l.category||!l.question){v("Please fill in all required fields"),d(!1);return}let N=l.imageUrl;b&&(N=await Oj.uploadImage(b,"questions"));let V={type:l.type,category:l.category,question:l.question,imageUrl:N||"",points:parseInt(l.points),difficulty:l.difficulty,explanation:l.explanation,createdBy:a.uid};if(l.type==="reading-comprehension"){if(!l.passage){v("Please provide a reading passage"),d(!1);return}V.passage=l.passage,V.options=l.options.filter(L=>L.trim()!==""),V.correctAnswer=l.correctAnswer}else if(l.type==="mcq"){const L=l.options.filter(F=>F.trim()!=="");if(L.length<2){v("Please provide at least 2 options"),d(!1);return}V.options=L,V.correctAnswer=l.correctAnswer}else if(l.type==="true-false")V.correctAnswer=l.correctAnswer;else if(l.type==="short-answer")V.correctAnswer=l.correctAnswer;else if(l.type==="drag-drop"){const L=l.dragDropPairs.filter(F=>F.item.trim()!==""&&F.match.trim()!=="");if(L.length<2){v("Please provide at least 2 drag-drop pairs"),d(!1);return}V.options=L.map(F=>F.item),V.correctAnswer=L}t?.id?await We.update("questions",t.id,V):await We.create("questions",V),i()}catch(N){v("Failed to save question. Please try again."),console.error(N)}finally{d(!1)}},O=(A,N)=>{const V=[...l.options];V[A]=N,u({...l,options:V})},B=()=>{u({...l,options:[...l.options,""]})},k=A=>{const N=l.options.filter((V,L)=>L!==A);u({...l,options:N})},G=(A,N,V)=>{const L=[...l.dragDropPairs];L[A][N]=V,u({...l,dragDropPairs:L})},ce=()=>{u({...l,dragDropPairs:[...l.dragDropPairs,{item:"",match:""}]})},ue=A=>{const N=l.dragDropPairs.filter((V,L)=>L!==A);u({...l,dragDropPairs:N})},Q=A=>{const N=A.target.files[0];if(N){if(!N.type.startsWith("image/")){v("Please select a valid image file");return}if(N.size>5*1024*1024){v("Image size should be less than 5MB");return}T(N);const V=new FileReader;V.onloadend=()=>{M(V.result)},V.readAsDataURL(N)}},D=()=>{T(null),M(""),u({...l,imageUrl:""})};return y.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:y.jsxs(Jt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl my-8",children:[y.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:t?"Edit Question":"Add New Question"}),y.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-gray-100",children:y.jsx(Eu,{className:"text-xl"})})]}),y.jsxs("form",{onSubmit:j,className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[p&&y.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl",children:p}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Question Type *"}),y.jsxs("select",{value:l.type,onChange:A=>u({...l,type:A.target.value}),className:"input-field",required:!0,children:[y.jsx("option",{value:"mcq",children:"Multiple Choice"}),y.jsx("option",{value:"true-false",children:"True/False"}),y.jsx("option",{value:"short-answer",children:"Short Answer"}),y.jsx("option",{value:"drag-drop",children:"Drag & Drop"}),y.jsx("option",{value:"reading-comprehension",children:"Reading Comprehension"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category *"}),y.jsxs("select",{value:l.category,onChange:A=>u({...l,category:A.target.value}),className:"input-field",required:!0,children:[y.jsx("option",{value:"",children:"Select Category"}),e.map(A=>y.jsx("option",{value:A.name,children:A.name},A.id))]})]})]}),l.type==="reading-comprehension"&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Reading Passage *"}),y.jsx("textarea",{value:l.passage,onChange:A=>u({...l,passage:A.target.value}),className:"input-field min-h-[200px] font-serif",placeholder:"Enter the reading passage here...",required:!0}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students will read this passage before answering the question"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:l.type==="reading-comprehension"?"Question about the passage *":"Question *"}),y.jsx("textarea",{value:l.question,onChange:A=>u({...l,question:A.target.value}),className:"input-field min-h-[100px]",placeholder:"Enter your question here...",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Question Image (Optional)"}),S?y.jsxs("div",{className:"relative",children:[y.jsx("img",{src:S,alt:"Question preview",className:"w-full max-h-64 object-contain rounded-lg border-2 border-gray-200"}),y.jsx("button",{type:"button",onClick:D,className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 shadow-lg",children:y.jsx(vl,{})})]}):y.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-500 transition-colors",children:[y.jsx("input",{type:"file",accept:"image/*",onChange:Q,className:"hidden",id:"image-upload"}),y.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center",children:[y.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),y.jsx("span",{className:"text-blue-600 font-semibold",children:"Click to upload image"}),y.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF up to 5MB"})]})]})]}),(l.type==="mcq"||l.type==="reading-comprehension")&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Answer Options *"}),y.jsx("div",{className:"space-y-3",children:l.options.map((A,N)=>y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",value:A,onChange:V=>O(N,V.target.value),className:"input-field flex-1",placeholder:`Option ${N+1}`}),y.jsx("button",{type:"button",onClick:()=>k(N),className:"p-3 text-red-600 hover:bg-red-100 rounded-lg",disabled:l.options.length<=2,children:y.jsx(vl,{})})]},N))}),y.jsxs("button",{type:"button",onClick:B,className:"mt-3 flex items-center gap-2 text-blue-600 hover:text-blue-700 font-semibold",children:[y.jsx(ro,{})," Add Option"]})]}),l.type!=="drag-drop"&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Correct Answer *"}),l.type==="true-false"?y.jsxs("select",{value:l.correctAnswer,onChange:A=>u({...l,correctAnswer:A.target.value}),className:"input-field",required:!0,children:[y.jsx("option",{value:"",children:"Select Answer"}),y.jsx("option",{value:"true",children:"True"}),y.jsx("option",{value:"false",children:"False"})]}):l.type==="mcq"||l.type==="reading-comprehension"?y.jsxs("select",{value:l.correctAnswer,onChange:A=>u({...l,correctAnswer:A.target.value}),className:"input-field",required:!0,children:[y.jsx("option",{value:"",children:"Select Correct Option"}),l.options.filter(A=>A.trim()!=="").map((A,N)=>y.jsx("option",{value:A,children:A},N))]}):y.jsx("input",{type:"text",value:l.correctAnswer,onChange:A=>u({...l,correctAnswer:A.target.value}),className:"input-field",placeholder:"Enter the correct answer",required:!0})]}),l.type==="drag-drop"&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Drag & Drop Pairs *"}),y.jsx("div",{className:"space-y-3",children:l.dragDropPairs.map((A,N)=>y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",value:A.item,onChange:V=>G(N,"item",V.target.value),className:"input-field flex-1",placeholder:"Item to drag"}),y.jsx("span",{className:"flex items-center text-gray-400",children:"→"}),y.jsx("input",{type:"text",value:A.match,onChange:V=>G(N,"match",V.target.value),className:"input-field flex-1",placeholder:"Match target"}),y.jsx("button",{type:"button",onClick:()=>ue(N),className:"p-3 text-red-600 hover:bg-red-100 rounded-lg",disabled:l.dragDropPairs.length<=2,children:y.jsx(vl,{})})]},N))}),y.jsxs("button",{type:"button",onClick:ce,className:"mt-3 flex items-center gap-2 text-blue-600 hover:text-blue-700 font-semibold",children:[y.jsx(ro,{})," Add Pair"]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Points"}),y.jsx("input",{type:"number",value:l.points,onChange:A=>u({...l,points:A.target.value}),className:"input-field",min:"1",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Difficulty"}),y.jsxs("select",{value:l.difficulty,onChange:A=>u({...l,difficulty:A.target.value}),className:"input-field",required:!0,children:[y.jsx("option",{value:"easy",children:"Easy"}),y.jsx("option",{value:"medium",children:"Medium"}),y.jsx("option",{value:"hard",children:"Hard"})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Explanation (Optional)"}),y.jsx("textarea",{value:l.explanation,onChange:A=>u({...l,explanation:A.target.value}),className:"input-field min-h-[80px]",placeholder:"Explain the correct answer..."})]}),y.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[y.jsx("button",{type:"button",onClick:n,className:"btn-secondary flex-1",disabled:f,children:"Cancel"}),y.jsx("button",{type:"submit",className:"btn-primary flex-1",disabled:f,children:f?"Saving...":t?"Update Question":"Create Question"})]})]})]})})},U7=({onClose:t,onImport:e})=>{const{currentUser:n}=Si(),[i,a]=I.useState(null),[l,u]=I.useState(!1),[f,d]=I.useState(""),[p,v]=I.useState(""),[b,T]=I.useState(null),S=j=>{const O=j.target.files[0];if(O){if(O.type!=="application/json"){d("Please select a valid JSON file");return}a(O),d("");const B=new FileReader;B.onload=k=>{try{const G=JSON.parse(k.target.result);T(G),d("")}catch{d("Invalid JSON format"),a(null)}},B.readAsText(O)}},M=async()=>{if(!b||!b.questions){d('Invalid JSON structure. Must contain a "questions" array');return}if(!n){d("You must be signed in to import questions.");return}u(!0),d(""),v("");try{let j=0,O=0;for(const B of b.questions)try{if(!B.type||!B.category||!B.question){O++;continue}const k={...B,createdBy:n.uid,imageUrl:B.imageUrl||""};await We.create("questions",k),j++}catch(k){console.error("Error importing question:",k),O++}v(`Successfully imported ${j} questions${O>0?`. ${O} failed.`:""}`),setTimeout(()=>{e()},2e3)}catch(j){d("Failed to import questions. Please check the file format."),console.error(j)}finally{u(!1)}};return y.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:y.jsxs(Jt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl",children:[y.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Import Questions from JSON"}),y.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-gray-100",children:y.jsx(Eu,{className:"text-xl"})})]}),y.jsxs("div",{className:"p-6 space-y-6",children:[f&&y.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl",children:f}),p&&y.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-xl flex items-center gap-2",children:[y.jsx(_d,{}),p]}),i?y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(_d,{className:"text-green-600 text-xl"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-gray-800",children:i.name}),y.jsxs("p",{className:"text-sm text-gray-600",children:[b?.questions?.length||0," questions found"]})]})]}),y.jsx("button",{onClick:()=>{a(null),T(null)},className:"text-red-600 hover:bg-red-100 p-2 rounded-lg",children:y.jsx(Eu,{})})]})}),b&&b.questions&&y.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 max-h-64 overflow-y-auto",children:[y.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Preview:"}),y.jsxs("div",{className:"space-y-2",children:[b.questions.slice(0,5).map((j,O)=>y.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"badge bg-blue-100 text-blue-800 text-xs",children:j.type}),y.jsx("span",{className:"badge bg-purple-100 text-purple-800 text-xs",children:j.category})]}),y.jsx("p",{className:"text-sm text-gray-700 truncate",children:j.question})]},O)),b.questions.length>5&&y.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["... and ",b.questions.length-5," more questions"]})]})]})]}):y.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center hover:border-blue-500 transition-colors",children:[y.jsx("input",{type:"file",accept:".json",onChange:S,className:"hidden",id:"json-upload"}),y.jsxs("label",{htmlFor:"json-upload",className:"cursor-pointer flex flex-col items-center",children:[y.jsx(Qj,{className:"text-6xl text-gray-400 mb-4"}),y.jsx("span",{className:"text-blue-600 font-semibold text-lg",children:"Click to upload JSON file"}),y.jsx("span",{className:"text-sm text-gray-500 mt-2",children:"Upload a JSON file containing questions"})]})]}),y.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[y.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Expected JSON Format:"}),y.jsx("pre",{className:"text-xs bg-white p-3 rounded border border-gray-200 overflow-x-auto",children:`{
  "questions": [
    {
      "type": "mcq",
      "category": "Mathematics",
      "question": "What is 2 + 2?",
      "options": ["2", "3", "4", "5"],
      "correctAnswer": "4",
      "points": 10,
      "difficulty": "easy",
      "explanation": "Basic addition",
      "imageUrl": "https://... (optional)"
    }
  ]
}`})]}),y.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[y.jsx("button",{onClick:t,className:"btn-secondary flex-1",disabled:l,children:"Cancel"}),y.jsx("button",{onClick:M,className:"btn-primary flex-1",disabled:!i||l,children:l?"Importing...":"Import Questions"})]})]})]})})},B7=()=>{const[t,e]=I.useState([]),[n,i]=I.useState([]),[a,l]=I.useState([]),[u,f]=I.useState(!0),[d,p]=I.useState(""),[v,b]=I.useState("all"),[T,S]=I.useState("all"),[M,j]=I.useState("all"),[O,B]=I.useState(!1),[k,G]=I.useState(!1),[ce,ue]=I.useState(null);I.useEffect(()=>{Q(),D()},[]),I.useEffect(()=>{A()},[t,d,v,T,M]);const Q=async()=>{try{f(!0);const de=await We.getAll("questions");e(de)}catch(de){console.error("Error loading questions:",de)}finally{f(!1)}},D=async()=>{try{const de=await We.getAll("categories");l(de)}catch(de){console.error("Error loading categories:",de)}},A=()=>{let de=[...t];d&&(de=de.filter(H=>H.question.toLowerCase().includes(d.toLowerCase()))),v!=="all"&&(de=de.filter(H=>H.category===v)),T!=="all"&&(de=de.filter(H=>H.type===T)),M!=="all"&&(de=de.filter(H=>H.difficulty===M)),i(de)},N=async de=>{if(window.confirm("Are you sure you want to delete this question?"))try{await We.delete("questions",de),Q()}catch(H){console.error("Error deleting question:",H)}},V=de=>{ue(de),B(!0)},L=()=>{ue(null),B(!0)},F=()=>{const de={questions:t.map(be=>({type:be.type,category:be.category,question:be.question,options:be.options,correctAnswer:be.correctAnswer,points:be.points,difficulty:be.difficulty,explanation:be.explanation}))},H=new Blob([JSON.stringify(de,null,2)],{type:"application/json"}),ne=URL.createObjectURL(H),he=document.createElement("a");he.href=ne,he.download=`questions-export-${Date.now()}.json`,he.click(),URL.revokeObjectURL(ne)},P=de=>{switch(de){case"mcq":return"📝";case"true-false":return"✓✗";case"short-answer":return"✍️";case"drag-drop":return"🔄";default:return"❓"}},ke=de=>{switch(de){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Question Bank"}),y.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your exam questions"})]}),y.jsxs("div",{className:"flex flex-wrap gap-3",children:[y.jsxs("button",{onClick:()=>G(!0),className:"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors",children:[y.jsx(Kj,{}),"Import JSON"]}),y.jsxs("button",{onClick:F,className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors",children:[y.jsx($j,{}),"Export JSON"]}),y.jsxs("button",{onClick:L,className:"flex items-center gap-2 btn-primary",children:[y.jsx(ro,{}),"Add Question"]})]})]}),y.jsx("div",{className:"card",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx(nC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search questions...",value:d,onChange:de=>p(de.target.value),className:"input-field pl-10"})]}),y.jsxs("select",{value:v,onChange:de=>b(de.target.value),className:"input-field",children:[y.jsx("option",{value:"all",children:"All Categories"}),a.map(de=>y.jsx("option",{value:de.name,children:de.name},de.id))]}),y.jsxs("select",{value:T,onChange:de=>S(de.target.value),className:"input-field",children:[y.jsx("option",{value:"all",children:"All Types"}),y.jsx("option",{value:"mcq",children:"Multiple Choice"}),y.jsx("option",{value:"true-false",children:"True/False"}),y.jsx("option",{value:"short-answer",children:"Short Answer"}),y.jsx("option",{value:"drag-drop",children:"Drag & Drop"})]}),y.jsxs("select",{value:M,onChange:de=>j(de.target.value),className:"input-field",children:[y.jsx("option",{value:"all",children:"All Difficulties"}),y.jsx("option",{value:"easy",children:"Easy"}),y.jsx("option",{value:"medium",children:"Medium"}),y.jsx("option",{value:"hard",children:"Hard"})]})]})}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"card text-center",children:[y.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.length}),y.jsx("p",{className:"text-gray-600 mt-1",children:"Total Questions"})]}),y.jsxs("div",{className:"card text-center",children:[y.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.filter(de=>de.difficulty==="easy").length}),y.jsx("p",{className:"text-gray-600 mt-1",children:"Easy"})]}),y.jsxs("div",{className:"card text-center",children:[y.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:t.filter(de=>de.difficulty==="medium").length}),y.jsx("p",{className:"text-gray-600 mt-1",children:"Medium"})]}),y.jsxs("div",{className:"card text-center",children:[y.jsx("p",{className:"text-3xl font-bold text-red-600",children:t.filter(de=>de.difficulty==="hard").length}),y.jsx("p",{className:"text-gray-600 mt-1",children:"Hard"})]})]}),u?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),y.jsx("p",{className:"mt-4 text-gray-600",children:"Loading questions..."})]}):n.length===0?y.jsxs("div",{className:"card text-center py-12",children:[y.jsx("p",{className:"text-gray-600 text-lg",children:"No questions found"}),y.jsx("button",{onClick:L,className:"btn-primary mt-4",children:"Create Your First Question"})]}):y.jsx("div",{className:"grid gap-4",children:n.map((de,H)=>y.jsx(Jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:H*.05},className:"card",children:y.jsxs("div",{className:"flex items-start justify-between gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("span",{className:"text-2xl",children:P(de.type)}),y.jsx("span",{className:`badge ${ke(de.difficulty)}`,children:de.difficulty}),y.jsx("span",{className:"badge bg-blue-100 text-blue-800",children:de.category}),y.jsxs("span",{className:"badge bg-purple-100 text-purple-800",children:[de.points," pts"]})]}),y.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:de.question}),de.type==="mcq"&&de.options&&y.jsx("div",{className:"grid grid-cols-2 gap-2 mt-3",children:de.options.map((ne,he)=>y.jsxs("div",{className:`px-3 py-2 rounded-lg text-sm ${ne===de.correctAnswer?"bg-green-100 text-green-800 font-semibold":"bg-gray-100 text-gray-700"}`,children:[ne===de.correctAnswer&&y.jsx(_d,{className:"inline mr-2"}),ne]},he))})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>V(de),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",children:y.jsx(ov,{})}),y.jsx("button",{onClick:()=>N(de.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",children:y.jsx(vl,{})})]})]})},de.id))}),O&&y.jsx(k7,{question:ce,categories:a,onClose:()=>{B(!1),ue(null)},onSave:()=>{Q(),B(!1),ue(null)}}),k&&y.jsx(U7,{onClose:()=>G(!1),onImport:()=>{Q(),G(!1)}})]})},z7=()=>{const[t,e]=I.useState([]),[n,i]=I.useState(!0),[a,l]=I.useState(!1),[u,f]=I.useState(null),[d,p]=I.useState({name:"",description:"",color:"#8B5CF6"}),[v,b]=I.useState("");I.useEffect(()=>{T()},[]);const T=async()=>{try{i(!0);const k=await We.getAll("categories");e(k)}catch(k){console.error("Error loading categories:",k),alert("Error loading categories: "+k.message)}finally{i(!1)}},S=async k=>{if(k.preventDefault(),!d.name.trim()){alert("Please enter a category name");return}try{u?(await We.update("categories",u.id,d),alert("Category updated successfully!")):(await We.create("categories",{...d,createdAt:new Date}),alert("Category created successfully!")),l(!1),p({name:"",description:"",color:"#8B5CF6"}),f(null),T()}catch(G){console.error("Error saving category:",G),alert("Error saving category: "+G.message)}},M=k=>{f(k),p({name:k.name,description:k.description||"",color:k.color||"#8B5CF6"}),l(!0)},j=async k=>{if(confirm("Are you sure you want to delete this category? This cannot be undone."))try{await We.delete("categories",k),alert("Category deleted successfully!"),T()}catch(G){console.error("Error deleting category:",G),alert("Error deleting category: "+G.message)}},O=t.filter(k=>k.name.toLowerCase().includes(v.toLowerCase())||k.description&&k.description.toLowerCase().includes(v.toLowerCase())),B=[{name:"Purple",value:"#8B5CF6"},{name:"Blue",value:"#3B82F6"},{name:"Green",value:"#10B981"},{name:"Red",value:"#EF4444"},{name:"Yellow",value:"#F59E0B"},{name:"Pink",value:"#EC4899"},{name:"Indigo",value:"#6366F1"},{name:"Teal",value:"#14B8A6"}];return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Categories"}),y.jsx("p",{className:"text-gray-600 mt-1",children:"Organize your questions by subject or topic"})]}),y.jsxs("button",{onClick:()=>{f(null),p({name:"",description:"",color:"#8B5CF6"}),l(!0)},className:"btn-primary flex items-center gap-2",children:[y.jsx(ro,{})," Add Category"]})]}),y.jsx("div",{className:"card",children:y.jsxs("div",{className:"relative",children:[y.jsx(nC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search categories...",value:v,onChange:k=>b(k.target.value),className:"input pl-10 w-full"})]})}),n?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"}),y.jsx("p",{className:"mt-4 text-gray-600",children:"Loading categories..."})]}):O.length===0?y.jsxs("div",{className:"card text-center py-12",children:[y.jsx(JA,{className:"text-6xl text-gray-300 mx-auto mb-4"}),y.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:v?"No categories found":"No categories yet"}),y.jsx("p",{className:"text-gray-600 mb-4",children:v?"Try a different search term":"Create your first category to organize questions"}),!v&&y.jsxs("button",{onClick:()=>l(!0),className:"btn-primary",children:[y.jsx(ro,{className:"inline mr-2"})," Create Category"]})]}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(k=>y.jsxs("div",{className:"card hover:shadow-lg transition-shadow",style:{borderLeft:`4px solid ${k.color||"#8B5CF6"}`},children:[y.jsx("div",{className:"flex items-start justify-between mb-3",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white text-xl font-bold",style:{backgroundColor:k.color||"#8B5CF6"},children:k.name.charAt(0).toUpperCase()}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:k.name}),k.description&&y.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description})]})]})}),y.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[y.jsx("span",{className:"text-sm text-gray-500",children:k.createdAt&&new Date(k.createdAt.seconds*1e3).toLocaleDateString()}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>M(k),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:y.jsx(ov,{})}),y.jsx("button",{onClick:()=>j(k.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:y.jsx(vl,{})})]})]})]},k.id))}),a&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:u?"Edit Category":"Create Category"}),y.jsxs("form",{onSubmit:S,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name *"}),y.jsx("input",{type:"text",value:d.name,onChange:k=>p({...d,name:k.target.value}),className:"input w-full",placeholder:"e.g., Mathematics, Science, History",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),y.jsx("textarea",{value:d.description,onChange:k=>p({...d,description:k.target.value}),className:"input w-full",rows:"3",placeholder:"Brief description of this category"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),y.jsx("div",{className:"grid grid-cols-4 gap-2",children:B.map(k=>y.jsx("button",{type:"button",onClick:()=>p({...d,color:k.value}),className:`h-12 rounded-lg border-2 transition-all ${d.color===k.value?"border-gray-800 scale-110":"border-gray-200 hover:border-gray-400"}`,style:{backgroundColor:k.value},title:k.name},k.value))})]}),y.jsxs("div",{className:"flex gap-3 pt-4",children:[y.jsx("button",{type:"button",onClick:()=>{l(!1),f(null),p({name:"",description:"",color:"#8B5CF6"})},className:"btn-secondary flex-1",children:"Cancel"}),y.jsx("button",{type:"submit",className:"btn-primary flex-1",children:u?"Update":"Create"})]})]})]})})]})},F7=()=>{const[t,e]=I.useState([]),[n,i]=I.useState([]),[a,l]=I.useState([]),[u,f]=I.useState(!0),[d,p]=I.useState(!1),[v,b]=I.useState(null),[T,S]=I.useState({title:"",description:"",category:"",duration:30,passingScore:60,selectedQuestions:[],isActive:!0});I.useEffect(()=>{M()},[]);const M=async()=>{try{f(!0);const[Q,D,A]=await Promise.all([We.getAll("exams"),We.getAll("questions"),We.getAll("categories")]);e(Q),i(D),l(A)}catch(Q){console.error("Error loading data:",Q),alert("Error loading data: "+Q.message)}finally{f(!1)}},j=async Q=>{if(Q.preventDefault(),!T.title.trim()){alert("Please enter an exam title");return}if(T.selectedQuestions.length===0){alert("Please select at least one question");return}try{const D={...T,totalQuestions:T.selectedQuestions.length,totalPoints:T.selectedQuestions.reduce((A,N)=>{const V=n.find(L=>L.id===N);return A+(V?.points||0)},0),updatedAt:new Date};v?(await We.update("exams",v.id,D),alert("Exam updated successfully!")):(await We.create("exams",{...D,createdAt:new Date}),alert("Exam created successfully!")),p(!1),O(),M()}catch(D){console.error("Error saving exam:",D),alert("Error saving exam: "+D.message)}},O=()=>{S({title:"",description:"",category:"",duration:30,passingScore:60,selectedQuestions:[],isActive:!0}),b(null)},B=Q=>{b(Q),S({title:Q.title,description:Q.description||"",category:Q.category||"",duration:Q.duration||30,passingScore:Q.passingScore||60,selectedQuestions:Q.selectedQuestions||[],isActive:Q.isActive!==!1}),p(!0)},k=async Q=>{if(confirm("Are you sure you want to delete this exam? This cannot be undone."))try{await We.delete("exams",Q),alert("Exam deleted successfully!"),M()}catch(D){console.error("Error deleting exam:",D),alert("Error deleting exam: "+D.message)}},G=async Q=>{try{await We.update("exams",Q.id,{isActive:!Q.isActive}),M()}catch(D){console.error("Error toggling exam status:",D),alert("Error updating exam status: "+D.message)}},ce=Q=>{S(D=>({...D,selectedQuestions:D.selectedQuestions.includes(Q)?D.selectedQuestions.filter(A=>A!==Q):[...D.selectedQuestions,Q]}))},ue=T.category?n.filter(Q=>Q.category===T.category):n;return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Exams"}),y.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage exams for students"})]}),y.jsxs("button",{onClick:()=>{O(),p(!0)},className:"btn-primary flex items-center gap-2",children:[y.jsx(ro,{})," Create Exam"]})]}),u?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"}),y.jsx("p",{className:"mt-4 text-gray-600",children:"Loading exams..."})]}):t.length===0?y.jsxs("div",{className:"card text-center py-12",children:[y.jsx(Ti,{className:"text-6xl text-gray-300 mx-auto mb-4"}),y.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No exams yet"}),y.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first exam to get started"}),y.jsxs("button",{onClick:()=>p(!0),className:"btn-primary",children:[y.jsx(ro,{className:"inline mr-2"})," Create Exam"]})]}):y.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(Q=>y.jsx("div",{className:"card hover:shadow-lg transition-shadow",children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:Q.title}),y.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${Q.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:Q.isActive?"Active":"Inactive"})]}),Q.description&&y.jsx("p",{className:"text-gray-600 mb-3",children:Q.description}),y.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ti,{className:"text-purple-600"}),y.jsxs("span",{children:[Q.totalQuestions," Questions"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(xi,{className:"text-yellow-600"}),y.jsxs("span",{children:[Q.totalPoints," Points"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(av,{className:"text-blue-600"}),y.jsxs("span",{children:[Q.duration," Minutes"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"font-semibold",children:"Passing:"}),y.jsxs("span",{children:[Q.passingScore,"%"]})]}),Q.category&&y.jsx("div",{className:"flex items-center gap-2",children:y.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs font-semibold",children:Q.category})})]})]}),y.jsxs("div",{className:"flex gap-2 ml-4",children:[y.jsx("button",{onClick:()=>G(Q),className:`p-2 rounded-lg transition-colors ${Q.isActive?"text-green-600 hover:bg-green-50":"text-gray-600 hover:bg-gray-50"}`,title:Q.isActive?"Deactivate":"Activate",children:Q.isActive?y.jsx(Jj,{size:24}):y.jsx(Zj,{size:24})}),y.jsx("button",{onClick:()=>B(Q),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:y.jsx(ov,{})}),y.jsx("button",{onClick:()=>k(Q.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:y.jsx(vl,{})})]})]})},Q.id))}),d&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:y.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full p-6 my-8",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:v?"Edit Exam":"Create Exam"}),y.jsxs("form",{onSubmit:j,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exam Title *"}),y.jsx("input",{type:"text",value:T.title,onChange:Q=>S({...T,title:Q.target.value}),className:"input w-full",placeholder:"e.g., Mathematics Final Exam",required:!0})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),y.jsx("textarea",{value:T.description,onChange:Q=>S({...T,description:Q.target.value}),className:"input w-full",rows:"2",placeholder:"Brief description of the exam"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),y.jsxs("select",{value:T.category,onChange:Q=>S({...T,category:Q.target.value,selectedQuestions:[]}),className:"input w-full",children:[y.jsx("option",{value:"",children:"All Categories"}),a.map(Q=>y.jsx("option",{value:Q.name,children:Q.name},Q.id))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes) *"}),y.jsx("input",{type:"number",value:T.duration,onChange:Q=>S({...T,duration:parseInt(Q.target.value)}),className:"input w-full",min:"1",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Passing Score (%) *"}),y.jsx("input",{type:"number",value:T.passingScore,onChange:Q=>S({...T,passingScore:parseInt(Q.target.value)}),className:"input w-full",min:"0",max:"100",required:!0})]}),y.jsx("div",{children:y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:T.isActive,onChange:Q=>S({...T,isActive:Q.target.checked}),className:"w-4 h-4 text-purple-600 rounded"}),y.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active (visible to students)"})]})})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Questions * (",T.selectedQuestions.length," selected)"]}),y.jsx("div",{className:"border border-gray-300 rounded-lg max-h-64 overflow-y-auto p-4 space-y-2",children:ue.length===0?y.jsx("p",{className:"text-gray-500 text-center py-4",children:"No questions available. Please create questions first."}):ue.map(Q=>y.jsxs("label",{className:"flex items-start gap-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:T.selectedQuestions.includes(Q.id),onChange:()=>ce(Q.id),className:"mt-1 w-4 h-4 text-purple-600 rounded"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-gray-800",children:Q.question}),y.jsxs("div",{className:"flex gap-2 mt-1 text-xs text-gray-600",children:[y.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:Q.type}),y.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded",children:[Q.points," pts"]}),Q.category&&y.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded",children:Q.category})]})]})]},Q.id))})]}),y.jsxs("div",{className:"flex gap-3 pt-4",children:[y.jsx("button",{type:"button",onClick:()=>{p(!1),O()},className:"btn-secondary flex-1",children:"Cancel"}),y.jsx("button",{type:"submit",className:"btn-primary flex-1",children:v?"Update Exam":"Create Exam"})]})]})]})})]})},H7=()=>{const[t,e]=I.useState([]),[n,i]=I.useState(!0);I.useEffect(()=>{a()},[]);const a=async()=>{try{const[l,u]=await Promise.all([We.getAll("users"),We.getAll("examResults")]),f=l.filter(d=>d.role==="student").map(d=>{const p=u.filter(T=>T.studentId===d.uid),v=p.length,b=v>0?Math.round(p.reduce((T,S)=>T+S.percentage,0)/v):0;return{...d,totalExams:v,avgScore:b,points:d.points||0,level:d.level||1}});e(f)}catch(l){console.error("Error loading students:",l)}finally{i(!1)}};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Students"}),y.jsx("p",{className:"text-gray-600 mt-1",children:"View all registered students and their performance"})]}),n?y.jsx("div",{className:"text-center py-12",children:y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):t.length===0?y.jsxs("div",{className:"card text-center py-12",children:[y.jsx(e8,{className:"text-6xl text-gray-300 mx-auto mb-4"}),y.jsx("p",{className:"text-gray-600",children:"No students registered yet"})]}):y.jsx("div",{className:"card overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"border-b",children:[y.jsx("th",{className:"text-left py-3 px-4",children:"Student"}),y.jsx("th",{className:"text-center py-3 px-4",children:"Level"}),y.jsx("th",{className:"text-center py-3 px-4",children:"Points"}),y.jsx("th",{className:"text-center py-3 px-4",children:"Exams Taken"}),y.jsx("th",{className:"text-center py-3 px-4",children:"Avg Score"}),y.jsx("th",{className:"text-left py-3 px-4",children:"Email"})]})}),y.jsx("tbody",{children:t.map(l=>y.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[y.jsx("td",{className:"py-3 px-4",children:y.jsxs("div",{className:"flex items-center gap-3",children:[l.photoURL?y.jsx("img",{src:l.photoURL,alt:"",className:"w-10 h-10 rounded-full"}):y.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center text-white font-bold",children:l.displayName?.charAt(0)||"U"}),y.jsx("span",{className:"font-semibold",children:l.displayName||"Unknown"})]})}),y.jsx("td",{className:"py-3 px-4 text-center",children:y.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full font-semibold",children:l.level})}),y.jsx("td",{className:"py-3 px-4 text-center font-semibold",children:l.points}),y.jsx("td",{className:"py-3 px-4 text-center",children:l.totalExams}),y.jsx("td",{className:"py-3 px-4 text-center",children:y.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${l.avgScore>=80?"bg-green-100 text-green-800":l.avgScore>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[l.avgScore,"%"]})}),y.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:l.email})]},l.uid))})]})})]})},q7=()=>{const[t,e]=I.useState(!0),{signOut:n,userProfile:i}=Si(),a=Ol(),l=Ei(),u=async()=>{try{await n(),a("/")}catch(T){console.error("Error signing out:",T)}},f=[{path:"/student",icon:eC,label:"Dashboard",exact:!0},{path:"/student/exams",icon:Ti,label:"Exams"},{path:"/student/results",icon:ZA,label:"My Results"},{path:"/student/leaderboard",icon:xi,label:"Leaderboard"}],d=(T,S=!1)=>S?l.pathname===T:l.pathname.startsWith(T),p=(i?.level||1)*100,b=(i?.points||0)%100/100*100;return y.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50",children:[y.jsx(Mv,{children:t&&y.jsx(Jt.aside,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",stiffness:300,damping:30},className:"fixed lg:static inset-y-0 left-0 z-50 w-64 bg-gradient-to-b from-purple-600 via-pink-600 to-blue-600 text-white shadow-2xl",children:y.jsxs("div",{className:"flex flex-col h-full",children:[y.jsxs("div",{className:"p-6 border-b border-white/20",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold",children:"ExamQuest"}),y.jsx("button",{onClick:()=>e(!1),className:"lg:hidden text-white hover:bg-white/20 p-2 rounded-lg",children:y.jsx(Eu,{})})]}),y.jsx("p",{className:"text-sm text-white/80 mt-2",children:"Student Portal"})]}),y.jsx("div",{className:"p-4",children:y.jsxs("div",{className:"bg-white/20 backdrop-blur-lg rounded-2xl p-4 border border-white/30",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx("img",{src:i?.photoURL||"https://via.placeholder.com/40",alt:"Profile",className:"w-12 h-12 rounded-full border-2 border-white"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"font-semibold truncate",children:i?.displayName}),y.jsxs("div",{className:"flex items-center gap-1 text-yellow-300",children:[y.jsx(bd,{className:"text-sm"}),y.jsxs("span",{className:"text-sm",children:["Level ",i?.level||1]})]})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex justify-between text-xs",children:[y.jsxs("span",{children:[i?.points||0," XP"]}),y.jsxs("span",{children:[p," XP"]})]}),y.jsx("div",{className:"h-2 bg-white/30 rounded-full overflow-hidden",children:y.jsx(Jt.div,{className:"h-full bg-gradient-to-r from-yellow-400 to-orange-400",initial:{width:0},animate:{width:`${b}%`},transition:{duration:1,ease:"easeOut"}})})]}),y.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3 bg-orange-500/30 rounded-lg py-2",children:[y.jsx(Yj,{className:"text-orange-300"}),y.jsxs("span",{className:"text-sm font-semibold",children:[i?.streak||0," Day Streak!"]})]})]})}),y.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:f.map(T=>y.jsxs(yr,{to:T.path,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${d(T.path,T.exact)?"bg-white text-purple-600 shadow-lg":"text-white hover:bg-white/20"}`,children:[y.jsx(T.icon,{className:"text-xl"}),y.jsx("span",{className:"font-medium",children:T.label})]},T.path))}),y.jsx("div",{className:"p-4 border-t border-white/20",children:y.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:[y.jsx(rC,{}),y.jsx("span",{children:"Sign Out"})]})})]})})}),y.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[y.jsx("header",{className:"bg-white/80 backdrop-blur-lg shadow-md px-6 py-4 sticky top-0 z-40",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("button",{onClick:()=>e(!t),className:"text-gray-600 hover:text-gray-900 p-2 rounded-lg hover:bg-gray-100",children:y.jsx(WA,{className:"text-xl"})}),y.jsx("div",{className:"flex items-center gap-4",children:y.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[y.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-yellow-400 to-orange-400 text-white px-4 py-2 rounded-full font-semibold shadow-lg",children:[y.jsx(bd,{}),y.jsxs("span",{children:[i?.points||0," XP"]})]}),y.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-full font-semibold shadow-lg",children:[y.jsx(xi,{}),y.jsxs("span",{children:["Level ",i?.level||1]})]})]})})]})}),y.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:y.jsx(tw,{})})]}),t&&y.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>e(!1)})]})},G7=()=>{const{userProfile:t}=Si(),[e,n]=I.useState({totalExams:0,averageScore:0,totalPoints:0}),[i,a]=I.useState([]),[l,u]=I.useState(!0);I.useEffect(()=>{f()},[]);const f=async()=>{try{const d=await We.getWhere("examResults","studentId","==",t.uid);if(a(d.slice(0,5)),d.length>0){const p=d.reduce((v,b)=>v+b.percentage,0);n({totalExams:d.length,averageScore:Math.round(p/d.length),totalPoints:t.points||0})}}catch(d){console.error("Error:",d)}finally{u(!1)}};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"card bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:[y.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",t?.displayName,"! 👋"]}),y.jsx("p",{children:"Ready to level up your knowledge?"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsx("div",{className:"card bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-white/80 text-sm",children:"Total Points"}),y.jsx("p",{className:"text-3xl font-bold",children:e.totalPoints})]}),y.jsx(bd,{className:"text-4xl text-white/30"})]})}),y.jsx("div",{className:"card bg-gradient-to-br from-green-500 to-green-600 text-white",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-white/80 text-sm",children:"Exams Taken"}),y.jsx("p",{className:"text-3xl font-bold",children:e.totalExams})]}),y.jsx(Ti,{className:"text-4xl text-white/30"})]})}),y.jsx("div",{className:"card bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-white/80 text-sm",children:"Average Score"}),y.jsxs("p",{className:"text-3xl font-bold",children:[e.averageScore,"%"]})]}),y.jsx(xi,{className:"text-4xl text-white/30"})]})})]}),y.jsxs("div",{className:"card",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Recent Exams"}),y.jsx(yr,{to:"/student/results",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"View All →"})]}),l?y.jsx("div",{className:"text-center py-8",children:y.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):i.length===0?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("p",{className:"text-gray-600 mb-4",children:"No exams taken yet"}),y.jsx(yr,{to:"/student/exams",className:"btn-primary",children:"Start Your First Exam"})]}):y.jsx("div",{className:"space-y-3",children:i.map((d,p)=>y.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-gray-800",children:d.examTitle}),y.jsx("p",{className:"text-sm text-gray-600",children:d.completedAt&&new Date(d.completedAt.seconds*1e3).toLocaleDateString()})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[d.percentage,"%"]}),y.jsxs("p",{className:"text-xs text-gray-600",children:[d.score,"/",d.totalPoints," points"]})]})]},p))})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(yr,{to:"/student/exams",children:y.jsx("div",{className:"card bg-gradient-to-r from-blue-500 to-purple-600 text-white cursor-pointer hover:shadow-lg",children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(Ti,{className:"text-4xl"}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold",children:"Take an Exam"}),y.jsx("p",{className:"text-white/80",children:"Challenge yourself today!"})]})]})})}),y.jsx(yr,{to:"/student/leaderboard",children:y.jsx("div",{className:"card bg-gradient-to-r from-yellow-500 to-orange-600 text-white cursor-pointer hover:shadow-lg",children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(xi,{className:"text-4xl"}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold",children:"Leaderboard"}),y.jsx("p",{className:"text-white/80",children:"See where you rank!"})]})]})})})]})]})},$7=()=>{const[t,e]=I.useState([]),[n,i]=I.useState(!0);I.useEffect(()=>{a()},[]);const a=async()=>{try{const u=(await We.getAll("exams")).filter(f=>f.isActive!==!1);e(u)}catch(l){console.error("Error:",l)}finally{i(!1)}};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Available Exams"}),y.jsx("p",{className:"text-gray-600 mt-1",children:"Choose an exam to test your knowledge"})]}),n?y.jsx("div",{className:"text-center py-12",children:y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):t.length===0?y.jsxs("div",{className:"card text-center py-12",children:[y.jsx(Ti,{className:"text-6xl text-gray-300 mx-auto mb-4"}),y.jsx("p",{className:"text-gray-600",children:"No exams available at the moment"})]}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(l=>y.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[y.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:l.title}),l.description&&y.jsx("p",{className:"text-gray-600 mb-4",children:l.description}),y.jsxs("div",{className:"flex flex-wrap gap-3 mb-4 text-sm text-gray-600",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ti,{className:"text-purple-600"}),y.jsxs("span",{children:[l.totalQuestions," Questions"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(xi,{className:"text-yellow-600"}),y.jsxs("span",{children:[l.totalPoints," Points"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(av,{className:"text-blue-600"}),y.jsxs("span",{children:[l.duration," Minutes"]})]})]}),y.jsx(yr,{to:`/student/exam/${l.id}`,className:"btn-primary w-full text-center",children:"Start Exam"})]},l.id))})]})},L4=I.createContext({dragDropManager:void 0});function fr(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var N2=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),D2=function(){return Math.random().toString(36).substring(7).split("").join(".")},I2={INIT:"@@redux/INIT"+D2(),REPLACE:"@@redux/REPLACE"+D2()};function K7(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function k4(t,e,n){var i;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(fr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(fr(1));return n(k4)(t,e)}if(typeof t!="function")throw new Error(fr(2));var a=t,l=e,u=[],f=u,d=!1;function p(){f===u&&(f=u.slice())}function v(){if(d)throw new Error(fr(3));return l}function b(j){if(typeof j!="function")throw new Error(fr(4));if(d)throw new Error(fr(5));var O=!0;return p(),f.push(j),function(){if(O){if(d)throw new Error(fr(6));O=!1,p();var k=f.indexOf(j);f.splice(k,1),u=null}}}function T(j){if(!K7(j))throw new Error(fr(7));if(typeof j.type>"u")throw new Error(fr(8));if(d)throw new Error(fr(9));try{d=!0,l=a(l,j)}finally{d=!1}for(var O=u=f,B=0;B<O.length;B++){var k=O[B];k()}return j}function S(j){if(typeof j!="function")throw new Error(fr(10));a=j,T({type:I2.REPLACE})}function M(){var j,O=b;return j={subscribe:function(k){if(typeof k!="object"||k===null)throw new Error(fr(11));function G(){k.next&&k.next(v())}G();var ce=O(G);return{unsubscribe:ce}}},j[N2]=function(){return this},j}return T({type:I2.INIT}),i={dispatch:T,subscribe:b,getState:v,replaceReducer:S},i[N2]=M,i}function je(t,e,...n){if(Q7()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let i;if(e===void 0)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;i=new Error(e.replace(/%s/g,function(){return n[a++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}function Q7(){return typeof process<"u"&&!0}function Y7(t,e,n){return e.split(".").reduce((i,a)=>i&&i[a]?i[a]:n||null,t)}function X7(t,e){return t.filter(n=>n!==e)}function U4(t){return typeof t=="object"}function W7(t,e){const n=new Map,i=l=>{n.set(l,n.has(l)?n.get(l)+1:1)};t.forEach(i),e.forEach(i);const a=[];return n.forEach((l,u)=>{l===1&&a.push(u)}),a}function Z7(t,e){return t.filter(n=>e.indexOf(n)>-1)}const Hv="dnd-core/INIT_COORDS",im="dnd-core/BEGIN_DRAG",qv="dnd-core/PUBLISH_DRAG_SOURCE",sm="dnd-core/HOVER",am="dnd-core/DROP",om="dnd-core/END_DRAG";function O2(t,e){return{type:Hv,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const J7={type:Hv,payload:{clientOffset:null,sourceClientOffset:null}};function eU(t){return function(n=[],i={publishSource:!0}){const{publishSource:a=!0,clientOffset:l,getSourceClientOffset:u}=i,f=t.getMonitor(),d=t.getRegistry();t.dispatch(O2(l)),tU(n,f,d);const p=iU(n,f);if(p==null){t.dispatch(J7);return}let v=null;if(l){if(!u)throw new Error("getSourceClientOffset must be defined");nU(u),v=u(p)}t.dispatch(O2(l,v));const T=d.getSource(p).beginDrag(f,p);if(T==null)return;rU(T),d.pinSource(p);const S=d.getSourceType(p);return{type:im,payload:{itemType:S,item:T,sourceId:p,clientOffset:l||null,sourceClientOffset:v||null,isSourcePublic:!!a}}}}function tU(t,e,n){je(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(i){je(n.getSource(i),"Expected sourceIds to be registered.")})}function nU(t){je(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function rU(t){je(U4(t),"Item must be an object.")}function iU(t,e){let n=null;for(let i=t.length-1;i>=0;i--)if(e.canDragSource(t[i])){n=t[i];break}return n}function sU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),i.forEach(function(a){sU(t,a,n[a])})}return t}function oU(t){return function(n={}){const i=t.getMonitor(),a=t.getRegistry();lU(i),hU(i).forEach((u,f)=>{const d=cU(u,f,a,i),p={type:am,payload:{dropResult:aU({},n,d)}};t.dispatch(p)})}}function lU(t){je(t.isDragging(),"Cannot call drop while not dragging."),je(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function cU(t,e,n,i){const a=n.getTarget(t);let l=a?a.drop(i,t):void 0;return uU(l),typeof l>"u"&&(l=e===0?{}:i.getDropResult()),l}function uU(t){je(typeof t>"u"||U4(t),"Drop result must either be an object or undefined.")}function hU(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function fU(t){return function(){const n=t.getMonitor(),i=t.getRegistry();dU(n);const a=n.getSourceId();return a!=null&&(i.getSource(a,!0).endDrag(n,a),i.unpinSource()),{type:om}}}function dU(t){je(t.isDragging(),"Cannot call endDrag while not dragging.")}function Gy(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function mU(t){return function(n,{clientOffset:i}={}){pU(n);const a=n.slice(0),l=t.getMonitor(),u=t.getRegistry(),f=l.getItemType();return yU(a,u,f),gU(a,l,u),vU(a,l,u),{type:sm,payload:{targetIds:a,clientOffset:i||null}}}}function pU(t){je(Array.isArray(t),"Expected targetIds to be an array.")}function gU(t,e,n){je(e.isDragging(),"Cannot call hover while not dragging."),je(!e.didDrop(),"Cannot call hover after drop.");for(let i=0;i<t.length;i++){const a=t[i];je(t.lastIndexOf(a)===i,"Expected targetIds to be unique in the passed array.");const l=n.getTarget(a);je(l,"Expected targetIds to be registered.")}}function yU(t,e,n){for(let i=t.length-1;i>=0;i--){const a=t[i],l=e.getTargetType(a);Gy(l,n)||t.splice(i,1)}}function vU(t,e,n){t.forEach(function(i){n.getTarget(i).hover(e,i)})}function _U(t){return function(){if(t.getMonitor().isDragging())return{type:qv}}}function bU(t){return{beginDrag:eU(t),publishDragSource:_U(t),hover:mU(t),drop:oU(t),endDrag:fU(t)}}class TU{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function i(l){return(...u)=>{const f=l.apply(e,u);typeof f<"u"&&n(f)}}const a=bU(this);return Object.keys(a).reduce((l,u)=>{const f=a[u];return l[u]=i(f),l},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const i=this.store.getState().refCount>0;this.backend&&(i&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!i&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function xU(t,e){return{x:t.x+e.x,y:t.y+e.y}}function B4(t,e){return{x:t.x-e.x,y:t.y-e.y}}function EU(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:i}=t;return!e||!n||!i?null:B4(xU(e,i),n)}function wU(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:B4(e,n)}const hu=[],Gv=[];hu.__IS_NONE__=!0;Gv.__IS_ALL__=!0;function SU(t,e){return t===hu?!1:t===Gv||typeof e>"u"?!0:Z7(e,t).length>0}class AU{subscribeToStateChange(e,n={}){const{handlerIds:i}=n;je(typeof e=="function","listener must be a function."),je(typeof i>"u"||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId;const l=()=>{const u=this.store.getState(),f=u.stateId;try{f===a||f===a+1&&!SU(u.dirtyHandlerIds,i)||e()}finally{a=f}};return this.store.subscribe(l)}subscribeToOffsetChange(e){je(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const i=()=>{const a=this.store.getState().dragOffset;a!==n&&(n=a,e())};return this.store.subscribe(i)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return je(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(je(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const i=this.registry.getTargetType(e),a=this.getItemType();return Gy(i,a)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(je(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const i=this.registry.getSourceType(e),a=this.getItemType();return i!==a?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:i}=n;if(!this.isDragging())return!1;const a=this.registry.getTargetType(e),l=this.getItemType();if(l&&!Gy(a,l))return!1;const u=this.getTargetIds();if(!u.length)return!1;const f=u.indexOf(e);return i?f===u.length-1:f>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return EU(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return wU(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const M2=typeof global<"u"?global:self,z4=M2.MutationObserver||M2.WebKitMutationObserver;function F4(t){return function(){const n=setTimeout(a,0),i=setInterval(a,50);function a(){clearTimeout(n),clearInterval(i),t()}}}function CU(t){let e=1;const n=new z4(t),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}const RU=typeof z4=="function"?CU:F4;class NU{enqueueTask(e){const{queue:n,requestFlush:i}=this;n.length||(i(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let i=0,a=e.length-this.index;i<a;i++)e[i]=e[i+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=RU(this.flush),this.requestErrorThrow=F4(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class DU{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class IU{create(e){const n=this.freeTasks,i=n.length?n.pop():new DU(this.onError,a=>n[n.length]=a);return i.task=e,i}constructor(e){this.onError=e,this.freeTasks=[]}}const H4=new NU,OU=new IU(H4.registerPendingError);function MU(t){H4.enqueueTask(OU.create(t))}const $v="dnd-core/ADD_SOURCE",Kv="dnd-core/ADD_TARGET",Qv="dnd-core/REMOVE_SOURCE",lm="dnd-core/REMOVE_TARGET";function PU(t){return{type:$v,payload:{sourceId:t}}}function VU(t){return{type:Kv,payload:{targetId:t}}}function jU(t){return{type:Qv,payload:{sourceId:t}}}function LU(t){return{type:lm,payload:{targetId:t}}}function kU(t){je(typeof t.canDrag=="function","Expected canDrag to be a function."),je(typeof t.beginDrag=="function","Expected beginDrag to be a function."),je(typeof t.endDrag=="function","Expected endDrag to be a function.")}function UU(t){je(typeof t.canDrop=="function","Expected canDrop to be a function."),je(typeof t.hover=="function","Expected hover to be a function."),je(typeof t.drop=="function","Expected beginDrag to be a function.")}function $y(t,e){if(e&&Array.isArray(t)){t.forEach(n=>$y(n,!1));return}je(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var mr;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(mr||(mr={}));let BU=0;function zU(){return BU++}function FU(t){const e=zU().toString();switch(t){case mr.SOURCE:return`S${e}`;case mr.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function P2(t){switch(t[0]){case"S":return mr.SOURCE;case"T":return mr.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function V2(t,e){const n=t.entries();let i=!1;do{const{done:a,value:[,l]}=n.next();if(l===e)return!0;i=!!a}while(!i);return!1}class HU{addSource(e,n){$y(e),kU(n);const i=this.addHandler(mr.SOURCE,e,n);return this.store.dispatch(PU(i)),i}addTarget(e,n){$y(e,!0),UU(n);const i=this.addHandler(mr.TARGET,e,n);return this.store.dispatch(VU(i)),i}containsHandler(e){return V2(this.dragSources,e)||V2(this.dropTargets,e)}getSource(e,n=!1){return je(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return je(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return je(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return je(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return P2(e)===mr.SOURCE}isTargetId(e){return P2(e)===mr.TARGET}removeSource(e){je(this.getSource(e),"Expected an existing source."),this.store.dispatch(jU(e)),MU(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){je(this.getTarget(e),"Expected an existing target."),this.store.dispatch(LU(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);je(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){je(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,i){const a=FU(e);return this.types.set(a,n),e===mr.SOURCE?this.dragSources.set(a,i):e===mr.TARGET&&this.dropTargets.set(a,i),a}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const qU=(t,e)=>t===e;function GU(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function $U(t,e,n=qU){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!n(t[i],e[i]))return!1;return!0}function KU(t=hu,e){switch(e.type){case sm:break;case $v:case Kv:case lm:case Qv:return hu;case im:case qv:case om:case am:default:return Gv}const{targetIds:n=[],prevTargetIds:i=[]}=e.payload,a=W7(n,i);if(!(a.length>0||!$U(n,i)))return hu;const u=i[i.length-1],f=n[n.length-1];return u!==f&&(u&&a.push(u),f&&a.push(f)),a}function QU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),i.forEach(function(a){QU(t,a,n[a])})}return t}const j2={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function XU(t=j2,e){const{payload:n}=e;switch(e.type){case Hv:case im:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case sm:return GU(t.clientOffset,n.clientOffset)?t:YU({},t,{clientOffset:n.clientOffset});case om:case am:return j2;default:return t}}function WU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),i.forEach(function(a){WU(t,a,n[a])})}return t}const ZU={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function JU(t=ZU,e){const{payload:n}=e;switch(e.type){case im:return tl({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case qv:return tl({},t,{isSourcePublic:!0});case sm:return tl({},t,{targetIds:n.targetIds});case lm:return t.targetIds.indexOf(n.targetId)===-1?t:tl({},t,{targetIds:X7(t.targetIds,n.targetId)});case am:return tl({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case om:return tl({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function eB(t=0,e){switch(e.type){case $v:case Kv:return t+1;case Qv:case lm:return t-1;default:return t}}function tB(t=0){return t+1}function nB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),i.forEach(function(a){nB(t,a,n[a])})}return t}function iB(t={},e){return{dirtyHandlerIds:KU(t.dirtyHandlerIds,{type:e.type,payload:rB({},e.payload,{prevTargetIds:Y7(t,"dragOperation.targetIds",[])})}),dragOffset:XU(t.dragOffset,e),refCount:eB(t.refCount,e),dragOperation:JU(t.dragOperation,e),stateId:tB(t.stateId)}}function sB(t,e=void 0,n={},i=!1){const a=aB(i),l=new AU(a,new HU(a)),u=new TU(a,l),f=t(u,e,n);return u.receiveBackend(f),u}function aB(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return k4(iB,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function oB(t,e){if(t==null)return{};var n=lB(t,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function lB(t,e){if(t==null)return{};var n={},i=Object.keys(t),a,l;for(l=0;l<i.length;l++)a=i[l],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}let L2=0;const Xf=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var cB=I.memo(function(e){var{children:n}=e,i=oB(e,["children"]);const[a,l]=uB(i);return I.useEffect(()=>{if(l){const u=q4();return++L2,()=>{--L2===0&&(u[Xf]=null)}}},[]),y.jsx(L4.Provider,{value:a,children:n})});function uB(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=hB(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function hB(t,e=q4(),n,i){const a=e;return a[Xf]||(a[Xf]={dragDropManager:sB(t,e,n,i)}),a[Xf]}function q4(){return typeof global<"u"?global:window}var Hg,k2;function fB(){return k2||(k2=1,Hg=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,a,l;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(a=i;a--!==0;)if(!t(e[a],n[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(l=Object.keys(e),i=l.length,i!==Object.keys(n).length)return!1;for(a=i;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,l[a]))return!1;for(a=i;a--!==0;){var u=l[a];if(!t(e[u],n[u]))return!1}return!0}return e!==e&&n!==n}),Hg}var dB=fB();const mB=q2(dB),io=typeof window<"u"?I.useLayoutEffect:I.useEffect;function pB(t,e,n){const[i,a]=I.useState(()=>e(t)),l=I.useCallback(()=>{const u=e(t);mB(i,u)||(a(u),n&&n())},[i,t,n]);return io(l),[i,l]}function gB(t,e,n){const[i,a]=pB(t,e,n);return io(function(){const u=t.getHandlerId();if(u!=null)return t.subscribeToStateChange(a,{handlerIds:[u]})},[t,a]),i}function G4(t,e,n){return gB(e,t||(()=>({})),()=>n.reconnect())}function $4(t,e){const n=[];return typeof t!="function"&&n.push(t),I.useMemo(()=>typeof t=="function"?t():t,n)}function yB(t){return I.useMemo(()=>t.hooks.dragSource(),[t])}function vB(t){return I.useMemo(()=>t.hooks.dragPreview(),[t])}let qg=!1,Gg=!1;class _B{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){je(!qg,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return qg=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{qg=!1}}isDragging(){if(!this.sourceId)return!1;je(!Gg,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Gg=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Gg=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let $g=!1;class bB{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;je(!$g,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return $g=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{$g=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function TB(t,e,n){const i=n.getRegistry(),a=i.addTarget(t,e);return[a,()=>i.removeTarget(a)]}function xB(t,e,n){const i=n.getRegistry(),a=i.addSource(t,e);return[a,()=>i.removeSource(a)]}function Ky(t,e,n,i){let a;if(a!==void 0)return!!a;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const l=Object.keys(t),u=Object.keys(e);if(l.length!==u.length)return!1;const f=Object.prototype.hasOwnProperty.bind(e);for(let d=0;d<l.length;d++){const p=l[d];if(!f(p))return!1;const v=t[p],b=e[p];if(a=void 0,a===!1||a===void 0&&v!==b)return!1}return!0}function Qy(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function EB(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function wB(t){return(e=null,n=null)=>{if(!I.isValidElement(e)){const l=e;return t(l,n),l}const i=e;return EB(i),SB(i,n?l=>t(l,n):t)}}function K4(t){const e={};return Object.keys(t).forEach(n=>{const i=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const a=wB(i);e[n]=()=>a}}),e}function U2(t,e){typeof t=="function"?t(e):t.current=e}function SB(t,e){const n=t.ref;return je(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?I.cloneElement(t,{ref:i=>{U2(n,i),U2(e,i)}}):I.cloneElement(t,{ref:e})}class AB{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,i=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(i&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}i&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Ky(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Ky(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=K4({dragSource:(n,i)=>{this.clearDragSource(),this.dragSourceOptions=i||null,Qy(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,i)=>{this.clearDragPreview(),this.dragPreviewOptions=i||null,Qy(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class CB{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Ky(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=K4({dropTarget:(n,i)=>{this.clearDropTarget(),this.dropTargetOptions=i,Qy(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function Fl(){const{dragDropManager:t}=I.useContext(L4);return je(t!=null,"Expected drag drop context"),t}function RB(t,e){const n=Fl(),i=I.useMemo(()=>new AB(n.getBackend()),[n]);return io(()=>(i.dragSourceOptions=t||null,i.reconnect(),()=>i.disconnectDragSource()),[i,t]),io(()=>(i.dragPreviewOptions=e||null,i.reconnect(),()=>i.disconnectDragPreview()),[i,e]),i}function NB(){const t=Fl();return I.useMemo(()=>new _B(t),[t])}class DB{beginDrag(){const e=this.spec,n=this.monitor;let i=null;return typeof e.item=="object"?i=e.item:typeof e.item=="function"?i=e.item(n):i={},i??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const i=this.spec,a=this.monitor,{isDragging:l}=i;return l?l(a):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,i=this.connector,{end:a}=e;a&&a(n.getItem(),n),i.reconnect()}constructor(e,n,i){this.spec=e,this.monitor=n,this.connector=i}}function IB(t,e,n){const i=I.useMemo(()=>new DB(t,e,n),[e,n]);return I.useEffect(()=>{i.spec=t},[t]),i}function OB(t){return I.useMemo(()=>{const e=t.type;return je(e!=null,"spec.type must be defined"),e},[t])}function MB(t,e,n){const i=Fl(),a=IB(t,e,n),l=OB(t);io(function(){if(l!=null){const[f,d]=xB(l,a,i);return e.receiveHandlerId(f),n.receiveHandlerId(f),d}},[i,e,n,a,l])}function PB(t,e){const n=$4(t);je(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const i=NB(),a=RB(n.options,n.previewOptions);return MB(n,i,a),[G4(n.collect,i,a),yB(a),vB(a)]}function VB(t){return I.useMemo(()=>t.hooks.dropTarget(),[t])}function jB(t){const e=Fl(),n=I.useMemo(()=>new CB(e.getBackend()),[e]);return io(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function LB(){const t=Fl();return I.useMemo(()=>new bB(t),[t])}function kB(t){const{accept:e}=t;return I.useMemo(()=>(je(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class UB{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function BB(t,e){const n=I.useMemo(()=>new UB(t,e),[e]);return I.useEffect(()=>{n.spec=t},[t]),n}function zB(t,e,n){const i=Fl(),a=BB(t,e),l=kB(t);io(function(){const[f,d]=TB(l,a,i);return e.receiveHandlerId(f),n.receiveHandlerId(f),d},[i,e,a,n,l.map(u=>u.toString()).join("|")])}function FB(t,e){const n=$4(t),i=LB(),a=jB(n.options);return zB(n,i,a),[G4(n.collect,i,a),VB(a)]}function Q4(t){let e=null;return()=>(e==null&&(e=t()),e)}function HB(t,e){return t.filter(n=>n!==e)}function qB(t,e){const n=new Set,i=l=>n.add(l);t.forEach(i),e.forEach(i);const a=[];return n.forEach(l=>a.push(l)),a}class GB{enter(e){const n=this.entered.length,i=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(e));return this.entered=qB(this.entered.filter(i),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=HB(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class $B{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(i=>{const a=this.config.exposeProperties[i];a!=null&&(n[i]={value:a(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Y4="__NATIVE_FILE__",X4="__NATIVE_URL__",W4="__NATIVE_TEXT__",Z4="__NATIVE_HTML__",B2=Object.freeze(Object.defineProperty({__proto__:null,FILE:Y4,HTML:Z4,TEXT:W4,URL:X4},Symbol.toStringTag,{value:"Module"}));function Kg(t,e,n){const i=e.reduce((a,l)=>a||t.getData(l),"");return i??n}const Yy={[Y4]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Z4]:{exposeProperties:{html:(t,e)=>Kg(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[X4]:{exposeProperties:{urls:(t,e)=>Kg(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[W4]:{exposeProperties:{text:(t,e)=>Kg(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function KB(t,e){const n=Yy[t];if(!n)throw new Error(`native type ${t} has no configuration`);const i=new $B(n);return i.loadDataTransfer(e),i}function Qg(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Yy).filter(n=>{const i=Yy[n];return i?.matchesTypes?i.matchesTypes.some(a=>e.indexOf(a)>-1):!1})[0]||null}const QB=Q4(()=>/firefox/i.test(navigator.userAgent)),J4=Q4(()=>!!window.safari);class z2{interpolate(e){const{xs:n,ys:i,c1s:a,c2s:l,c3s:u}=this;let f=n.length-1;if(e===n[f])return i[f];let d=0,p=u.length-1,v;for(;d<=p;){v=Math.floor(.5*(d+p));const S=n[v];if(S<e)d=v+1;else if(S>e)p=v-1;else return i[v]}f=Math.max(0,p);const b=e-n[f],T=b*b;return i[f]+a[f]*b+l[f]*T+u[f]*b*T}constructor(e,n){const{length:i}=e,a=[];for(let S=0;S<i;S++)a.push(S);a.sort((S,M)=>e[S]<e[M]?-1:1);const l=[],u=[];let f,d;for(let S=0;S<i-1;S++)f=e[S+1]-e[S],d=n[S+1]-n[S],l.push(f),u.push(d/f);const p=[u[0]];for(let S=0;S<l.length-1;S++){const M=u[S],j=u[S+1];if(M*j<=0)p.push(0);else{f=l[S];const O=l[S+1],B=f+O;p.push(3*B/((B+O)/M+(B+f)/j))}}p.push(u[u.length-1]);const v=[],b=[];let T;for(let S=0;S<p.length-1;S++){T=u[S];const M=p[S],j=1/l[S],O=M+p[S+1]-T-T;v.push((T-M-O)*j),b.push(O*j*j)}this.xs=e,this.ys=n,this.c1s=p,this.c2s=v,this.c3s=b}}const YB=1;function eR(t){const e=t.nodeType===YB?t:t.parentElement;if(!e)return null;const{top:n,left:i}=e.getBoundingClientRect();return{x:i,y:n}}function Mf(t){return{x:t.clientX,y:t.clientY}}function XB(t){var e;return t.nodeName==="IMG"&&(QB()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function WB(t,e,n,i){let a=t?e.width:n,l=t?e.height:i;return J4()&&t&&(l/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:l}}function ZB(t,e,n,i,a){const l=XB(e),f=eR(l?t:e),d={x:n.x-f.x,y:n.y-f.y},{offsetWidth:p,offsetHeight:v}=t,{anchorX:b,anchorY:T}=i,{dragPreviewWidth:S,dragPreviewHeight:M}=WB(l,e,p,v),j=()=>{let Q=new z2([0,.5,1],[d.y,d.y/v*M,d.y+M-v]).interpolate(T);return J4()&&l&&(Q+=(window.devicePixelRatio-1)*M),Q},O=()=>new z2([0,.5,1],[d.x,d.x/p*S,d.x+S-p]).interpolate(b),{offsetX:B,offsetY:k}=a,G=B===0||B,ce=k===0||k;return{x:G?B:O(),y:ce?k:j()}}class JB{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function ez(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),i.forEach(function(a){ez(t,a,n[a])})}return t}class tz{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,i){return this.sourcePreviewNodeOptions.set(e,i),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,i){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,i);const a=u=>this.handleDragStart(u,e),l=u=>this.handleSelectStart(u);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",a),n.addEventListener("selectstart",l),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",a),n.removeEventListener("selectstart",l),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const i=u=>this.handleDragEnter(u,e),a=u=>this.handleDragOver(u,e),l=u=>this.handleDrop(u,e);return n.addEventListener("dragenter",i),n.addEventListener("dragover",a),n.addEventListener("drop",l),()=>{n.removeEventListener("dragenter",i),n.removeEventListener("dragover",a),n.removeEventListener("drop",l)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return F2({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return F2({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(B2).some(n=>B2[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=KB(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var i;return(i=this.rootElement)===null||i===void 0?void 0:i.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,i){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{const l=this.sourceNodes.get(a);return l&&eR(l)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{const a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;const{dragStartSourceIds:l}=this;this.dragStartSourceIds=null;const u=Mf(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(l||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:u});const{dataTransfer:f}=a,d=Qg(f);if(this.monitor.isDragging()){if(f&&typeof f.setDragImage=="function"){const v=this.monitor.getSourceId(),b=this.sourceNodes.get(v),T=this.sourcePreviewNodes.get(v)||b;if(T){const{anchorX:S,anchorY:M,offsetX:j,offsetY:O}=this.getCurrentSourcePreviewNodeOptions(),G=ZB(b,T,u,{anchorX:S,anchorY:M},{offsetX:j,offsetY:O});f.setDragImage(T,G.x,G.y)}}try{f?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);const{captureDraggingState:p}=this.getCurrentSourcePreviewNodeOptions();p?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(d)this.beginDragNativeItem(d);else{if(f&&!f.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var l;(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;const{dataTransfer:f}=a,d=Qg(f);d&&this.beginDragNativeItem(d,f)},this.handleTopDragEnter=a=>{const{dragEnterTargetIds:l}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,l.length>0&&this.actions.hover(l,{clientOffset:Mf(a)}),l.some(f=>this.monitor.canDropOnTarget(f))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var l;(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{const{dragOverTargetIds:l}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=Mf(a),this.scheduleHover(l),(l||[]).some(f=>this.monitor.canDropOnTarget(f))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var l;a.preventDefault(),(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(a.dataTransfer)}else Qg(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{const{dropTargetIds:l}=this;this.dropTargetIds=[],this.actions.hover(l,{clientOffset:Mf(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{const l=a.target;typeof l.dragDrop=="function"&&(l.tagName==="INPUT"||l.tagName==="SELECT"||l.tagName==="TEXTAREA"||l.isContentEditable||(a.preventDefault(),l.dragDrop()))},this.options=new JB(n,i),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new GB(this.isNodeInDocument)}}const nz=function(e,n,i){return new tz(e,n,i)};var Ku={};(function t(e,n,i,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;var q=new OffscreenCanvas(1,1),w=q.getContext("2d");w.fillRect(0,0,1,1);var K=q.transferToImageBitmap();try{w.createPattern(K,"no-repeat")}catch{return!1}return!0})();function d(){}function p(q){var w=n.exports.Promise,K=w!==void 0?w:e.Promise;return typeof K=="function"?new K(q):(q(d,d),null)}var v=(function(q,w){return{transform:function(K){if(q)return K;if(w.has(K))return w.get(K);var te=new OffscreenCanvas(K.width,K.height),oe=te.getContext("2d");return oe.drawImage(K,0,0),w.set(K,te),te},clear:function(){w.clear()}}})(f,new Map),b=(function(){var q=Math.floor(16.666666666666668),w,K,te={},oe=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(w=function(fe){var pe=Math.random();return te[pe]=requestAnimationFrame(function me(xe){oe===xe||oe+q-1<xe?(oe=xe,delete te[pe],fe()):te[pe]=requestAnimationFrame(me)}),pe},K=function(fe){te[fe]&&cancelAnimationFrame(te[fe])}):(w=function(fe){return setTimeout(fe,q)},K=function(fe){return clearTimeout(fe)}),{frame:w,cancel:K}})(),T=(function(){var q,w,K={};function te(oe){function fe(pe,me){oe.postMessage({options:pe||{},callback:me})}oe.init=function(me){var xe=me.transferControlToOffscreen();oe.postMessage({canvas:xe},[xe])},oe.fire=function(me,xe,Se){if(w)return fe(me,null),w;var tt=Math.random().toString(36).slice(2);return w=p(function(Qe){function it(vt){vt.data.callback===tt&&(delete K[tt],oe.removeEventListener("message",it),w=null,v.clear(),Se(),Qe())}oe.addEventListener("message",it),fe(me,tt),K[tt]=it.bind(null,{data:{callback:tt}})}),w},oe.reset=function(){oe.postMessage({reset:!0});for(var me in K)K[me](),delete K[me]}}return function(){if(q)return q;if(!i&&l){var oe=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{q=new Worker(URL.createObjectURL(new Blob([oe])))}catch(fe){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",fe),null}te(q)}return q}})(),S={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function M(q,w){return w?w(q):q}function j(q){return q!=null}function O(q,w,K){return M(q&&j(q[w])?q[w]:S[w],K)}function B(q){return q<0?0:Math.floor(q)}function k(q,w){return Math.floor(Math.random()*(w-q))+q}function G(q){return parseInt(q,16)}function ce(q){return q.map(ue)}function ue(q){var w=String(q).replace(/[^0-9a-f]/gi,"");return w.length<6&&(w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2]),{r:G(w.substring(0,2)),g:G(w.substring(2,4)),b:G(w.substring(4,6))}}function Q(q){var w=O(q,"origin",Object);return w.x=O(w,"x",Number),w.y=O(w,"y",Number),w}function D(q){q.width=document.documentElement.clientWidth,q.height=document.documentElement.clientHeight}function A(q){var w=q.getBoundingClientRect();q.width=w.width,q.height=w.height}function N(q){var w=document.createElement("canvas");return w.style.position="fixed",w.style.top="0px",w.style.left="0px",w.style.pointerEvents="none",w.style.zIndex=q,w}function V(q,w,K,te,oe,fe,pe,me,xe){q.save(),q.translate(w,K),q.rotate(fe),q.scale(te,oe),q.arc(0,0,1,pe,me,xe),q.restore()}function L(q){var w=q.angle*(Math.PI/180),K=q.spread*(Math.PI/180);return{x:q.x,y:q.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:q.startVelocity*.5+Math.random()*q.startVelocity,angle2D:-w+(.5*K-Math.random()*K),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:q.color,shape:q.shape,tick:0,totalTicks:q.ticks,decay:q.decay,drift:q.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:q.gravity*3,ovalScalar:.6,scalar:q.scalar,flat:q.flat}}function F(q,w){w.x+=Math.cos(w.angle2D)*w.velocity+w.drift,w.y+=Math.sin(w.angle2D)*w.velocity+w.gravity,w.velocity*=w.decay,w.flat?(w.wobble=0,w.wobbleX=w.x+10*w.scalar,w.wobbleY=w.y+10*w.scalar,w.tiltSin=0,w.tiltCos=0,w.random=1):(w.wobble+=w.wobbleSpeed,w.wobbleX=w.x+10*w.scalar*Math.cos(w.wobble),w.wobbleY=w.y+10*w.scalar*Math.sin(w.wobble),w.tiltAngle+=.1,w.tiltSin=Math.sin(w.tiltAngle),w.tiltCos=Math.cos(w.tiltAngle),w.random=Math.random()+2);var K=w.tick++/w.totalTicks,te=w.x+w.random*w.tiltCos,oe=w.y+w.random*w.tiltSin,fe=w.wobbleX+w.random*w.tiltCos,pe=w.wobbleY+w.random*w.tiltSin;if(q.fillStyle="rgba("+w.color.r+", "+w.color.g+", "+w.color.b+", "+(1-K)+")",q.beginPath(),u&&w.shape.type==="path"&&typeof w.shape.path=="string"&&Array.isArray(w.shape.matrix))q.fill(ne(w.shape.path,w.shape.matrix,w.x,w.y,Math.abs(fe-te)*.1,Math.abs(pe-oe)*.1,Math.PI/10*w.wobble));else if(w.shape.type==="bitmap"){var me=Math.PI/10*w.wobble,xe=Math.abs(fe-te)*.1,Se=Math.abs(pe-oe)*.1,tt=w.shape.bitmap.width*w.scalar,Qe=w.shape.bitmap.height*w.scalar,it=new DOMMatrix([Math.cos(me)*xe,Math.sin(me)*xe,-Math.sin(me)*Se,Math.cos(me)*Se,w.x,w.y]);it.multiplySelf(new DOMMatrix(w.shape.matrix));var vt=q.createPattern(v.transform(w.shape.bitmap),"no-repeat");vt.setTransform(it),q.globalAlpha=1-K,q.fillStyle=vt,q.fillRect(w.x-tt/2,w.y-Qe/2,tt,Qe),q.globalAlpha=1}else if(w.shape==="circle")q.ellipse?q.ellipse(w.x,w.y,Math.abs(fe-te)*w.ovalScalar,Math.abs(pe-oe)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI):V(q,w.x,w.y,Math.abs(fe-te)*w.ovalScalar,Math.abs(pe-oe)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI);else if(w.shape==="star")for(var Ie=Math.PI/2*3,kt=4*w.scalar,Wt=8*w.scalar,on=w.x,Sn=w.y,lt=5,nt=Math.PI/lt;lt--;)on=w.x+Math.cos(Ie)*Wt,Sn=w.y+Math.sin(Ie)*Wt,q.lineTo(on,Sn),Ie+=nt,on=w.x+Math.cos(Ie)*kt,Sn=w.y+Math.sin(Ie)*kt,q.lineTo(on,Sn),Ie+=nt;else q.moveTo(Math.floor(w.x),Math.floor(w.y)),q.lineTo(Math.floor(w.wobbleX),Math.floor(oe)),q.lineTo(Math.floor(fe),Math.floor(pe)),q.lineTo(Math.floor(te),Math.floor(w.wobbleY));return q.closePath(),q.fill(),w.tick<w.totalTicks}function P(q,w,K,te,oe){var fe=w.slice(),pe=q.getContext("2d"),me,xe,Se=p(function(tt){function Qe(){me=xe=null,pe.clearRect(0,0,te.width,te.height),v.clear(),oe(),tt()}function it(){i&&!(te.width===a.width&&te.height===a.height)&&(te.width=q.width=a.width,te.height=q.height=a.height),!te.width&&!te.height&&(K(q),te.width=q.width,te.height=q.height),pe.clearRect(0,0,te.width,te.height),fe=fe.filter(function(vt){return F(pe,vt)}),fe.length?me=b.frame(it):Qe()}me=b.frame(it),xe=Qe});return{addFettis:function(tt){return fe=fe.concat(tt),Se},canvas:q,promise:Se,reset:function(){me&&b.cancel(me),xe&&xe()}}}function ke(q,w){var K=!q,te=!!O(w||{},"resize"),oe=!1,fe=O(w,"disableForReducedMotion",Boolean),pe=l&&!!O(w||{},"useWorker"),me=pe?T():null,xe=K?D:A,Se=q&&me?!!q.__confetti_initialized:!1,tt=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Qe;function it(Ie,kt,Wt){for(var on=O(Ie,"particleCount",B),Sn=O(Ie,"angle",Number),lt=O(Ie,"spread",Number),nt=O(Ie,"startVelocity",Number),Br=O(Ie,"decay",Number),Hl=O(Ie,"gravity",Number),uo=O(Ie,"drift",Number),tn=O(Ie,"colors",ce),Ai=O(Ie,"ticks",Number),is=O(Ie,"shapes"),la=O(Ie,"scalar"),zr=!!O(Ie,"flat"),ho=Q(Ie),ca=on,ss=[],fo=q.width*ho.x,Bn=q.height*ho.y;ca--;)ss.push(L({x:fo,y:Bn,angle:Sn,spread:lt,startVelocity:nt,color:tn[ca%tn.length],shape:is[k(0,is.length)],ticks:Ai,decay:Br,gravity:Hl,drift:uo,scalar:la,flat:zr}));return Qe?Qe.addFettis(ss):(Qe=P(q,ss,xe,kt,Wt),Qe.promise)}function vt(Ie){var kt=fe||O(Ie,"disableForReducedMotion",Boolean),Wt=O(Ie,"zIndex",Number);if(kt&&tt)return p(function(nt){nt()});K&&Qe?q=Qe.canvas:K&&!q&&(q=N(Wt),document.body.appendChild(q)),te&&!Se&&xe(q);var on={width:q.width,height:q.height};me&&!Se&&me.init(q),Se=!0,me&&(q.__confetti_initialized=!0);function Sn(){if(me){var nt={getBoundingClientRect:function(){if(!K)return q.getBoundingClientRect()}};xe(nt),me.postMessage({resize:{width:nt.width,height:nt.height}});return}on.width=on.height=null}function lt(){Qe=null,te&&(oe=!1,e.removeEventListener("resize",Sn)),K&&q&&(document.body.contains(q)&&document.body.removeChild(q),q=null,Se=!1)}return te&&!oe&&(oe=!0,e.addEventListener("resize",Sn,!1)),me?me.fire(Ie,on,lt):it(Ie,on,lt)}return vt.reset=function(){me&&me.reset(),Qe&&Qe.reset()},vt}var de;function H(){return de||(de=ke(null,{useWorker:!0,resize:!0})),de}function ne(q,w,K,te,oe,fe,pe){var me=new Path2D(q),xe=new Path2D;xe.addPath(me,new DOMMatrix(w));var Se=new Path2D;return Se.addPath(xe,new DOMMatrix([Math.cos(pe)*oe,Math.sin(pe)*oe,-Math.sin(pe)*fe,Math.cos(pe)*fe,K,te])),Se}function he(q){if(!u)throw new Error("path confetti are not supported in this browser");var w,K;typeof q=="string"?w=q:(w=q.path,K=q.matrix);var te=new Path2D(w),oe=document.createElement("canvas"),fe=oe.getContext("2d");if(!K){for(var pe=1e3,me=pe,xe=pe,Se=0,tt=0,Qe,it,vt=0;vt<pe;vt+=2)for(var Ie=0;Ie<pe;Ie+=2)fe.isPointInPath(te,vt,Ie,"nonzero")&&(me=Math.min(me,vt),xe=Math.min(xe,Ie),Se=Math.max(Se,vt),tt=Math.max(tt,Ie));Qe=Se-me,it=tt-xe;var kt=10,Wt=Math.min(kt/Qe,kt/it);K=[Wt,0,0,Wt,-Math.round(Qe/2+me)*Wt,-Math.round(it/2+xe)*Wt]}return{type:"path",path:w,matrix:K}}function be(q){var w,K=1,te="#000000",oe='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof q=="string"?w=q:(w=q.text,K="scalar"in q?q.scalar:K,oe="fontFamily"in q?q.fontFamily:oe,te="color"in q?q.color:te);var fe=10*K,pe=""+fe+"px "+oe,me=new OffscreenCanvas(fe,fe),xe=me.getContext("2d");xe.font=pe;var Se=xe.measureText(w),tt=Math.ceil(Se.actualBoundingBoxRight+Se.actualBoundingBoxLeft),Qe=Math.ceil(Se.actualBoundingBoxAscent+Se.actualBoundingBoxDescent),it=2,vt=Se.actualBoundingBoxLeft+it,Ie=Se.actualBoundingBoxAscent+it;tt+=it+it,Qe+=it+it,me=new OffscreenCanvas(tt,Qe),xe=me.getContext("2d"),xe.font=pe,xe.fillStyle=te,xe.fillText(w,vt,Ie);var kt=1/K;return{type:"bitmap",bitmap:me.transferToImageBitmap(),matrix:[kt,0,0,kt,-tt*kt/2,-Qe*kt/2]}}n.exports=function(){return H().apply(this,arguments)},n.exports.reset=function(){H().reset()},n.exports.create=ke,n.exports.shapeFromPath=he,n.exports.shapeFromText=be})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Ku,!1);const rz=Ku.exports;Ku.exports.create;const iz=({item:t,index:e})=>{const[{isDragging:n},i]=PB(()=>({type:"ITEM",item:{item:t,index:e},collect:a=>({isDragging:!!a.isDragging()})}));return y.jsx("div",{ref:i,className:`bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-3 rounded-lg cursor-move shadow-lg hover:shadow-xl transition-all ${n?"opacity-50":"opacity-100"}`,children:t})},sz=({match:t,onDrop:e,droppedItem:n})=>{const[{isOver:i},a]=FB(()=>({accept:"ITEM",drop:l=>e(l.item,t),collect:l=>({isOver:!!l.isOver()})}));return y.jsxs("div",{ref:a,className:`border-2 border-dashed rounded-lg p-4 min-h-[60px] transition-all ${i?"border-blue-500 bg-blue-50":n?"border-green-500 bg-green-50":"border-gray-300 bg-gray-50"}`,children:[y.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:t}),n&&y.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-3 py-2 rounded-lg text-sm",children:n})]})},az=()=>{const{examId:t}=Z2(),e=Ol(),{currentUser:n,userProfile:i,updateUserProfile:a}=Si(),[l,u]=I.useState(null),[f,d]=I.useState([]),[p,v]=I.useState(0),[b,T]=I.useState({}),[S,M]=I.useState(0),[j,O]=I.useState(!0),[B,k]=I.useState(!1),[G,ce]=I.useState({});I.useEffect(()=>{ue()},[t]),I.useEffect(()=>{if(S>0){const H=setTimeout(()=>M(S-1),1e3);return()=>clearTimeout(H)}else S===0&&l&&L()},[S,l]);const ue=async()=>{try{O(!0);const H=await We.getOne("exams",t);if(!H){alert("Exam not found"),e("/student/exams");return}u(H);const ne=Number(H.duration)||0;M(ne*60);const he=Array.isArray(H.questions)?H.questions:[];if(he.length===0){console.warn("Exam has no questions configured"),d([]),O(!1);return}const be=he.map(w=>We.getOne("questions",w)),q=await Promise.all(be);d(q.filter(w=>w&&typeof w=="object").map(w=>({...w,type:w.type||"mcq"})))}catch(H){console.error("Error loading exam:",H),alert("Failed to load exam"),e("/student/exams")}finally{O(!1)}},Q=H=>{T({...b,[p]:H})},D=(H,ne)=>{const he=G[p]||{};ce({...G,[p]:{...he,[ne]:H}});const be=Object.entries({...he,[ne]:H}).map(([q,w])=>({item:w,match:q}));Q(be)},A=()=>{p<f.length-1&&v(p+1)},N=()=>{p>0&&v(p-1)},V=()=>{let H=0,ne=0;return f.forEach((he,be)=>{const q=Number(he?.points)||0;ne+=q;const w=b[be];if(!w)return;const K=he?.type;if(K==="drag-drop"){const te=Array.isArray(he?.correctAnswer)?he.correctAnswer:[],oe=w;if(Array.isArray(oe)&&Array.isArray(te)){let fe=0;oe.forEach(pe=>{te.some(xe=>xe.item===pe.item&&xe.match===pe.match)&&fe++}),te.length>0&&fe===te.length&&(H+=q)}}else K==="short-answer"?typeof w=="string"&&typeof he?.correctAnswer=="string"&&w.toLowerCase().trim()===he.correctAnswer.toLowerCase().trim()&&(H+=q):(Array.isArray(he?.correctAnswer)&&JSON.stringify(w)===JSON.stringify(he.correctAnswer)||w===he?.correctAnswer)&&(H+=q)}),{score:H,totalPoints:ne}},L=async()=>{if(B)return;const H=f.length-Object.keys(b).length;if(!(H>0&&S>0&&!window.confirm(`You have ${H} unanswered questions. Submit anyway?`))){k(!0);try{if(!n||!i){alert("You must be signed in to submit the exam."),k(!1);return}const{score:ne,totalPoints:he}=V(),be=he>0?ne/he*100:0,q={examId:t,examTitle:l.title,studentId:n.uid,studentName:i.displayName,answers:Object.entries(b).map(([oe,fe])=>{const pe=parseInt(oe,10),me=f[pe]||{};return{questionIndex:pe,questionId:me.id||null,answer:fe}}),score:ne,totalPoints:he,percentage:Math.round(be),completedAt:new Date,timeTaken:l.duration*60-S};await We.create("examResults",q);const w=Math.round(ne),K=(i.points||0)+w,te=Math.floor(K/100)+1;await a({points:K,level:te}),be>=(l.passingScore||60)&&rz({particleCount:100,spread:70,origin:{y:.6}}),e(`/student/exam-result/${t}`,{state:{score:ne,totalPoints:he,percentage:be,pointsEarned:w}})}catch(ne){console.error("Error submitting exam:",ne),alert("Failed to submit exam. Please try again."),k(!1)}}},F=H=>{const ne=Math.floor(H/60),he=H%60;return`${ne}:${he.toString().padStart(2,"0")}`};if(j)return y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-b-4 border-purple-600"}),y.jsx("p",{className:"mt-4 text-gray-600 text-lg",children:"Loading exam..."})]})});if(!l)return y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsxs("div",{className:"card text-center",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Exam unavailable"}),y.jsx("p",{className:"text-gray-600",children:"We couldn't load this exam right now. Please try again later."})]})});if(f.length===0)return y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsxs("div",{className:"card text-center",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No questions available"}),y.jsx("p",{className:"text-gray-600",children:"This exam doesn't have any questions yet. Please contact your instructor."})]})});const P=f[p]||{},ke=P.type||"mcq",de=f.length?(p+1)/f.length*100:0;return y.jsx(cB,{backend:nz,children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"card mb-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:l.title}),y.jsxs("p",{className:"text-gray-600",children:["Question ",p+1," of ",f.length]})]}),y.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg font-semibold ${S<300?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:[y.jsx(av,{}),y.jsx("span",{children:F(S)})]})]}),y.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:y.jsx(Jt.div,{className:"progress-bar h-full",initial:{width:0},animate:{width:`${de}%`},transition:{duration:.3}})})]}),y.jsx(Mv,{mode:"wait",children:y.jsxs(Jt.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"card",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("span",{className:"badge bg-purple-100 text-purple-800",children:ke.replace("-"," ")}),y.jsx("span",{className:"badge bg-blue-100 text-blue-800",children:P.category||"General"}),y.jsxs("span",{className:"badge bg-yellow-100 text-yellow-800",children:[P.points??0," points"]})]}),ke==="reading-comprehension"&&P.passage&&y.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-6 rounded-lg mb-6",children:[y.jsx("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:"📖 Reading Passage"}),y.jsx("p",{className:"text-gray-700 leading-relaxed font-serif whitespace-pre-wrap",children:P.passage})]}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:P.question||"This question is unavailable."}),P.imageUrl&&y.jsx("div",{className:"mb-6",children:y.jsx("img",{src:P.imageUrl,alt:"Question",className:"w-full max-h-96 object-contain rounded-lg border-2 border-gray-200"})}),y.jsxs("div",{className:"space-y-4 mt-6",children:[(ke==="mcq"||ke==="reading-comprehension")&&P&&y.jsx("div",{className:"space-y-3",children:(Array.isArray(P.options)?P.options:[]).map((H,ne)=>y.jsx(Jt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>Q(H),className:`w-full text-left p-4 rounded-xl border-2 transition-all ${b[p]===H?"border-purple-500 bg-purple-50 shadow-lg":"border-gray-200 hover:border-purple-300 hover:bg-purple-50/50"}`,children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${b[p]===H?"border-purple-500 bg-purple-500":"border-gray-300"}`,children:b[p]===H&&y.jsx(_d,{className:"text-white text-sm"})}),y.jsx("span",{className:"font-medium text-gray-700",children:H})]})},ne))}),ke==="true-false"&&y.jsx("div",{className:"grid grid-cols-2 gap-4",children:["true","false"].map(H=>y.jsx(Jt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Q(H),className:`p-6 rounded-xl border-2 font-semibold text-lg transition-all ${b[p]===H?"border-purple-500 bg-purple-50 shadow-lg":"border-gray-200 hover:border-purple-300"}`,children:H==="true"?"✓ True":"✗ False"},H))}),ke==="short-answer"&&y.jsx("input",{type:"text",value:b[p]||"",onChange:H=>Q(H.target.value),placeholder:"Type your answer here...",className:"w-full p-4 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-purple-500 transition-all"}),ke==="drag-drop"&&y.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"font-semibold text-gray-700",children:"Items"}),(Array.isArray(P.items)?P.items:[]).map((H,ne)=>y.jsx(iz,{item:H,index:ne},ne))]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"font-semibold text-gray-700",children:"Matches"}),(Array.isArray(P.matches)?P.matches:[]).map((H,ne)=>y.jsx(sz,{match:H,onDrop:D,droppedItem:Object.values(G[p]||{}).find(he=>he.match===H)?.item},ne))]})]})]}),y.jsxs("div",{className:"flex justify-between mt-8",children:[y.jsxs(Jt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:N,disabled:p===0||B,className:"btn btn-secondary",children:[y.jsx(Fj,{className:"inline-block mr-2"})," Previous"]}),p<f.length-1?y.jsxs(Jt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:A,disabled:B,className:"btn btn-primary",children:["Next ",y.jsx(Hj,{className:"inline-block ml-2"})]}):y.jsx(Jt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:L,disabled:B,className:"btn btn-success",children:B?"Submitting...":"Submit Exam"})]})]},p)})]})})},oz=()=>{const{examId:t}=Z2(),[e,n]=I.useState(null),[i,a]=I.useState(!0);I.useEffect(()=>{l()},[t]);const l=async()=>{try{const f=(await We.getAll("examResults")).find(d=>d.examId===t);n(f)}catch(u){console.error("Error:",u)}finally{a(!1)}};return i?y.jsx("div",{className:"text-center py-12",children:y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):e?y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"card text-center bg-gradient-to-br from-purple-600 to-pink-600 text-white",children:[y.jsx(xi,{className:"text-6xl mx-auto mb-4"}),y.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Exam Completed!"}),y.jsx("p",{className:"text-xl",children:e.examTitle})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"card text-center",children:[y.jsx("p",{className:"text-gray-600 mb-2",children:"Your Score"}),y.jsxs("p",{className:"text-4xl font-bold text-purple-600",children:[e.score,"/",e.totalPoints]})]}),y.jsxs("div",{className:"card text-center",children:[y.jsx("p",{className:"text-gray-600 mb-2",children:"Percentage"}),y.jsxs("p",{className:"text-4xl font-bold text-blue-600",children:[e.percentage,"%"]})]}),y.jsxs("div",{className:"card text-center",children:[y.jsx("p",{className:"text-gray-600 mb-2",children:"Status"}),y.jsx("p",{className:`text-2xl font-bold ${e.passed?"text-green-600":"text-red-600"}`,children:e.passed?"PASSED":"FAILED"})]})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx(yr,{to:"/student/exams",className:"btn-primary flex-1 text-center",children:"Take Another Exam"}),y.jsx(yr,{to:"/student/results",className:"btn-secondary flex-1 text-center",children:"View All Results"})]})]}):y.jsxs("div",{className:"card text-center py-12",children:[y.jsx("p",{className:"text-gray-600 mb-4",children:"Result not found"}),y.jsx(yr,{to:"/student/results",className:"btn-primary",children:"View All Results"})]})},lz=()=>{const{userProfile:t}=Si(),[e,n]=I.useState([]),[i,a]=I.useState(!0);I.useEffect(()=>{l()},[]);const l=async()=>{try{const u=await We.getWhere("examResults","studentId","==",t.uid);n(u.sort((f,d)=>(d.completedAt?.seconds||0)-(f.completedAt?.seconds||0)))}catch(u){console.error("Error:",u)}finally{a(!1)}};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Exam Results"}),y.jsx("p",{className:"text-gray-600 mt-1",children:"Your complete exam history"})]}),i?y.jsx("div",{className:"text-center py-12",children:y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):e.length===0?y.jsxs("div",{className:"card text-center py-12",children:[y.jsx(Ti,{className:"text-6xl text-gray-300 mx-auto mb-4"}),y.jsx("p",{className:"text-gray-600",children:"No exam results yet"})]}):y.jsx("div",{className:"card overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"border-b",children:[y.jsx("th",{className:"text-left py-3 px-4",children:"Exam"}),y.jsx("th",{className:"text-center py-3 px-4",children:"Score"}),y.jsx("th",{className:"text-center py-3 px-4",children:"Percentage"}),y.jsx("th",{className:"text-center py-3 px-4",children:"Status"}),y.jsx("th",{className:"text-left py-3 px-4",children:"Date"})]})}),y.jsx("tbody",{children:e.map((u,f)=>y.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[y.jsx("td",{className:"py-3 px-4 font-semibold",children:u.examTitle}),y.jsxs("td",{className:"py-3 px-4 text-center",children:[u.score,"/",u.totalPoints]}),y.jsx("td",{className:"py-3 px-4 text-center",children:y.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${u.percentage>=80?"bg-green-100 text-green-800":u.percentage>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[u.percentage,"%"]})}),y.jsx("td",{className:"py-3 px-4 text-center",children:y.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${u.passed?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.passed?"Passed":"Failed"})}),y.jsx("td",{className:"py-3 px-4 text-sm",children:u.completedAt&&new Date(u.completedAt.seconds*1e3).toLocaleString()})]},f))})]})})]})},cz=()=>{const[t,e]=I.useState([]),[n,i]=I.useState(!0);I.useEffect(()=>{a()},[]);const a=async()=>{try{const u=(await We.getAll("users")).filter(f=>f.role==="student").map(f=>({...f,points:f.points||0,level:f.level||1})).sort((f,d)=>d.points-f.points);e(u)}catch(l){console.error("Error:",l)}finally{i(!1)}};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Leaderboard"}),y.jsx("p",{className:"text-gray-600 mt-1",children:"Top students by points"})]}),n?y.jsx("div",{className:"text-center py-12",children:y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):t.length===0?y.jsxs("div",{className:"card text-center py-12",children:[y.jsx(xi,{className:"text-6xl text-gray-300 mx-auto mb-4"}),y.jsx("p",{className:"text-gray-600",children:"No students yet"})]}):y.jsx("div",{className:"space-y-3",children:t.map((l,u)=>y.jsx("div",{className:`card ${u<3?"border-2 border-yellow-400":""}`,children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"text-3xl font-bold text-gray-400 w-12 text-center",children:u===0?"🥇":u===1?"🥈":u===2?"🥉":`#${u+1}`}),y.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[l.photoURL?y.jsx("img",{src:l.photoURL,alt:"",className:"w-12 h-12 rounded-full"}):y.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-600 flex items-center justify-center text-white font-bold text-xl",children:l.displayName?.charAt(0)||"U"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-lg",children:l.displayName||"Unknown"}),y.jsxs("p",{className:"text-sm text-gray-600",children:["Level ",l.level]})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-2xl font-bold text-purple-600",children:l.points}),y.jsx("p",{className:"text-sm text-gray-600",children:"points"})]})]})},l.uid))})]})},H2=({children:t,adminOnly:e=!1})=>{const{currentUser:n,userProfile:i,loading:a}=Si();return a?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-b-4 border-purple-600"}),y.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?e&&i?.role!=="admin"?y.jsx(hl,{to:"/student",replace:!0}):!e&&i?.role==="admin"?y.jsx(hl,{to:"/admin",replace:!0}):t:y.jsx(hl,{to:"/",replace:!0})};function uz(){const{currentUser:t,userProfile:e}=Si();return y.jsxs(MD,{children:[y.jsx(bn,{path:"/",element:t?e?.role==="admin"?y.jsx(hl,{to:"/admin",replace:!0}):y.jsx(hl,{to:"/student",replace:!0}):y.jsx(V7,{})}),y.jsxs(bn,{path:"/admin",element:y.jsx(H2,{adminOnly:!0,children:y.jsx(j7,{})}),children:[y.jsx(bn,{index:!0,element:y.jsx(L7,{})}),y.jsx(bn,{path:"questions",element:y.jsx(B7,{})}),y.jsx(bn,{path:"categories",element:y.jsx(z7,{})}),y.jsx(bn,{path:"exams",element:y.jsx(F7,{})}),y.jsx(bn,{path:"students",element:y.jsx(H7,{})})]}),y.jsxs(bn,{path:"/student",element:y.jsx(H2,{children:y.jsx(q7,{})}),children:[y.jsx(bn,{index:!0,element:y.jsx(G7,{})}),y.jsx(bn,{path:"exams",element:y.jsx($7,{})}),y.jsx(bn,{path:"exam/:examId",element:y.jsx(az,{})}),y.jsx(bn,{path:"exam-result/:examId",element:y.jsx(oz,{})}),y.jsx(bn,{path:"results",element:y.jsx(lz,{})}),y.jsx(bn,{path:"leaderboard",element:y.jsx(cz,{})})]}),y.jsx(bn,{path:"*",element:y.jsx(hl,{to:"/",replace:!0})})]})}function hz(){return y.jsx(n6,{basename:"/exam-quest-platform",children:y.jsx(Mj,{children:y.jsx(uz,{})})})}zN.createRoot(document.getElementById("root")).render(y.jsx(I.StrictMode,{children:y.jsx(hz,{})}))});export default fz();
